var E2=Object.create;var Xv=Object.defineProperty,I2=Object.defineProperties,C2=Object.getOwnPropertyDescriptor,T2=Object.getOwnPropertyDescriptors,D2=Object.getOwnPropertyNames,Jf=Object.getOwnPropertySymbols,nD=Object.getPrototypeOf,e_=Object.prototype.hasOwnProperty,rD=Object.prototype.propertyIsEnumerable,S2=Reflect.get;var tD=(n,e,t)=>e in n?Xv(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ne=(n,e)=>{for(var t in e||={})e_.call(e,t)&&tD(n,t,e[t]);if(Jf)for(var t of Jf(e))rD.call(e,t)&&tD(n,t,e[t]);return n},$e=(n,e)=>I2(n,T2(e));var Xf=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var ep=(n,e)=>{var t={};for(var r in n)e_.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Jf)for(var r of Jf(n))e.indexOf(r)<0&&rD.call(n,r)&&(t[r]=n[r]);return t};var t_=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var A2=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of D2(e))!e_.call(n,i)&&i!==t&&Xv(n,i,{get:()=>e[i],enumerable:!(r=C2(e,i))||r.enumerable});return n};var Yo=(n,e,t)=>(t=n!=null?E2(nD(n)):{},A2(e||!n||!n.__esModule?Xv(t,"default",{value:n,enumerable:!0}):t,n));var Qs=(n,e,t)=>S2(nD(n),t,e);var D=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(h){i(h)}},s=l=>{try{a(t.throw(l))}catch(h){i(h)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});var Ga=t_((So,wT)=>{"use strict";(function(n,e){typeof So=="object"&&typeof wT<"u"?wT.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(So,function(){"use strict";var n={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};let e="swal2-",t=f=>{let p={};for(let w in f)p[f[w]]=e+f[w];return p},r=t(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),i=t(["success","warning","info","question","error"]),o="SweetAlert2:",s=f=>{let p=[];for(let w=0;w<f.length;w++)p.indexOf(f[w])===-1&&p.push(f[w]);return p},a=f=>f.charAt(0).toUpperCase()+f.slice(1),l=f=>{console.warn(`${o} ${typeof f=="object"?f.join(" "):f}`)},h=f=>{console.error(`${o} ${f}`)},y=[],b=f=>{y.includes(f)||(y.push(f),l(f))},C=(f,p)=>{b(`"${f}" is deprecated and will be removed in the next major release. Please use "${p}" instead.`)},T=f=>typeof f=="function"?f():f,P=f=>f&&typeof f.toPromise=="function",z=f=>P(f)?f.toPromise():Promise.resolve(f),$=f=>f&&Promise.resolve(f)===f,K=()=>document.body.querySelector(`.${r.container}`),se=f=>{let p=K();return p?p.querySelector(f):null},J=f=>se(`.${f}`),ee=()=>J(r.popup),Ie=()=>J(r.icon),pe=()=>J(r["icon-content"]),F=()=>J(r.title),A=()=>J(r["html-container"]),N=()=>J(r.image),L=()=>J(r["progress-steps"]),V=()=>J(r["validation-message"]),B=()=>se(`.${r.actions} .${r.confirm}`),R=()=>se(`.${r.actions} .${r.deny}`),Gn=()=>J(r["input-label"]),Rn=()=>se(`.${r.loader}`),ni=()=>se(`.${r.actions} .${r.cancel}`),pr=()=>J(r.actions),sn=()=>J(r.footer),Vr=()=>J(r["timer-progress-bar"]),ri=()=>J(r.close),Ya=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,an=()=>{let f=Array.from(ee().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((w,x)=>{let W=parseInt(w.getAttribute("tabindex")),me=parseInt(x.getAttribute("tabindex"));return W>me?1:W<me?-1:0}),p=Array.from(ee().querySelectorAll(Ya)).filter(w=>w.getAttribute("tabindex")!=="-1");return s(f.concat(p)).filter(w=>gn(w))},ae=()=>gr(document.body,r.shown)&&!gr(document.body,r["toast-shown"])&&!gr(document.body,r["no-backdrop"]),xs=()=>ee()&&gr(ee(),r.toast),xo=()=>ee().hasAttribute("data-loading"),mr={previousBodyPadding:null},Ut=(f,p)=>{if(f.textContent="",p){let x=new DOMParser().parseFromString(p,"text/html");Array.from(x.querySelector("head").childNodes).forEach(W=>{f.appendChild(W)}),Array.from(x.querySelector("body").childNodes).forEach(W=>{W instanceof HTMLVideoElement||W instanceof HTMLAudioElement?f.appendChild(W.cloneNode(!0)):f.appendChild(W)})}},gr=(f,p)=>{if(!p)return!1;let w=p.split(/\s+/);for(let x=0;x<w.length;x++)if(!f.classList.contains(w[x]))return!1;return!0},Ad=(f,p)=>{Array.from(f.classList).forEach(w=>{!Object.values(r).includes(w)&&!Object.values(i).includes(w)&&!Object.values(p.showClass).includes(w)&&f.classList.remove(w)})},cn=(f,p,w)=>{if(Ad(f,p),p.customClass&&p.customClass[w]){if(typeof p.customClass[w]!="string"&&!p.customClass[w].forEach){l(`Invalid type of customClass.${w}! Expected string or iterable object, got "${typeof p.customClass[w]}"`);return}Be(f,p.customClass[w])}},zi=(f,p)=>{if(!p)return null;switch(p){case"select":case"textarea":case"file":return f.querySelector(`.${r.popup} > .${r[p]}`);case"checkbox":return f.querySelector(`.${r.popup} > .${r.checkbox} input`);case"radio":return f.querySelector(`.${r.popup} > .${r.radio} input:checked`)||f.querySelector(`.${r.popup} > .${r.radio} input:first-child`);case"range":return f.querySelector(`.${r.popup} > .${r.range} input`);default:return f.querySelector(`.${r.popup} > .${r.input}`)}},Ms=f=>{if(f.focus(),f.type!=="file"){let p=f.value;f.value="",f.value=p}},Rs=(f,p,w)=>{!f||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(x=>{Array.isArray(f)?f.forEach(W=>{w?W.classList.add(x):W.classList.remove(x)}):w?f.classList.add(x):f.classList.remove(x)}))},Be=(f,p)=>{Rs(f,p,!0)},Pn=(f,p)=>{Rs(f,p,!1)},yr=(f,p)=>{let w=Array.from(f.children);for(let x=0;x<w.length;x++){let W=w[x];if(W instanceof HTMLElement&&gr(W,p))return W}},ii=(f,p,w)=>{w===`${parseInt(w)}`&&(w=parseInt(w)),w||parseInt(w)===0?f.style[p]=typeof w=="number"?`${w}px`:w:f.style.removeProperty(p)},jt=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";f.style.display=p},st=f=>{f.style.display="none"},Mo=(f,p,w,x)=>{let W=f.querySelector(p);W&&(W.style[w]=x)},qi=function(f,p){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?jt(f,w):st(f)},gn=f=>!!(f&&(f.offsetWidth||f.offsetHeight||f.getClientRects().length)),sl=()=>!gn(B())&&!gn(R())&&!gn(ni()),Kt=f=>f.scrollHeight>f.clientHeight,Ro=f=>{let p=window.getComputedStyle(f),w=parseFloat(p.getPropertyValue("animation-duration")||"0"),x=parseFloat(p.getPropertyValue("transition-duration")||"0");return w>0||x>0},oi=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=Vr();gn(w)&&(p&&(w.style.transition="none",w.style.width="100%"),setTimeout(()=>{w.style.transition=`width ${f/1e3}s linear`,w.style.width="0%"},10))},Nt=()=>{let f=Vr(),p=parseInt(window.getComputedStyle(f).width);f.style.removeProperty("transition"),f.style.width="100%";let w=parseInt(window.getComputedStyle(f).width),x=p/w*100;f.style.removeProperty("transition"),f.style.width=`${x}%`},Pe=100,xe={},Ka=()=>{xe.previousActiveElement instanceof HTMLElement?(xe.previousActiveElement.focus(),xe.previousActiveElement=null):document.body&&document.body.focus()},Po=f=>new Promise(p=>{if(!f)return p();let w=window.scrollX,x=window.scrollY;xe.restoreFocusTimeout=setTimeout(()=>{Ka(),p()},Pe),window.scrollTo(w,x)}),Ps=()=>typeof window>"u"||typeof document>"u",Ur=`
 <div aria-labelledby="${r.title}" aria-describedby="${r["html-container"]}" class="${r.popup}" tabindex="-1">
   <button type="button" class="${r.close}"></button>
   <ul class="${r["progress-steps"]}"></ul>
   <div class="${r.icon}"></div>
   <img class="${r.image}" />
   <h2 class="${r.title}" id="${r.title}"></h2>
   <div class="${r["html-container"]}" id="${r["html-container"]}"></div>
   <input class="${r.input}" />
   <input type="file" class="${r.file}" />
   <div class="${r.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${r.select}"></select>
   <div class="${r.radio}"></div>
   <label for="${r.checkbox}" class="${r.checkbox}">
     <input type="checkbox" />
     <span class="${r.label}"></span>
   </label>
   <textarea class="${r.textarea}"></textarea>
   <div class="${r["validation-message"]}" id="${r["validation-message"]}"></div>
   <div class="${r.actions}">
     <div class="${r.loader}"></div>
     <button type="button" class="${r.confirm}"></button>
     <button type="button" class="${r.deny}"></button>
     <button type="button" class="${r.cancel}"></button>
   </div>
   <div class="${r.footer}"></div>
   <div class="${r["timer-progress-bar-container"]}">
     <div class="${r["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),si=()=>{let f=K();return f?(f.remove(),Pn([document.documentElement,document.body],[r["no-backdrop"],r["toast-shown"],r["has-column"]]),!0):!1},Wn=()=>{xe.currentInstance.resetValidationMessage()},Qa=()=>{let f=ee(),p=yr(f,r.input),w=yr(f,r.file),x=f.querySelector(`.${r.range} input`),W=f.querySelector(`.${r.range} output`),me=yr(f,r.select),Ft=f.querySelector(`.${r.checkbox} input`),Yr=yr(f,r.textarea);p.oninput=Wn,w.onchange=Wn,me.onchange=Wn,Ft.onchange=Wn,Yr.oninput=Wn,x.oninput=()=>{Wn(),W.value=x.value},x.onchange=()=>{Wn(),W.value=x.value}},Ns=f=>typeof f=="string"?document.querySelector(f):f,xd=f=>{let p=ee();p.setAttribute("role",f.toast?"alert":"dialog"),p.setAttribute("aria-live",f.toast?"polite":"assertive"),f.toast||p.setAttribute("aria-modal","true")},ai=f=>{window.getComputedStyle(f).direction==="rtl"&&Be(K(),r.rtl)},ci=f=>{let p=si();if(Ps()){h("SweetAlert2 requires document to initialize");return}let w=document.createElement("div");w.className=r.container,p&&Be(w,r["no-transition"]),Ut(w,Ur);let x=Ns(f.target);x.appendChild(w),xd(f),ai(x),Qa()},Gi=(f,p)=>{f instanceof HTMLElement?p.appendChild(f):typeof f=="object"?jr(f,p):f&&Ut(p,f)},jr=(f,p)=>{f.jquery?le(p,f):Ut(p,f.toString())},le=(f,p)=>{if(f.textContent="",0 in p)for(let w=0;w in p;w++)f.appendChild(p[w].cloneNode(!0));else f.appendChild(p.cloneNode(!0))},li=(()=>{if(Ps())return!1;let f=document.createElement("div"),p={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(let w in p)if(Object.prototype.hasOwnProperty.call(p,w)&&typeof f.style[w]<"u")return p[w];return!1})(),ui=()=>{let f=document.createElement("div");f.className=r["scrollbar-measure"],document.body.appendChild(f);let p=f.getBoundingClientRect().width-f.clientWidth;return document.body.removeChild(f),p},nr=(f,p)=>{let w=pr(),x=Rn();!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?st(w):jt(w),cn(w,p,"actions"),ln(w,x,p),Ut(x,p.loaderHtml),cn(x,p,"loader")};function ln(f,p,w){let x=B(),W=R(),me=ni();vr(x,"confirm",w),vr(W,"deny",w),vr(me,"cancel",w),Le(x,W,me,w),w.reverseButtons&&(w.toast?(f.insertBefore(me,x),f.insertBefore(W,x)):(f.insertBefore(me,p),f.insertBefore(W,p),f.insertBefore(x,p)))}function Le(f,p,w,x){if(!x.buttonsStyling){Pn([f,p,w],r.styled);return}Be([f,p,w],r.styled),x.confirmButtonColor&&(f.style.backgroundColor=x.confirmButtonColor,Be(f,r["default-outline"])),x.denyButtonColor&&(p.style.backgroundColor=x.denyButtonColor,Be(p,r["default-outline"])),x.cancelButtonColor&&(w.style.backgroundColor=x.cancelButtonColor,Be(w,r["default-outline"]))}function vr(f,p,w){qi(f,w[`show${a(p)}Button`],"inline-block"),Ut(f,w[`${p}ButtonText`]),f.setAttribute("aria-label",w[`${p}ButtonAriaLabel`]),f.className=r[p],cn(f,w,`${p}Button`),Be(f,w[`${p}ButtonClass`])}let rt=(f,p)=>{let w=ri();Ut(w,p.closeButtonHtml),cn(w,p,"closeButton"),qi(w,p.showCloseButton),w.setAttribute("aria-label",p.closeButtonAriaLabel)},kt=(f,p)=>{let w=K();w&&(al(w,p.backdrop),Br(w,p.position),St(w,p.grow),cn(w,p,"container"))};function al(f,p){typeof p=="string"?f.style.background=p:p||Be([document.documentElement,document.body],r["no-backdrop"])}function Br(f,p){p in r?Be(f,r[p]):(l('The "position" parameter is not valid, defaulting to "center"'),Be(f,r.center))}function St(f,p){if(p&&typeof p=="string"){let w=`grow-${p}`;w in r&&Be(f,r[w])}}let _r=["input","file","range","select","radio","checkbox","textarea"],rr=(f,p)=>{let w=ee(),x=n.innerParams.get(f),W=!x||p.input!==x.input;_r.forEach(me=>{let Ft=yr(w,r[me]);wr(me,p.inputAttributes),Ft.className=r[me],W&&st(Ft)}),p.input&&(W&&mt(p),ir(p))},mt=f=>{if(!un[f.input]){h(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${f.input}"`);return}let p=br(f.input),w=un[f.input](p,f);jt(p),setTimeout(()=>{Ms(w)})},Yn=f=>{for(let p=0;p<f.attributes.length;p++){let w=f.attributes[p].name;["type","value","style"].includes(w)||f.removeAttribute(w)}},wr=(f,p)=>{let w=zi(ee(),f);if(w){Yn(w);for(let x in p)w.setAttribute(x,p[x])}},ir=f=>{let p=br(f.input);typeof f.customClass=="object"&&Be(p,f.customClass.input)},ks=(f,p)=>{(!f.placeholder||p.inputPlaceholder)&&(f.placeholder=p.inputPlaceholder)},di=(f,p,w)=>{if(w.inputLabel){f.id=r.input;let x=document.createElement("label"),W=r["input-label"];x.setAttribute("for",f.id),x.className=W,typeof w.customClass=="object"&&Be(x,w.customClass.inputLabel),x.innerText=w.inputLabel,p.insertAdjacentElement("beforebegin",x)}},br=f=>yr(ee(),r[f]||r.input),Nn=(f,p)=>{["string","number"].includes(typeof p)?f.value=`${p}`:$(p)||l(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof p}"`)},un={};un.text=un.email=un.password=un.number=un.tel=un.url=(f,p)=>(Nn(f,p.inputValue),di(f,f,p),ks(f,p),f.type=p.input,f),un.file=(f,p)=>(di(f,f,p),ks(f,p),f),un.range=(f,p)=>{let w=f.querySelector("input"),x=f.querySelector("output");return Nn(w,p.inputValue),w.type=p.input,Nn(x,p.inputValue),di(w,f,p),f},un.select=(f,p)=>{if(f.textContent="",p.inputPlaceholder){let w=document.createElement("option");Ut(w,p.inputPlaceholder),w.value="",w.disabled=!0,w.selected=!0,f.appendChild(w)}return di(f,f,p),f},un.radio=f=>(f.textContent="",f),un.checkbox=(f,p)=>{let w=zi(ee(),"checkbox");w.value="1",w.id=r.checkbox,w.checked=!!p.inputValue;let x=f.querySelector("span");return Ut(x,p.inputPlaceholder),w},un.textarea=(f,p)=>{Nn(f,p.inputValue),ks(f,p),di(f,f,p);let w=x=>parseInt(window.getComputedStyle(x).marginLeft)+parseInt(window.getComputedStyle(x).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let x=parseInt(window.getComputedStyle(ee()).width),W=()=>{let me=f.offsetWidth+w(f);me>x?ee().style.width=`${me}px`:ee().style.width=null};new MutationObserver(W).observe(f,{attributes:!0,attributeFilter:["style"]})}}),f};let hi=(f,p)=>{let w=A();cn(w,p,"htmlContainer"),p.html?(Gi(p.html,w),jt(w,"block")):p.text?(w.textContent=p.text,jt(w,"block")):st(w),rr(f,p)},fi=(f,p)=>{let w=sn();qi(w,p.footer),p.footer&&Gi(p.footer,w),cn(w,p,"footer")},Os=(f,p)=>{let w=n.innerParams.get(f),x=Ie();if(w&&p.icon===w.icon){No(x,p),Za(x,p);return}if(!p.icon&&!p.iconHtml){st(x);return}if(p.icon&&Object.keys(i).indexOf(p.icon)===-1){h(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${p.icon}"`),st(x);return}jt(x),No(x,p),Za(x,p),Be(x,p.showClass.icon)},Za=(f,p)=>{for(let w in i)p.icon!==w&&Pn(f,i[w]);Be(f,i[p.icon]),Ja(f,p),cl(),cn(f,p,"icon")},cl=()=>{let f=ee(),p=window.getComputedStyle(f).getPropertyValue("background-color"),w=f.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let x=0;x<w.length;x++)w[x].style.backgroundColor=p},Md=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,gt=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,No=(f,p)=>{let w=f.innerHTML,x;p.iconHtml?x=pi(p.iconHtml):p.icon==="success"?(x=Md,w=w.replace(/ style=".*?"/g,"")):p.icon==="error"?x=gt:x=pi({question:"?",warning:"!",info:"i"}[p.icon]),w.trim()!==x.trim()&&Ut(f,x)},Ja=(f,p)=>{if(p.iconColor){f.style.color=p.iconColor,f.style.borderColor=p.iconColor;for(let w of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Mo(f,w,"backgroundColor",p.iconColor);Mo(f,".swal2-success-ring","borderColor",p.iconColor)}},pi=f=>`<div class="${r["icon-content"]}">${f}</div>`,$r=(f,p)=>{let w=N();if(!p.imageUrl){st(w);return}jt(w,""),w.setAttribute("src",p.imageUrl),w.setAttribute("alt",p.imageAlt),ii(w,"width",p.imageWidth),ii(w,"height",p.imageHeight),w.className=r.image,cn(w,p,"image")},Xa=(f,p)=>{let w=K(),x=ee();p.toast?(ii(w,"width",p.width),x.style.width="100%",x.insertBefore(Rn(),Ie())):ii(x,"width",p.width),ii(x,"padding",p.padding),p.color&&(x.style.color=p.color),p.background&&(x.style.background=p.background),st(V()),Rd(x,p)},Rd=(f,p)=>{f.className=`${r.popup} ${gn(f)?p.showClass.popup:""}`,p.toast?(Be([document.documentElement,document.body],r["toast-shown"]),Be(f,r.toast)):Be(f,r.modal),cn(f,p,"popup"),typeof p.customClass=="string"&&Be(f,p.customClass),p.icon&&Be(f,r[`icon-${p.icon}`])},ll=(f,p)=>{let w=L();if(!p.progressSteps||p.progressSteps.length===0){st(w);return}jt(w),w.textContent="",p.currentProgressStep>=p.progressSteps.length&&l("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),p.progressSteps.forEach((x,W)=>{let me=ul(x);if(w.appendChild(me),W===p.currentProgressStep&&Be(me,r["active-progress-step"]),W!==p.progressSteps.length-1){let Ft=dl(p);w.appendChild(Ft)}})},ul=f=>{let p=document.createElement("li");return Be(p,r["progress-step"]),Ut(p,f),p},dl=f=>{let p=document.createElement("li");return Be(p,r["progress-step-line"]),f.progressStepsDistance&&ii(p,"width",f.progressStepsDistance),p},ec=(f,p)=>{let w=F();qi(w,p.title||p.titleText,"block"),p.title&&Gi(p.title,w),p.titleText&&(w.innerText=p.titleText),cn(w,p,"title")},ko=(f,p)=>{Xa(f,p),kt(f,p),ll(f,p),Os(f,p),$r(f,p),ec(f,p),rt(f,p),hi(f,p),nr(f,p),fi(f,p),typeof p.didRender=="function"&&p.didRender(ee())};function Fs(){let f=n.innerParams.get(this);if(!f)return;let p=n.domCache.get(this);st(p.loader),xs()?f.icon&&jt(Ie()):hl(p),Pn([p.popup,p.actions],r.loading),p.popup.removeAttribute("aria-busy"),p.popup.removeAttribute("data-loading"),p.confirmButton.disabled=!1,p.denyButton.disabled=!1,p.cancelButton.disabled=!1}let hl=f=>{let p=f.popup.getElementsByClassName(f.loader.getAttribute("data-button-to-replace"));p.length?jt(p[0],"inline-block"):sl()&&st(f.actions)};function Pd(f){let p=n.innerParams.get(f||this),w=n.domCache.get(f||this);return w?zi(w.popup,p.input):null}let Nd=()=>gn(ee()),Ls=()=>B()&&B().click(),fl=()=>R()&&R().click(),Oo=()=>ni()&&ni().click(),dn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Kn=f=>{f.keydownTarget&&f.keydownHandlerAdded&&(f.keydownTarget.removeEventListener("keydown",f.keydownHandler,{capture:f.keydownListenerCapture}),f.keydownHandlerAdded=!1)},Hr=(f,p,w,x)=>{Kn(p),w.toast||(p.keydownHandler=W=>Vs(f,W,x),p.keydownTarget=w.keydownListenerCapture?window:ee(),p.keydownListenerCapture=w.keydownListenerCapture,p.keydownTarget.addEventListener("keydown",p.keydownHandler,{capture:p.keydownListenerCapture}),p.keydownHandlerAdded=!0)},yn=(f,p,w)=>{let x=an();if(x.length)return p=p+w,p===x.length?p=0:p===-1&&(p=x.length-1),x[p].focus();ee().focus()},tc=["ArrowRight","ArrowDown"],dt=["ArrowLeft","ArrowUp"],Vs=(f,p,w)=>{let x=n.innerParams.get(f);x&&(p.isComposing||p.keyCode===229||(x.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?Fo(f,p,x):p.key==="Tab"?Lo(p,x):[...tc,...dt].includes(p.key)?kd(p.key):p.key==="Escape"&&pl(p,x,w)))},Fo=(f,p,w)=>{if(T(w.allowEnterKey)&&p.target&&f.getInput()&&p.target instanceof HTMLElement&&p.target.outerHTML===f.getInput().outerHTML){if(["textarea","file"].includes(w.input))return;Ls(),p.preventDefault()}},Lo=(f,p)=>{let w=f.target,x=an(),W=-1;for(let me=0;me<x.length;me++)if(w===x[me]){W=me;break}f.shiftKey?yn(p,W,-1):yn(p,W,1),f.stopPropagation(),f.preventDefault()},kd=f=>{let p=B(),w=R(),x=ni();if(document.activeElement instanceof HTMLElement&&![p,w,x].includes(document.activeElement))return;let W=tc.includes(f)?"nextElementSibling":"previousElementSibling",me=document.activeElement;for(let Ft=0;Ft<pr().children.length;Ft++){if(me=me[W],!me)return;if(me instanceof HTMLButtonElement&&gn(me))break}me instanceof HTMLButtonElement&&me.focus()},pl=(f,p,w)=>{T(p.allowEscapeKey)&&(f.preventDefault(),w(dn.esc))};var Vo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let nc=()=>{Array.from(document.body.children).forEach(p=>{p===K()||p.contains(K())||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")),p.setAttribute("aria-hidden","true"))})},ml=()=>{Array.from(document.body.children).forEach(p=>{p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},gl=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!gr(document.body,r.iosfix)){let p=document.body.scrollTop;document.body.style.top=`${p*-1}px`,Be(document.body,r.iosfix),zr(),Uo()}},Uo=()=>{let f=navigator.userAgent,p=!!f.match(/iPad/i)||!!f.match(/iPhone/i),w=!!f.match(/WebKit/i);p&&w&&!f.match(/CriOS/i)&&ee().scrollHeight>window.innerHeight-44&&(K().style.paddingBottom="44px")},zr=()=>{let f=K(),p;f.ontouchstart=w=>{p=yl(w)},f.ontouchmove=w=>{p&&(w.preventDefault(),w.stopPropagation())}},yl=f=>{let p=f.target,w=K();return vl(f)||_l(f)?!1:p===w||!Kt(w)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(Kt(A())&&A().contains(p))},vl=f=>f.touches&&f.touches.length&&f.touches[0].touchType==="stylus",_l=f=>f.touches&&f.touches.length>1,Wi=()=>{if(gr(document.body,r.iosfix)){let f=parseInt(document.body.style.top,10);Pn(document.body,r.iosfix),document.body.style.top="",document.body.scrollTop=f*-1}},Od=()=>{mr.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(mr.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${mr.previousBodyPadding+ui()}px`)},Fd=()=>{mr.previousBodyPadding!==null&&(document.body.style.paddingRight=`${mr.previousBodyPadding}px`,mr.previousBodyPadding=null)};function wl(f,p,w,x){xs()?Bo(f,x):(Po(w).then(()=>Bo(f,x)),Kn(xe)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(p.setAttribute("style","display:none !important"),p.removeAttribute("class"),p.innerHTML=""):p.remove(),ae()&&(Fd(),Wi(),ml()),qr()}function qr(){Pn([document.documentElement,document.body],[r.shown,r["height-auto"],r["no-backdrop"],r["toast-shown"]])}function Us(f){f=mi(f);let p=Vo.swalPromiseResolve.get(this),w=jo(this);this.isAwaitingPromise()?f.isDismissed||(Yi(this),p(f)):w&&p(f)}function Ld(){return!!n.awaitingPromise.get(this)}let jo=f=>{let p=ee();if(!p)return!1;let w=n.innerParams.get(f);if(!w||gr(p,w.hideClass.popup))return!1;Pn(p,w.showClass.popup),Be(p,w.hideClass.popup);let x=K();return Pn(x,w.showClass.backdrop),Be(x,w.hideClass.backdrop),gi(f,p,w),!0};function js(f){let p=Vo.swalPromiseReject.get(this);Yi(this),p&&p(f)}let Yi=f=>{f.isAwaitingPromise()&&(n.awaitingPromise.delete(f),n.innerParams.get(f)||f._destroy())},mi=f=>typeof f>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},f),gi=(f,p,w)=>{let x=K(),W=li&&Ro(p);typeof w.willClose=="function"&&w.willClose(p),W?bl(f,p,x,w.returnFocus,w.didClose):wl(f,x,w.returnFocus,w.didClose)},bl=(f,p,w,x,W)=>{xe.swalCloseEventFinishedCallback=wl.bind(null,f,w,x,W),p.addEventListener(li,function(me){me.target===p&&(xe.swalCloseEventFinishedCallback(),delete xe.swalCloseEventFinishedCallback)})},Bo=(f,p)=>{setTimeout(()=>{typeof p=="function"&&p.bind(f.params)(),f._destroy()})};function yt(f,p,w){let x=n.domCache.get(f);p.forEach(W=>{x[W].disabled=w})}function El(f,p){if(f)if(f.type==="radio"){let x=f.parentNode.parentNode.querySelectorAll("input");for(let W=0;W<x.length;W++)x[W].disabled=p}else f.disabled=p}function Vd(){yt(this,["confirmButton","denyButton","cancelButton"],!1)}function Il(){yt(this,["confirmButton","denyButton","cancelButton"],!0)}function Cl(){El(this.getInput(),!1)}function rc(){El(this.getInput(),!0)}function lt(f){let p=n.domCache.get(this),w=n.innerParams.get(this);Ut(p.validationMessage,f),p.validationMessage.className=r["validation-message"],w.customClass&&w.customClass.validationMessage&&Be(p.validationMessage,w.customClass.validationMessage),jt(p.validationMessage);let x=this.getInput();x&&(x.setAttribute("aria-invalid",!0),x.setAttribute("aria-describedby",r["validation-message"]),Ms(x),Be(x,r.inputerror))}function Ki(){let f=n.domCache.get(this);f.validationMessage&&st(f.validationMessage);let p=this.getInput();p&&(p.removeAttribute("aria-invalid"),p.removeAttribute("aria-describedby"),Pn(p,r.inputerror))}let Bt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Tl=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Dl={},$o=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ic=f=>Object.prototype.hasOwnProperty.call(Bt,f),yi=f=>Tl.indexOf(f)!==-1,In=f=>Dl[f],Bs=f=>{ic(f)||l(`Unknown parameter "${f}"`)},$s=f=>{$o.includes(f)&&l(`The parameter "${f}" is incompatible with toasts`)},Er=f=>{In(f)&&C(f,In(f))},Sl=f=>{f.backdrop===!1&&f.allowOutsideClick&&l('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let p in f)Bs(p),f.toast&&$s(p),Er(p)};function vi(f){let p=ee(),w=n.innerParams.get(this);if(!p||gr(p,w.hideClass.popup)){l("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let x=Al(f),W=Object.assign({},w,x);ko(this,W),n.innerParams.set(this,W),Object.defineProperties(this,{params:{value:Object.assign({},this.params,f),writable:!1,enumerable:!0}})}let Al=f=>{let p={};return Object.keys(f).forEach(w=>{yi(w)?p[w]=f[w]:l(`Invalid parameter to update: ${w}`)}),p};function xl(){let f=n.domCache.get(this),p=n.innerParams.get(this);if(!p){_i(this);return}f.popup&&xe.swalCloseEventFinishedCallback&&(xe.swalCloseEventFinishedCallback(),delete xe.swalCloseEventFinishedCallback),typeof p.didDestroy=="function"&&p.didDestroy(),oc(this)}let oc=f=>{_i(f),delete f.params,delete xe.keydownHandler,delete xe.keydownTarget,delete xe.currentInstance},_i=f=>{f.isAwaitingPromise()?(Qi(n,f),n.awaitingPromise.set(f,!0)):(Qi(Vo,f),Qi(n,f))},Qi=(f,p)=>{for(let w in f)f[w].delete(p)};var Ho=Object.freeze({__proto__:null,hideLoading:Fs,disableLoading:Fs,getInput:Pd,close:Us,isAwaitingPromise:Ld,rejectPromise:js,handleAwaitingPromise:Yi,closePopup:Us,closeModal:Us,closeToast:Us,enableButtons:Vd,disableButtons:Il,enableInput:Cl,disableInput:rc,showValidationMessage:lt,resetValidationMessage:Ki,update:vi,_destroy:xl});let wi=f=>{let p=ee();p||new Ul,p=ee();let w=Rn();xs()?st(Ie()):Ml(p,f),jt(w),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()},Ml=(f,p)=>{let w=pr(),x=Rn();!p&&gn(B())&&(p=B()),jt(w),p&&(st(p),x.setAttribute("data-button-to-replace",p.className)),x.parentNode.insertBefore(x,p),Be([f,w],r.loading)},Gr=(f,p)=>{p.input==="select"||p.input==="radio"?Hs(f,p):["text","email","number","tel","textarea"].includes(p.input)&&(P(p.inputValue)||$(p.inputValue))&&(wi(B()),vn(f,p))},Rl=(f,p)=>{let w=f.getInput();if(!w)return null;switch(p.input){case"checkbox":return Pl(w);case"radio":return Nl(w);case"file":return kl(w);default:return p.inputAutoTrim?w.value.trim():w.value}},Pl=f=>f.checked?1:0,Nl=f=>f.checked?f.value:null,kl=f=>f.files.length?f.getAttribute("multiple")!==null?f.files:f.files[0]:null,Hs=(f,p)=>{let w=ee(),x=W=>{Ol[p.input](w,Ir(W),p)};P(p.inputOptions)||$(p.inputOptions)?(wi(B()),z(p.inputOptions).then(W=>{f.hideLoading(),x(W)})):typeof p.inputOptions=="object"?x(p.inputOptions):h(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof p.inputOptions}`)},vn=(f,p)=>{let w=f.getInput();st(w),z(p.inputValue).then(x=>{w.value=p.input==="number"?`${parseFloat(x)||0}`:`${x}`,jt(w),w.focus(),f.hideLoading()}).catch(x=>{h(`Error in inputValue promise: ${x}`),w.value="",jt(w),w.focus(),f.hideLoading()})},Ol={select:(f,p,w)=>{let x=yr(f,r.select),W=(me,Ft,Yr)=>{let Cn=document.createElement("option");Cn.value=Yr,Ut(Cn,Ft),Cn.selected=bi(Yr,w.inputValue),me.appendChild(Cn)};p.forEach(me=>{let Ft=me[0],Yr=me[1];if(Array.isArray(Yr)){let Cn=document.createElement("optgroup");Cn.label=Ft,Cn.disabled=!1,x.appendChild(Cn),Yr.forEach(Ws=>W(Cn,Ws[1],Ws[0]))}else W(x,Yr,Ft)}),x.focus()},radio:(f,p,w)=>{let x=yr(f,r.radio);p.forEach(me=>{let Ft=me[0],Yr=me[1],Cn=document.createElement("input"),Ws=document.createElement("label");Cn.type="radio",Cn.name=r.radio,Cn.value=Ft,bi(Ft,w.inputValue)&&(Cn.checked=!0);let jd=document.createElement("span");Ut(jd,Yr),jd.className=r.label,Ws.appendChild(Cn),Ws.appendChild(jd),x.appendChild(Ws)});let W=x.querySelectorAll("input");W.length&&W[0].focus()}},Ir=f=>{let p=[];return typeof Map<"u"&&f instanceof Map?f.forEach((w,x)=>{let W=w;typeof W=="object"&&(W=Ir(W)),p.push([x,W])}):Object.keys(f).forEach(w=>{let x=f[w];typeof x=="object"&&(x=Ir(x)),p.push([w,x])}),p},bi=(f,p)=>p&&p.toString()===f.toString(),u=f=>{let p=n.innerParams.get(f);f.disableButtons(),p.input?I(f,"confirm"):Ot(f,!0)},m=f=>{let p=n.innerParams.get(f);f.disableButtons(),p.returnInputValueOnDeny?I(f,"deny"):H(f,!1)},_=(f,p)=>{f.disableButtons(),p(dn.cancel)},I=(f,p)=>{let w=n.innerParams.get(f);if(!w.input){h(`The "input" parameter is needed to be set when using returnInputValueOn${a(p)}`);return}let x=Rl(f,w);w.inputValidator?j(f,x,p):f.getInput().checkValidity()?p==="deny"?H(f,x):Ot(f,x):(f.enableButtons(),f.showValidationMessage(w.validationMessage))},j=(f,p,w)=>{let x=n.innerParams.get(f);f.disableInput(),Promise.resolve().then(()=>z(x.inputValidator(p,x.validationMessage))).then(me=>{f.enableButtons(),f.enableInput(),me?f.showValidationMessage(me):w==="deny"?H(f,p):Ot(f,p)})},H=(f,p)=>{let w=n.innerParams.get(f||void 0);w.showLoaderOnDeny&&wi(R()),w.preDeny?(n.awaitingPromise.set(f||void 0,!0),Promise.resolve().then(()=>z(w.preDeny(p,w.validationMessage))).then(W=>{W===!1?(f.hideLoading(),Yi(f)):f.close({isDenied:!0,value:typeof W>"u"?p:W})}).catch(W=>it(f||void 0,W))):f.close({isDenied:!0,value:p})},ie=(f,p)=>{f.close({isConfirmed:!0,value:p})},it=(f,p)=>{f.rejectPromise(p)},Ot=(f,p)=>{let w=n.innerParams.get(f||void 0);w.showLoaderOnConfirm&&wi(),w.preConfirm?(f.resetValidationMessage(),n.awaitingPromise.set(f||void 0,!0),Promise.resolve().then(()=>z(w.preConfirm(p,w.validationMessage))).then(W=>{gn(V())||W===!1?(f.hideLoading(),Yi(f)):ie(f,typeof W>"u"?p:W)}).catch(W=>it(f||void 0,W))):ie(f,p)},ze=(f,p,w)=>{n.innerParams.get(f).toast?Me(f,p,w):(kn(p),zs(p),sc(f,p,w))},Me=(f,p,w)=>{p.popup.onclick=()=>{let x=n.innerParams.get(f);x&&(Qt(x)||x.timer||x.input)||w(dn.close)}},Qt=f=>f.showConfirmButton||f.showDenyButton||f.showCancelButton||f.showCloseButton,Cr=!1,kn=f=>{f.popup.onmousedown=()=>{f.container.onmouseup=function(p){f.container.onmouseup=void 0,p.target===f.container&&(Cr=!0)}}},zs=f=>{f.container.onmousedown=()=>{f.popup.onmouseup=function(p){f.popup.onmouseup=void 0,(p.target===f.popup||f.popup.contains(p.target))&&(Cr=!0)}}},sc=(f,p,w)=>{p.container.onclick=x=>{let W=n.innerParams.get(f);if(Cr){Cr=!1;return}x.target===p.container&&T(W.allowOutsideClick)&&w(dn.backdrop)}},bv=f=>typeof f=="object"&&f.jquery,qs=f=>f instanceof Element||bv(f),Ev=f=>{let p={};return typeof f[0]=="object"&&!qs(f[0])?Object.assign(p,f[0]):["title","html","icon"].forEach((w,x)=>{let W=f[x];typeof W=="string"||qs(W)?p[w]=W:W!==void 0&&h(`Unexpected type of ${w}! Expected "string" or "Element", got ${typeof W}`)}),p};function Iv(){let f=this;for(var p=arguments.length,w=new Array(p),x=0;x<p;x++)w[x]=arguments[x];return new f(...w)}function Cv(f){class p extends this{_main(x,W){return super._main(x,Object.assign({},f,W))}}return p}let Fl=()=>xe.timeout&&xe.timeout.getTimerLeft(),ac=()=>{if(xe.timeout)return Nt(),xe.timeout.stop()},Ll=()=>{if(xe.timeout){let f=xe.timeout.start();return oi(f),f}},Tv=()=>{let f=xe.timeout;return f&&(f.running?ac():Ll())},Vf=f=>{if(xe.timeout){let p=xe.timeout.increase(f);return oi(p,!0),p}},Dv=()=>xe.timeout&&xe.timeout.isRunning(),Vl=!1,cc={};function Ud(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";cc[f]=this,Vl||(document.body.addEventListener("click",Sv),Vl=!0)}let Sv=f=>{for(let p=f.target;p&&p!==document;p=p.parentNode)for(let w in cc){let x=p.getAttribute(w);if(x){cc[w].fire({template:x});return}}};var Av=Object.freeze({__proto__:null,isValidParameter:ic,isUpdatableParameter:yi,isDeprecatedParameter:In,argsToParams:Ev,getContainer:K,getPopup:ee,getTitle:F,getHtmlContainer:A,getImage:N,getIcon:Ie,getIconContent:pe,getInputLabel:Gn,getCloseButton:ri,getActions:pr,getConfirmButton:B,getDenyButton:R,getCancelButton:ni,getLoader:Rn,getFooter:sn,getTimerProgressBar:Vr,getFocusableElements:an,getValidationMessage:V,getProgressSteps:L,isLoading:xo,isVisible:Nd,clickConfirm:Ls,clickDeny:fl,clickCancel:Oo,fire:Iv,mixin:Cv,showLoading:wi,enableLoading:wi,getTimerLeft:Fl,stopTimer:ac,resumeTimer:Ll,toggleTimer:Tv,increaseTimer:Vf,isTimerRunning:Dv,bindClickHandler:Ud});class xv{constructor(p,w){this.callback=p,this.remaining=w,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(p){let w=this.running;return w&&this.stop(),this.remaining+=p,w&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let Uf=["swal-title","swal-html","swal-footer"],Mv=f=>{let p=typeof f.template=="string"?document.querySelector(f.template):f.template;if(!p)return{};let w=p.content;return Lv(w),Object.assign(Rv(w),Pv(w),Nv(w),kv(w),Ov(w),jf(w),Fv(w,Uf))},Rv=f=>{let p={};return Array.from(f.querySelectorAll("swal-param")).forEach(x=>{hn(x,["name","value"]);let W=x.getAttribute("name"),me=x.getAttribute("value");typeof Bt[W]=="boolean"?p[W]=me!=="false":typeof Bt[W]=="object"?p[W]=JSON.parse(me):p[W]=me}),p},Pv=f=>{let p={};return Array.from(f.querySelectorAll("swal-function-param")).forEach(x=>{let W=x.getAttribute("name"),me=x.getAttribute("value");p[W]=new Function(`return ${me}`)()}),p},Nv=f=>{let p={};return Array.from(f.querySelectorAll("swal-button")).forEach(x=>{hn(x,["type","color","aria-label"]);let W=x.getAttribute("type");p[`${W}ButtonText`]=x.innerHTML,p[`show${a(W)}Button`]=!0,x.hasAttribute("color")&&(p[`${W}ButtonColor`]=x.getAttribute("color")),x.hasAttribute("aria-label")&&(p[`${W}ButtonAriaLabel`]=x.getAttribute("aria-label"))}),p},kv=f=>{let p={},w=f.querySelector("swal-image");return w&&(hn(w,["src","width","height","alt"]),w.hasAttribute("src")&&(p.imageUrl=w.getAttribute("src")),w.hasAttribute("width")&&(p.imageWidth=w.getAttribute("width")),w.hasAttribute("height")&&(p.imageHeight=w.getAttribute("height")),w.hasAttribute("alt")&&(p.imageAlt=w.getAttribute("alt"))),p},Ov=f=>{let p={},w=f.querySelector("swal-icon");return w&&(hn(w,["type","color"]),w.hasAttribute("type")&&(p.icon=w.getAttribute("type")),w.hasAttribute("color")&&(p.iconColor=w.getAttribute("color")),p.iconHtml=w.innerHTML),p},jf=f=>{let p={},w=f.querySelector("swal-input");w&&(hn(w,["type","label","placeholder","value"]),p.input=w.getAttribute("type")||"text",w.hasAttribute("label")&&(p.inputLabel=w.getAttribute("label")),w.hasAttribute("placeholder")&&(p.inputPlaceholder=w.getAttribute("placeholder")),w.hasAttribute("value")&&(p.inputValue=w.getAttribute("value")));let x=Array.from(f.querySelectorAll("swal-input-option"));return x.length&&(p.inputOptions={},x.forEach(W=>{hn(W,["value"]);let me=W.getAttribute("value"),Ft=W.innerHTML;p.inputOptions[me]=Ft})),p},Fv=(f,p)=>{let w={};for(let x in p){let W=p[x],me=f.querySelector(W);me&&(hn(me,[]),w[W.replace(/^swal-/,"")]=me.innerHTML.trim())}return w},Lv=f=>{let p=Uf.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(f.children).forEach(w=>{let x=w.tagName.toLowerCase();p.includes(x)||l(`Unrecognized element <${x}>`)})},hn=(f,p)=>{Array.from(f.attributes).forEach(w=>{p.indexOf(w.name)===-1&&l([`Unrecognized attribute "${w.name}" on <${f.tagName.toLowerCase()}>.`,`${p.length?`Allowed attributes are: ${p.join(", ")}`:"To set the value, use HTML within the element."}`])})},Zi=10,Bf=f=>{let p=K(),w=ee();typeof f.willOpen=="function"&&f.willOpen(w);let W=window.getComputedStyle(document.body).overflowY;Vv(p,w,f),setTimeout(()=>{Hf(p,w)},Zi),ae()&&(zf(p,f.scrollbarPadding,W),nc()),!xs()&&!xe.previousActiveElement&&(xe.previousActiveElement=document.activeElement),typeof f.didOpen=="function"&&setTimeout(()=>f.didOpen(w)),Pn(p,r["no-transition"])},$f=f=>{let p=ee();if(f.target!==p)return;let w=K();p.removeEventListener(li,$f),w.style.overflowY="auto"},Hf=(f,p)=>{li&&Ro(p)?(f.style.overflowY="hidden",p.addEventListener(li,$f)):f.style.overflowY="auto"},zf=(f,p,w)=>{gl(),p&&w!=="hidden"&&Od(),setTimeout(()=>{f.scrollTop=0})},Vv=(f,p,w)=>{Be(f,w.showClass.backdrop),p.style.setProperty("opacity","0","important"),jt(p,"grid"),setTimeout(()=>{Be(p,w.showClass.popup),p.style.removeProperty("opacity")},Zi),Be([document.documentElement,document.body],r.shown),w.heightAuto&&w.backdrop&&!w.toast&&Be([document.documentElement,document.body],r["height-auto"])};var qf={email:(f,p)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(f)?Promise.resolve():Promise.resolve(p||"Invalid email address"),url:(f,p)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(f)?Promise.resolve():Promise.resolve(p||"Invalid URL")};function Gf(f){f.inputValidator||Object.keys(qf).forEach(p=>{f.input===p&&(f.inputValidator=qf[p])})}function Uv(f){(!f.target||typeof f.target=="string"&&!document.querySelector(f.target)||typeof f.target!="string"&&!f.target.appendChild)&&(l('Target parameter is not valid, defaulting to "body"'),f.target="body")}function jv(f){Gf(f),f.showLoaderOnConfirm&&!f.preConfirm&&l(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Uv(f),typeof f.title=="string"&&(f.title=f.title.split(`
`).join("<br />")),ci(f)}let Wr;class Gs{constructor(){if(typeof window>"u")return;Wr=this;for(var p=arguments.length,w=new Array(p),x=0;x<p;x++)w[x]=arguments[x];let W=Object.freeze(this.constructor.argsToParams(w));Object.defineProperties(this,{params:{value:W,writable:!1,enumerable:!0,configurable:!0}});let me=Wr._main(Wr.params);n.promise.set(this,me)}_main(p){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Sl(Object.assign({},w,p)),xe.currentInstance&&(xe.currentInstance._destroy(),ae()&&ml()),xe.currentInstance=Wr;let x=$v(p,w);jv(x),Object.freeze(x),xe.timeout&&(xe.timeout.stop(),delete xe.timeout),clearTimeout(xe.restoreFocusTimeout);let W=Hv(Wr);return ko(Wr,x),n.innerParams.set(Wr,x),Bv(Wr,W,x)}then(p){return n.promise.get(this).then(p)}finally(p){return n.promise.get(this).finally(p)}}let Bv=(f,p,w)=>new Promise((x,W)=>{let me=Ft=>{f.close({isDismissed:!0,dismiss:Ft})};Vo.swalPromiseResolve.set(f,x),Vo.swalPromiseReject.set(f,W),p.confirmButton.onclick=()=>{u(f)},p.denyButton.onclick=()=>{m(f)},p.cancelButton.onclick=()=>{_(f,me)},p.closeButton.onclick=()=>{me(dn.close)},ze(f,p,me),Hr(f,xe,w,me),Gr(f,w),Bf(w),zv(xe,w,me),qv(p,w),setTimeout(()=>{p.container.scrollTop=0})}),$v=(f,p)=>{let w=Mv(f),x=Object.assign({},Bt,p,w,f);return x.showClass=Object.assign({},Bt.showClass,x.showClass),x.hideClass=Object.assign({},Bt.hideClass,x.hideClass),x},Hv=f=>{let p={popup:ee(),container:K(),actions:pr(),confirmButton:B(),denyButton:R(),cancelButton:ni(),loader:Rn(),closeButton:ri(),validationMessage:V(),progressSteps:L()};return n.domCache.set(f,p),p},zv=(f,p,w)=>{let x=Vr();st(x),p.timer&&(f.timeout=new xv(()=>{w("timer"),delete f.timeout},p.timer),p.timerProgressBar&&(jt(x),cn(x,p,"timerProgressBar"),setTimeout(()=>{f.timeout&&f.timeout.running&&oi(p.timer)})))},qv=(f,p)=>{if(!p.toast){if(!T(p.allowEnterKey)){Wv();return}Gv(f,p)||yn(p,-1,1)}},Gv=(f,p)=>p.focusDeny&&gn(f.denyButton)?(f.denyButton.focus(),!0):p.focusCancel&&gn(f.cancelButton)?(f.cancelButton.focus(),!0):p.focusConfirm&&gn(f.confirmButton)?(f.confirmButton.focus(),!0):!1,Wv=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){let f=new Date,p=localStorage.getItem("swal-initiation");p?(f.getTime()-Date.parse(p))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let w=document.createElement("audio");w.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",w.loop=!0,document.body.appendChild(w),setTimeout(()=>{w.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${f}`)}Object.assign(Gs.prototype,Ho),Object.assign(Gs,Av),Object.keys(Ho).forEach(f=>{Gs[f]=function(){if(Wr)return Wr[f](...arguments)}}),Gs.DismissReason=dn,Gs.version="11.6.13";let Ul=Gs;return Ul.default=Ul,Ul});typeof So<"u"&&So.Sweetalert2&&(So.swal=So.sweetAlert=So.Swal=So.SweetAlert=So.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')});var VT=t_((LT,Dd)=>{"use strict";(function(n,e){typeof LT=="object"&&typeof Dd<"u"?Dd.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(LT,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(c){n=c}function r(c){return c instanceof Array||Object.prototype.toString.call(c)==="[object Array]"}function i(c){return c!=null&&Object.prototype.toString.call(c)==="[object Object]"}function o(c,d){return Object.prototype.hasOwnProperty.call(c,d)}function s(c){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(c).length===0;var d;for(d in c)if(o(c,d))return!1;return!0}function a(c){return c===void 0}function l(c){return typeof c=="number"||Object.prototype.toString.call(c)==="[object Number]"}function h(c){return c instanceof Date||Object.prototype.toString.call(c)==="[object Date]"}function y(c,d){var g=[],v,E=c.length;for(v=0;v<E;++v)g.push(d(c[v],v));return g}function b(c,d){for(var g in d)o(d,g)&&(c[g]=d[g]);return o(d,"toString")&&(c.toString=d.toString),o(d,"valueOf")&&(c.valueOf=d.valueOf),c}function C(c,d,g,v){return ze(c,d,g,v,!0).utc()}function T(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function P(c){return c._pf==null&&(c._pf=T()),c._pf}var z;Array.prototype.some?z=Array.prototype.some:z=function(c){var d=Object(this),g=d.length>>>0,v;for(v=0;v<g;v++)if(v in d&&c.call(this,d[v],v,d))return!0;return!1};function $(c){var d=null,g=!1,v=c._d&&!isNaN(c._d.getTime());if(v&&(d=P(c),g=z.call(d.parsedDateParts,function(E){return E!=null}),v=d.overflow<0&&!d.empty&&!d.invalidEra&&!d.invalidMonth&&!d.invalidWeekday&&!d.weekdayMismatch&&!d.nullInput&&!d.invalidFormat&&!d.userInvalidated&&(!d.meridiem||d.meridiem&&g),c._strict&&(v=v&&d.charsLeftOver===0&&d.unusedTokens.length===0&&d.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(c))c._isValid=v;else return v;return c._isValid}function K(c){var d=C(NaN);return c!=null?b(P(d),c):P(d).userInvalidated=!0,d}var se=e.momentProperties=[],J=!1;function ee(c,d){var g,v,E,k=se.length;if(a(d._isAMomentObject)||(c._isAMomentObject=d._isAMomentObject),a(d._i)||(c._i=d._i),a(d._f)||(c._f=d._f),a(d._l)||(c._l=d._l),a(d._strict)||(c._strict=d._strict),a(d._tzm)||(c._tzm=d._tzm),a(d._isUTC)||(c._isUTC=d._isUTC),a(d._offset)||(c._offset=d._offset),a(d._pf)||(c._pf=P(d)),a(d._locale)||(c._locale=d._locale),k>0)for(g=0;g<k;g++)v=se[g],E=d[v],a(E)||(c[v]=E);return c}function Ie(c){ee(this,c),this._d=new Date(c._d!=null?c._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),J===!1&&(J=!0,e.updateOffset(this),J=!1)}function pe(c){return c instanceof Ie||c!=null&&c._isAMomentObject!=null}function F(c){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+c)}function A(c,d){var g=!0;return b(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,c),g){var v=[],E,k,G,de=arguments.length;for(k=0;k<de;k++){if(E="",typeof arguments[k]=="object"){E+=`
[`+k+"] ";for(G in arguments[0])o(arguments[0],G)&&(E+=G+": "+arguments[0][G]+", ");E=E.slice(0,-2)}else E=arguments[k];v.push(E)}F(c+`
Arguments: `+Array.prototype.slice.call(v).join("")+`
`+new Error().stack),g=!1}return d.apply(this,arguments)},d)}var N={};function L(c,d){e.deprecationHandler!=null&&e.deprecationHandler(c,d),N[c]||(F(d),N[c]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function V(c){return typeof Function<"u"&&c instanceof Function||Object.prototype.toString.call(c)==="[object Function]"}function B(c){var d,g;for(g in c)o(c,g)&&(d=c[g],V(d)?this[g]=d:this["_"+g]=d);this._config=c,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function R(c,d){var g=b({},c),v;for(v in d)o(d,v)&&(i(c[v])&&i(d[v])?(g[v]={},b(g[v],c[v]),b(g[v],d[v])):d[v]!=null?g[v]=d[v]:delete g[v]);for(v in c)o(c,v)&&!o(d,v)&&i(c[v])&&(g[v]=b({},g[v]));return g}function Gn(c){c!=null&&this.set(c)}var Rn;Object.keys?Rn=Object.keys:Rn=function(c){var d,g=[];for(d in c)o(c,d)&&g.push(d);return g};var ni={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function pr(c,d,g){var v=this._calendar[c]||this._calendar.sameElse;return V(v)?v.call(d,g):v}function sn(c,d,g){var v=""+Math.abs(c),E=d-v.length,k=c>=0;return(k?g?"+":"":"-")+Math.pow(10,Math.max(0,E)).toString().substr(1)+v}var Vr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ri=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ya={},an={};function ae(c,d,g,v){var E=v;typeof v=="string"&&(E=function(){return this[v]()}),c&&(an[c]=E),d&&(an[d[0]]=function(){return sn(E.apply(this,arguments),d[1],d[2])}),g&&(an[g]=function(){return this.localeData().ordinal(E.apply(this,arguments),c)})}function xs(c){return c.match(/\[[\s\S]/)?c.replace(/^\[|\]$/g,""):c.replace(/\\/g,"")}function xo(c){var d=c.match(Vr),g,v;for(g=0,v=d.length;g<v;g++)an[d[g]]?d[g]=an[d[g]]:d[g]=xs(d[g]);return function(E){var k="",G;for(G=0;G<v;G++)k+=V(d[G])?d[G].call(E,c):d[G];return k}}function mr(c,d){return c.isValid()?(d=Ut(d,c.localeData()),Ya[d]=Ya[d]||xo(d),Ya[d](c)):c.localeData().invalidDate()}function Ut(c,d){var g=5;function v(E){return d.longDateFormat(E)||E}for(ri.lastIndex=0;g>=0&&ri.test(c);)c=c.replace(ri,v),ri.lastIndex=0,g-=1;return c}var gr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ad(c){var d=this._longDateFormat[c],g=this._longDateFormat[c.toUpperCase()];return d||!g?d:(this._longDateFormat[c]=g.match(Vr).map(function(v){return v==="MMMM"||v==="MM"||v==="DD"||v==="dddd"?v.slice(1):v}).join(""),this._longDateFormat[c])}var cn="Invalid date";function zi(){return this._invalidDate}var Ms="%d",Rs=/\d{1,2}/;function Be(c){return this._ordinal.replace("%d",c)}var Pn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function yr(c,d,g,v){var E=this._relativeTime[g];return V(E)?E(c,d,g,v):E.replace(/%d/i,c)}function ii(c,d){var g=this._relativeTime[c>0?"future":"past"];return V(g)?g(d):g.replace(/%s/i,d)}var jt={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function st(c){return typeof c=="string"?jt[c]||jt[c.toLowerCase()]:void 0}function Mo(c){var d={},g,v;for(v in c)o(c,v)&&(g=st(v),g&&(d[g]=c[v]));return d}var qi={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function gn(c){var d=[],g;for(g in c)o(c,g)&&d.push({unit:g,priority:qi[g]});return d.sort(function(v,E){return v.priority-E.priority}),d}var sl=/\d/,Kt=/\d\d/,Ro=/\d{3}/,oi=/\d{4}/,Nt=/[+-]?\d{6}/,Pe=/\d\d?/,xe=/\d\d\d\d?/,Ka=/\d\d\d\d\d\d?/,Po=/\d{1,3}/,Ps=/\d{1,4}/,Ur=/[+-]?\d{1,6}/,si=/\d+/,Wn=/[+-]?\d+/,Qa=/Z|[+-]\d\d:?\d\d/gi,Ns=/Z|[+-]\d\d(?::?\d\d)?/gi,xd=/[+-]?\d+(\.\d{1,3})?/,ai=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ci=/^[1-9]\d?/,Gi=/^([1-9]\d|\d)/,jr;jr={};function le(c,d,g){jr[c]=V(d)?d:function(v,E){return v&&g?g:d}}function li(c,d){return o(jr,c)?jr[c](d._strict,d._locale):new RegExp(ui(c))}function ui(c){return nr(c.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(d,g,v,E,k){return g||v||E||k}))}function nr(c){return c.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ln(c){return c<0?Math.ceil(c)||0:Math.floor(c)}function Le(c){var d=+c,g=0;return d!==0&&isFinite(d)&&(g=ln(d)),g}var vr={};function rt(c,d){var g,v=d,E;for(typeof c=="string"&&(c=[c]),l(d)&&(v=function(k,G){G[d]=Le(k)}),E=c.length,g=0;g<E;g++)vr[c[g]]=v}function kt(c,d){rt(c,function(g,v,E,k){E._w=E._w||{},d(g,E._w,E,k)})}function al(c,d,g){d!=null&&o(vr,c)&&vr[c](d,g._a,g,c)}function Br(c){return c%4===0&&c%100!==0||c%400===0}var St=0,_r=1,rr=2,mt=3,Yn=4,wr=5,ir=6,ks=7,di=8;ae("Y",0,0,function(){var c=this.year();return c<=9999?sn(c,4):"+"+c}),ae(0,["YY",2],0,function(){return this.year()%100}),ae(0,["YYYY",4],0,"year"),ae(0,["YYYYY",5],0,"year"),ae(0,["YYYYYY",6,!0],0,"year"),le("Y",Wn),le("YY",Pe,Kt),le("YYYY",Ps,oi),le("YYYYY",Ur,Nt),le("YYYYYY",Ur,Nt),rt(["YYYYY","YYYYYY"],St),rt("YYYY",function(c,d){d[St]=c.length===2?e.parseTwoDigitYear(c):Le(c)}),rt("YY",function(c,d){d[St]=e.parseTwoDigitYear(c)}),rt("Y",function(c,d){d[St]=parseInt(c,10)});function br(c){return Br(c)?366:365}e.parseTwoDigitYear=function(c){return Le(c)+(Le(c)>68?1900:2e3)};var Nn=hi("FullYear",!0);function un(){return Br(this.year())}function hi(c,d){return function(g){return g!=null?(Os(this,c,g),e.updateOffset(this,d),this):fi(this,c)}}function fi(c,d){if(!c.isValid())return NaN;var g=c._d,v=c._isUTC;switch(d){case"Milliseconds":return v?g.getUTCMilliseconds():g.getMilliseconds();case"Seconds":return v?g.getUTCSeconds():g.getSeconds();case"Minutes":return v?g.getUTCMinutes():g.getMinutes();case"Hours":return v?g.getUTCHours():g.getHours();case"Date":return v?g.getUTCDate():g.getDate();case"Day":return v?g.getUTCDay():g.getDay();case"Month":return v?g.getUTCMonth():g.getMonth();case"FullYear":return v?g.getUTCFullYear():g.getFullYear();default:return NaN}}function Os(c,d,g){var v,E,k,G,de;if(!(!c.isValid()||isNaN(g))){switch(v=c._d,E=c._isUTC,d){case"Milliseconds":return void(E?v.setUTCMilliseconds(g):v.setMilliseconds(g));case"Seconds":return void(E?v.setUTCSeconds(g):v.setSeconds(g));case"Minutes":return void(E?v.setUTCMinutes(g):v.setMinutes(g));case"Hours":return void(E?v.setUTCHours(g):v.setHours(g));case"Date":return void(E?v.setUTCDate(g):v.setDate(g));case"FullYear":break;default:return}k=g,G=c.month(),de=c.date(),de=de===29&&G===1&&!Br(k)?28:de,E?v.setUTCFullYear(k,G,de):v.setFullYear(k,G,de)}}function Za(c){return c=st(c),V(this[c])?this[c]():this}function cl(c,d){if(typeof c=="object"){c=Mo(c);var g=gn(c),v,E=g.length;for(v=0;v<E;v++)this[g[v].unit](c[g[v].unit])}else if(c=st(c),V(this[c]))return this[c](d);return this}function Md(c,d){return(c%d+d)%d}var gt;Array.prototype.indexOf?gt=Array.prototype.indexOf:gt=function(c){var d;for(d=0;d<this.length;++d)if(this[d]===c)return d;return-1};function No(c,d){if(isNaN(c)||isNaN(d))return NaN;var g=Md(d,12);return c+=(d-g)/12,g===1?Br(c)?29:28:31-g%7%2}ae("M",["MM",2],"Mo",function(){return this.month()+1}),ae("MMM",0,0,function(c){return this.localeData().monthsShort(this,c)}),ae("MMMM",0,0,function(c){return this.localeData().months(this,c)}),le("M",Pe,ci),le("MM",Pe,Kt),le("MMM",function(c,d){return d.monthsShortRegex(c)}),le("MMMM",function(c,d){return d.monthsRegex(c)}),rt(["M","MM"],function(c,d){d[_r]=Le(c)-1}),rt(["MMM","MMMM"],function(c,d,g,v){var E=g._locale.monthsParse(c,v,g._strict);E!=null?d[_r]=E:P(g).invalidMonth=c});var Ja="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),$r=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Xa=ai,Rd=ai;function ll(c,d){return c?r(this._months)?this._months[c.month()]:this._months[(this._months.isFormat||$r).test(d)?"format":"standalone"][c.month()]:r(this._months)?this._months:this._months.standalone}function ul(c,d){return c?r(this._monthsShort)?this._monthsShort[c.month()]:this._monthsShort[$r.test(d)?"format":"standalone"][c.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dl(c,d,g){var v,E,k,G=c.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],v=0;v<12;++v)k=C([2e3,v]),this._shortMonthsParse[v]=this.monthsShort(k,"").toLocaleLowerCase(),this._longMonthsParse[v]=this.months(k,"").toLocaleLowerCase();return g?d==="MMM"?(E=gt.call(this._shortMonthsParse,G),E!==-1?E:null):(E=gt.call(this._longMonthsParse,G),E!==-1?E:null):d==="MMM"?(E=gt.call(this._shortMonthsParse,G),E!==-1?E:(E=gt.call(this._longMonthsParse,G),E!==-1?E:null)):(E=gt.call(this._longMonthsParse,G),E!==-1?E:(E=gt.call(this._shortMonthsParse,G),E!==-1?E:null))}function ec(c,d,g){var v,E,k;if(this._monthsParseExact)return dl.call(this,c,d,g);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),v=0;v<12;v++){if(E=C([2e3,v]),g&&!this._longMonthsParse[v]&&(this._longMonthsParse[v]=new RegExp("^"+this.months(E,"").replace(".","")+"$","i"),this._shortMonthsParse[v]=new RegExp("^"+this.monthsShort(E,"").replace(".","")+"$","i")),!g&&!this._monthsParse[v]&&(k="^"+this.months(E,"")+"|^"+this.monthsShort(E,""),this._monthsParse[v]=new RegExp(k.replace(".",""),"i")),g&&d==="MMMM"&&this._longMonthsParse[v].test(c))return v;if(g&&d==="MMM"&&this._shortMonthsParse[v].test(c))return v;if(!g&&this._monthsParse[v].test(c))return v}}function ko(c,d){if(!c.isValid())return c;if(typeof d=="string"){if(/^\d+$/.test(d))d=Le(d);else if(d=c.localeData().monthsParse(d),!l(d))return c}var g=d,v=c.date();return v=v<29?v:Math.min(v,No(c.year(),g)),c._isUTC?c._d.setUTCMonth(g,v):c._d.setMonth(g,v),c}function Fs(c){return c!=null?(ko(this,c),e.updateOffset(this,!0),this):fi(this,"Month")}function hl(){return No(this.year(),this.month())}function Pd(c){return this._monthsParseExact?(o(this,"_monthsRegex")||Ls.call(this),c?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Xa),this._monthsShortStrictRegex&&c?this._monthsShortStrictRegex:this._monthsShortRegex)}function Nd(c){return this._monthsParseExact?(o(this,"_monthsRegex")||Ls.call(this),c?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Rd),this._monthsStrictRegex&&c?this._monthsStrictRegex:this._monthsRegex)}function Ls(){function c(Se,Qe){return Qe.length-Se.length}var d=[],g=[],v=[],E,k,G,de;for(E=0;E<12;E++)k=C([2e3,E]),G=nr(this.monthsShort(k,"")),de=nr(this.months(k,"")),d.push(G),g.push(de),v.push(de),v.push(G);d.sort(c),g.sort(c),v.sort(c),this._monthsRegex=new RegExp("^("+v.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function fl(c,d,g,v,E,k,G){var de;return c<100&&c>=0?(de=new Date(c+400,d,g,v,E,k,G),isFinite(de.getFullYear())&&de.setFullYear(c)):de=new Date(c,d,g,v,E,k,G),de}function Oo(c){var d,g;return c<100&&c>=0?(g=Array.prototype.slice.call(arguments),g[0]=c+400,d=new Date(Date.UTC.apply(null,g)),isFinite(d.getUTCFullYear())&&d.setUTCFullYear(c)):d=new Date(Date.UTC.apply(null,arguments)),d}function dn(c,d,g){var v=7+d-g,E=(7+Oo(c,0,v).getUTCDay()-d)%7;return-E+v-1}function Kn(c,d,g,v,E){var k=(7+g-v)%7,G=dn(c,v,E),de=1+7*(d-1)+k+G,Se,Qe;return de<=0?(Se=c-1,Qe=br(Se)+de):de>br(c)?(Se=c+1,Qe=de-br(c)):(Se=c,Qe=de),{year:Se,dayOfYear:Qe}}function Hr(c,d,g){var v=dn(c.year(),d,g),E=Math.floor((c.dayOfYear()-v-1)/7)+1,k,G;return E<1?(G=c.year()-1,k=E+yn(G,d,g)):E>yn(c.year(),d,g)?(k=E-yn(c.year(),d,g),G=c.year()+1):(G=c.year(),k=E),{week:k,year:G}}function yn(c,d,g){var v=dn(c,d,g),E=dn(c+1,d,g);return(br(c)-v+E)/7}ae("w",["ww",2],"wo","week"),ae("W",["WW",2],"Wo","isoWeek"),le("w",Pe,ci),le("ww",Pe,Kt),le("W",Pe,ci),le("WW",Pe,Kt),kt(["w","ww","W","WW"],function(c,d,g,v){d[v.substr(0,1)]=Le(c)});function tc(c){return Hr(c,this._week.dow,this._week.doy).week}var dt={dow:0,doy:6};function Vs(){return this._week.dow}function Fo(){return this._week.doy}function Lo(c){var d=this.localeData().week(this);return c==null?d:this.add((c-d)*7,"d")}function kd(c){var d=Hr(this,1,4).week;return c==null?d:this.add((c-d)*7,"d")}ae("d",0,"do","day"),ae("dd",0,0,function(c){return this.localeData().weekdaysMin(this,c)}),ae("ddd",0,0,function(c){return this.localeData().weekdaysShort(this,c)}),ae("dddd",0,0,function(c){return this.localeData().weekdays(this,c)}),ae("e",0,0,"weekday"),ae("E",0,0,"isoWeekday"),le("d",Pe),le("e",Pe),le("E",Pe),le("dd",function(c,d){return d.weekdaysMinRegex(c)}),le("ddd",function(c,d){return d.weekdaysShortRegex(c)}),le("dddd",function(c,d){return d.weekdaysRegex(c)}),kt(["dd","ddd","dddd"],function(c,d,g,v){var E=g._locale.weekdaysParse(c,v,g._strict);E!=null?d.d=E:P(g).invalidWeekday=c}),kt(["d","e","E"],function(c,d,g,v){d[v]=Le(c)});function pl(c,d){return typeof c!="string"?c:isNaN(c)?(c=d.weekdaysParse(c),typeof c=="number"?c:null):parseInt(c,10)}function Vo(c,d){return typeof c=="string"?d.weekdaysParse(c)%7||7:isNaN(c)?null:c}function nc(c,d){return c.slice(d,7).concat(c.slice(0,d))}var ml="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),gl="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Uo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),zr=ai,yl=ai,vl=ai;function _l(c,d){var g=r(this._weekdays)?this._weekdays:this._weekdays[c&&c!==!0&&this._weekdays.isFormat.test(d)?"format":"standalone"];return c===!0?nc(g,this._week.dow):c?g[c.day()]:g}function Wi(c){return c===!0?nc(this._weekdaysShort,this._week.dow):c?this._weekdaysShort[c.day()]:this._weekdaysShort}function Od(c){return c===!0?nc(this._weekdaysMin,this._week.dow):c?this._weekdaysMin[c.day()]:this._weekdaysMin}function Fd(c,d,g){var v,E,k,G=c.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],v=0;v<7;++v)k=C([2e3,1]).day(v),this._minWeekdaysParse[v]=this.weekdaysMin(k,"").toLocaleLowerCase(),this._shortWeekdaysParse[v]=this.weekdaysShort(k,"").toLocaleLowerCase(),this._weekdaysParse[v]=this.weekdays(k,"").toLocaleLowerCase();return g?d==="dddd"?(E=gt.call(this._weekdaysParse,G),E!==-1?E:null):d==="ddd"?(E=gt.call(this._shortWeekdaysParse,G),E!==-1?E:null):(E=gt.call(this._minWeekdaysParse,G),E!==-1?E:null):d==="dddd"?(E=gt.call(this._weekdaysParse,G),E!==-1||(E=gt.call(this._shortWeekdaysParse,G),E!==-1)?E:(E=gt.call(this._minWeekdaysParse,G),E!==-1?E:null)):d==="ddd"?(E=gt.call(this._shortWeekdaysParse,G),E!==-1||(E=gt.call(this._weekdaysParse,G),E!==-1)?E:(E=gt.call(this._minWeekdaysParse,G),E!==-1?E:null)):(E=gt.call(this._minWeekdaysParse,G),E!==-1||(E=gt.call(this._weekdaysParse,G),E!==-1)?E:(E=gt.call(this._shortWeekdaysParse,G),E!==-1?E:null))}function wl(c,d,g){var v,E,k;if(this._weekdaysParseExact)return Fd.call(this,c,d,g);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),v=0;v<7;v++){if(E=C([2e3,1]).day(v),g&&!this._fullWeekdaysParse[v]&&(this._fullWeekdaysParse[v]=new RegExp("^"+this.weekdays(E,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[v]=new RegExp("^"+this.weekdaysShort(E,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[v]=new RegExp("^"+this.weekdaysMin(E,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[v]||(k="^"+this.weekdays(E,"")+"|^"+this.weekdaysShort(E,"")+"|^"+this.weekdaysMin(E,""),this._weekdaysParse[v]=new RegExp(k.replace(".",""),"i")),g&&d==="dddd"&&this._fullWeekdaysParse[v].test(c))return v;if(g&&d==="ddd"&&this._shortWeekdaysParse[v].test(c))return v;if(g&&d==="dd"&&this._minWeekdaysParse[v].test(c))return v;if(!g&&this._weekdaysParse[v].test(c))return v}}function qr(c){if(!this.isValid())return c!=null?this:NaN;var d=fi(this,"Day");return c!=null?(c=pl(c,this.localeData()),this.add(c-d,"d")):d}function Us(c){if(!this.isValid())return c!=null?this:NaN;var d=(this.day()+7-this.localeData()._week.dow)%7;return c==null?d:this.add(c-d,"d")}function Ld(c){if(!this.isValid())return c!=null?this:NaN;if(c!=null){var d=Vo(c,this.localeData());return this.day(this.day()%7?d:d-7)}else return this.day()||7}function jo(c){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||mi.call(this),c?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=zr),this._weekdaysStrictRegex&&c?this._weekdaysStrictRegex:this._weekdaysRegex)}function js(c){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||mi.call(this),c?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=yl),this._weekdaysShortStrictRegex&&c?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Yi(c){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||mi.call(this),c?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=vl),this._weekdaysMinStrictRegex&&c?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function mi(){function c(Qn,Wo){return Wo.length-Qn.length}var d=[],g=[],v=[],E=[],k,G,de,Se,Qe;for(k=0;k<7;k++)G=C([2e3,1]).day(k),de=nr(this.weekdaysMin(G,"")),Se=nr(this.weekdaysShort(G,"")),Qe=nr(this.weekdays(G,"")),d.push(de),g.push(Se),v.push(Qe),E.push(de),E.push(Se),E.push(Qe);d.sort(c),g.sort(c),v.sort(c),E.sort(c),this._weekdaysRegex=new RegExp("^("+E.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+v.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+d.join("|")+")","i")}function gi(){return this.hours()%12||12}function bl(){return this.hours()||24}ae("H",["HH",2],0,"hour"),ae("h",["hh",2],0,gi),ae("k",["kk",2],0,bl),ae("hmm",0,0,function(){return""+gi.apply(this)+sn(this.minutes(),2)}),ae("hmmss",0,0,function(){return""+gi.apply(this)+sn(this.minutes(),2)+sn(this.seconds(),2)}),ae("Hmm",0,0,function(){return""+this.hours()+sn(this.minutes(),2)}),ae("Hmmss",0,0,function(){return""+this.hours()+sn(this.minutes(),2)+sn(this.seconds(),2)});function Bo(c,d){ae(c,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),d)})}Bo("a",!0),Bo("A",!1);function yt(c,d){return d._meridiemParse}le("a",yt),le("A",yt),le("H",Pe,Gi),le("h",Pe,ci),le("k",Pe,ci),le("HH",Pe,Kt),le("hh",Pe,Kt),le("kk",Pe,Kt),le("hmm",xe),le("hmmss",Ka),le("Hmm",xe),le("Hmmss",Ka),rt(["H","HH"],mt),rt(["k","kk"],function(c,d,g){var v=Le(c);d[mt]=v===24?0:v}),rt(["a","A"],function(c,d,g){g._isPm=g._locale.isPM(c),g._meridiem=c}),rt(["h","hh"],function(c,d,g){d[mt]=Le(c),P(g).bigHour=!0}),rt("hmm",function(c,d,g){var v=c.length-2;d[mt]=Le(c.substr(0,v)),d[Yn]=Le(c.substr(v)),P(g).bigHour=!0}),rt("hmmss",function(c,d,g){var v=c.length-4,E=c.length-2;d[mt]=Le(c.substr(0,v)),d[Yn]=Le(c.substr(v,2)),d[wr]=Le(c.substr(E)),P(g).bigHour=!0}),rt("Hmm",function(c,d,g){var v=c.length-2;d[mt]=Le(c.substr(0,v)),d[Yn]=Le(c.substr(v))}),rt("Hmmss",function(c,d,g){var v=c.length-4,E=c.length-2;d[mt]=Le(c.substr(0,v)),d[Yn]=Le(c.substr(v,2)),d[wr]=Le(c.substr(E))});function El(c){return(c+"").toLowerCase().charAt(0)==="p"}var Vd=/[ap]\.?m?\.?/i,Il=hi("Hours",!0);function Cl(c,d,g){return c>11?g?"pm":"PM":g?"am":"AM"}var rc={calendar:ni,longDateFormat:gr,invalidDate:cn,ordinal:Ms,dayOfMonthOrdinalParse:Rs,relativeTime:Pn,months:Ja,monthsShort:pi,week:dt,weekdays:ml,weekdaysMin:Uo,weekdaysShort:gl,meridiemParse:Vd},lt={},Ki={},Bt;function Tl(c,d){var g,v=Math.min(c.length,d.length);for(g=0;g<v;g+=1)if(c[g]!==d[g])return g;return v}function Dl(c){return c&&c.toLowerCase().replace("_","-")}function $o(c){for(var d=0,g,v,E,k;d<c.length;){for(k=Dl(c[d]).split("-"),g=k.length,v=Dl(c[d+1]),v=v?v.split("-"):null;g>0;){if(E=yi(k.slice(0,g).join("-")),E)return E;if(v&&v.length>=g&&Tl(k,v)>=g-1)break;g--}d++}return Bt}function ic(c){return!!(c&&c.match("^[^/\\\\]*$"))}function yi(c){var d=null,g;if(lt[c]===void 0&&typeof Dd<"u"&&Dd&&Dd.exports&&ic(c))try{d=Bt._abbr,g=Xf,g("./locale/"+c),In(d)}catch{lt[c]=null}return lt[c]}function In(c,d){var g;return c&&(a(d)?g=Er(c):g=Bs(c,d),g?Bt=g:typeof console<"u"&&console.warn&&console.warn("Locale "+c+" not found. Did you forget to load it?")),Bt._abbr}function Bs(c,d){if(d!==null){var g,v=rc;if(d.abbr=c,lt[c]!=null)L("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),v=lt[c]._config;else if(d.parentLocale!=null)if(lt[d.parentLocale]!=null)v=lt[d.parentLocale]._config;else if(g=yi(d.parentLocale),g!=null)v=g._config;else return Ki[d.parentLocale]||(Ki[d.parentLocale]=[]),Ki[d.parentLocale].push({name:c,config:d}),null;return lt[c]=new Gn(R(v,d)),Ki[c]&&Ki[c].forEach(function(E){Bs(E.name,E.config)}),In(c),lt[c]}else return delete lt[c],null}function $s(c,d){if(d!=null){var g,v,E=rc;lt[c]!=null&&lt[c].parentLocale!=null?lt[c].set(R(lt[c]._config,d)):(v=yi(c),v!=null&&(E=v._config),d=R(E,d),v==null&&(d.abbr=c),g=new Gn(d),g.parentLocale=lt[c],lt[c]=g),In(c)}else lt[c]!=null&&(lt[c].parentLocale!=null?(lt[c]=lt[c].parentLocale,c===In()&&In(c)):lt[c]!=null&&delete lt[c]);return lt[c]}function Er(c){var d;if(c&&c._locale&&c._locale._abbr&&(c=c._locale._abbr),!c)return Bt;if(!r(c)){if(d=yi(c),d)return d;c=[c]}return $o(c)}function Sl(){return Rn(lt)}function vi(c){var d,g=c._a;return g&&P(c).overflow===-2&&(d=g[_r]<0||g[_r]>11?_r:g[rr]<1||g[rr]>No(g[St],g[_r])?rr:g[mt]<0||g[mt]>24||g[mt]===24&&(g[Yn]!==0||g[wr]!==0||g[ir]!==0)?mt:g[Yn]<0||g[Yn]>59?Yn:g[wr]<0||g[wr]>59?wr:g[ir]<0||g[ir]>999?ir:-1,P(c)._overflowDayOfYear&&(d<St||d>rr)&&(d=rr),P(c)._overflowWeeks&&d===-1&&(d=ks),P(c)._overflowWeekday&&d===-1&&(d=di),P(c).overflow=d),c}var Al=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xl=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oc=/Z|[+-]\d\d(?::?\d\d)?/,_i=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Qi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ho=/^\/?Date\((-?\d+)/i,wi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ml={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Gr(c){var d,g,v=c._i,E=Al.exec(v)||xl.exec(v),k,G,de,Se,Qe=_i.length,Qn=Qi.length;if(E){for(P(c).iso=!0,d=0,g=Qe;d<g;d++)if(_i[d][1].exec(E[1])){G=_i[d][0],k=_i[d][2]!==!1;break}if(G==null){c._isValid=!1;return}if(E[3]){for(d=0,g=Qn;d<g;d++)if(Qi[d][1].exec(E[3])){de=(E[2]||" ")+Qi[d][0];break}if(de==null){c._isValid=!1;return}}if(!k&&de!=null){c._isValid=!1;return}if(E[4])if(oc.exec(E[4]))Se="Z";else{c._isValid=!1;return}c._f=G+(de||"")+(Se||""),_(c)}else c._isValid=!1}function Rl(c,d,g,v,E,k){var G=[Pl(c),pi.indexOf(d),parseInt(g,10),parseInt(v,10),parseInt(E,10)];return k&&G.push(parseInt(k,10)),G}function Pl(c){var d=parseInt(c,10);return d<=49?2e3+d:d<=999?1900+d:d}function Nl(c){return c.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function kl(c,d,g){if(c){var v=gl.indexOf(c),E=new Date(d[0],d[1],d[2]).getDay();if(v!==E)return P(g).weekdayMismatch=!0,g._isValid=!1,!1}return!0}function Hs(c,d,g){if(c)return Ml[c];if(d)return 0;var v=parseInt(g,10),E=v%100,k=(v-E)/100;return k*60+E}function vn(c){var d=wi.exec(Nl(c._i)),g;if(d){if(g=Rl(d[4],d[3],d[2],d[5],d[6],d[7]),!kl(d[1],g,c))return;c._a=g,c._tzm=Hs(d[8],d[9],d[10]),c._d=Oo.apply(null,c._a),c._d.setUTCMinutes(c._d.getUTCMinutes()-c._tzm),P(c).rfc2822=!0}else c._isValid=!1}function Ol(c){var d=Ho.exec(c._i);if(d!==null){c._d=new Date(+d[1]);return}if(Gr(c),c._isValid===!1)delete c._isValid;else return;if(vn(c),c._isValid===!1)delete c._isValid;else return;c._strict?c._isValid=!1:e.createFromInputFallback(c)}e.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(c){c._d=new Date(c._i+(c._useUTC?" UTC":""))});function Ir(c,d,g){return c??d??g}function bi(c){var d=new Date(e.now());return c._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()]}function u(c){var d,g,v=[],E,k,G;if(!c._d){for(E=bi(c),c._w&&c._a[rr]==null&&c._a[_r]==null&&m(c),c._dayOfYear!=null&&(G=Ir(c._a[St],E[St]),(c._dayOfYear>br(G)||c._dayOfYear===0)&&(P(c)._overflowDayOfYear=!0),g=Oo(G,0,c._dayOfYear),c._a[_r]=g.getUTCMonth(),c._a[rr]=g.getUTCDate()),d=0;d<3&&c._a[d]==null;++d)c._a[d]=v[d]=E[d];for(;d<7;d++)c._a[d]=v[d]=c._a[d]==null?d===2?1:0:c._a[d];c._a[mt]===24&&c._a[Yn]===0&&c._a[wr]===0&&c._a[ir]===0&&(c._nextDay=!0,c._a[mt]=0),c._d=(c._useUTC?Oo:fl).apply(null,v),k=c._useUTC?c._d.getUTCDay():c._d.getDay(),c._tzm!=null&&c._d.setUTCMinutes(c._d.getUTCMinutes()-c._tzm),c._nextDay&&(c._a[mt]=24),c._w&&typeof c._w.d<"u"&&c._w.d!==k&&(P(c).weekdayMismatch=!0)}}function m(c){var d,g,v,E,k,G,de,Se,Qe;d=c._w,d.GG!=null||d.W!=null||d.E!=null?(k=1,G=4,g=Ir(d.GG,c._a[St],Hr(Me(),1,4).year),v=Ir(d.W,1),E=Ir(d.E,1),(E<1||E>7)&&(Se=!0)):(k=c._locale._week.dow,G=c._locale._week.doy,Qe=Hr(Me(),k,G),g=Ir(d.gg,c._a[St],Qe.year),v=Ir(d.w,Qe.week),d.d!=null?(E=d.d,(E<0||E>6)&&(Se=!0)):d.e!=null?(E=d.e+k,(d.e<0||d.e>6)&&(Se=!0)):E=k),v<1||v>yn(g,k,G)?P(c)._overflowWeeks=!0:Se!=null?P(c)._overflowWeekday=!0:(de=Kn(g,v,E,k,G),c._a[St]=de.year,c._dayOfYear=de.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function _(c){if(c._f===e.ISO_8601){Gr(c);return}if(c._f===e.RFC_2822){vn(c);return}c._a=[],P(c).empty=!0;var d=""+c._i,g,v,E,k,G,de=d.length,Se=0,Qe,Qn;for(E=Ut(c._f,c._locale).match(Vr)||[],Qn=E.length,g=0;g<Qn;g++)k=E[g],v=(d.match(li(k,c))||[])[0],v&&(G=d.substr(0,d.indexOf(v)),G.length>0&&P(c).unusedInput.push(G),d=d.slice(d.indexOf(v)+v.length),Se+=v.length),an[k]?(v?P(c).empty=!1:P(c).unusedTokens.push(k),al(k,v,c)):c._strict&&!v&&P(c).unusedTokens.push(k);P(c).charsLeftOver=de-Se,d.length>0&&P(c).unusedInput.push(d),c._a[mt]<=12&&P(c).bigHour===!0&&c._a[mt]>0&&(P(c).bigHour=void 0),P(c).parsedDateParts=c._a.slice(0),P(c).meridiem=c._meridiem,c._a[mt]=I(c._locale,c._a[mt],c._meridiem),Qe=P(c).era,Qe!==null&&(c._a[St]=c._locale.erasConvertYear(Qe,c._a[St])),u(c),vi(c)}function I(c,d,g){var v;return g==null?d:c.meridiemHour!=null?c.meridiemHour(d,g):(c.isPM!=null&&(v=c.isPM(g),v&&d<12&&(d+=12),!v&&d===12&&(d=0)),d)}function j(c){var d,g,v,E,k,G,de=!1,Se=c._f.length;if(Se===0){P(c).invalidFormat=!0,c._d=new Date(NaN);return}for(E=0;E<Se;E++)k=0,G=!1,d=ee({},c),c._useUTC!=null&&(d._useUTC=c._useUTC),d._f=c._f[E],_(d),$(d)&&(G=!0),k+=P(d).charsLeftOver,k+=P(d).unusedTokens.length*10,P(d).score=k,de?k<v&&(v=k,g=d):(v==null||k<v||G)&&(v=k,g=d,G&&(de=!0));b(c,g||d)}function H(c){if(!c._d){var d=Mo(c._i),g=d.day===void 0?d.date:d.day;c._a=y([d.year,d.month,g,d.hour,d.minute,d.second,d.millisecond],function(v){return v&&parseInt(v,10)}),u(c)}}function ie(c){var d=new Ie(vi(it(c)));return d._nextDay&&(d.add(1,"d"),d._nextDay=void 0),d}function it(c){var d=c._i,g=c._f;return c._locale=c._locale||Er(c._l),d===null||g===void 0&&d===""?K({nullInput:!0}):(typeof d=="string"&&(c._i=d=c._locale.preparse(d)),pe(d)?new Ie(vi(d)):(h(d)?c._d=d:r(g)?j(c):g?_(c):Ot(c),$(c)||(c._d=null),c))}function Ot(c){var d=c._i;a(d)?c._d=new Date(e.now()):h(d)?c._d=new Date(d.valueOf()):typeof d=="string"?Ol(c):r(d)?(c._a=y(d.slice(0),function(g){return parseInt(g,10)}),u(c)):i(d)?H(c):l(d)?c._d=new Date(d):e.createFromInputFallback(c)}function ze(c,d,g,v,E){var k={};return(d===!0||d===!1)&&(v=d,d=void 0),(g===!0||g===!1)&&(v=g,g=void 0),(i(c)&&s(c)||r(c)&&c.length===0)&&(c=void 0),k._isAMomentObject=!0,k._useUTC=k._isUTC=E,k._l=g,k._i=c,k._f=d,k._strict=v,ie(k)}function Me(c,d,g,v){return ze(c,d,g,v,!1)}var Qt=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var c=Me.apply(null,arguments);return this.isValid()&&c.isValid()?c<this?this:c:K()}),Cr=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var c=Me.apply(null,arguments);return this.isValid()&&c.isValid()?c>this?this:c:K()});function kn(c,d){var g,v;if(d.length===1&&r(d[0])&&(d=d[0]),!d.length)return Me();for(g=d[0],v=1;v<d.length;++v)(!d[v].isValid()||d[v][c](g))&&(g=d[v]);return g}function zs(){var c=[].slice.call(arguments,0);return kn("isBefore",c)}function sc(){var c=[].slice.call(arguments,0);return kn("isAfter",c)}var bv=function(){return Date.now?Date.now():+new Date},qs=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ev(c){var d,g=!1,v,E=qs.length;for(d in c)if(o(c,d)&&!(gt.call(qs,d)!==-1&&(c[d]==null||!isNaN(c[d]))))return!1;for(v=0;v<E;++v)if(c[qs[v]]){if(g)return!1;parseFloat(c[qs[v]])!==Le(c[qs[v]])&&(g=!0)}return!0}function Iv(){return this._isValid}function Cv(){return hn(NaN)}function Fl(c){var d=Mo(c),g=d.year||0,v=d.quarter||0,E=d.month||0,k=d.week||d.isoWeek||0,G=d.day||0,de=d.hour||0,Se=d.minute||0,Qe=d.second||0,Qn=d.millisecond||0;this._isValid=Ev(d),this._milliseconds=+Qn+Qe*1e3+Se*6e4+de*1e3*60*60,this._days=+G+k*7,this._months=+E+v*3+g*12,this._data={},this._locale=Er(),this._bubble()}function ac(c){return c instanceof Fl}function Ll(c){return c<0?Math.round(-1*c)*-1:Math.round(c)}function Tv(c,d,g){var v=Math.min(c.length,d.length),E=Math.abs(c.length-d.length),k=0,G;for(G=0;G<v;G++)(g&&c[G]!==d[G]||!g&&Le(c[G])!==Le(d[G]))&&k++;return k+E}function Vf(c,d){ae(c,0,0,function(){var g=this.utcOffset(),v="+";return g<0&&(g=-g,v="-"),v+sn(~~(g/60),2)+d+sn(~~g%60,2)})}Vf("Z",":"),Vf("ZZ",""),le("Z",Ns),le("ZZ",Ns),rt(["Z","ZZ"],function(c,d,g){g._useUTC=!0,g._tzm=Vl(Ns,c)});var Dv=/([\+\-]|\d\d)/gi;function Vl(c,d){var g=(d||"").match(c),v,E,k;return g===null?null:(v=g[g.length-1]||[],E=(v+"").match(Dv)||["-",0,0],k=+(E[1]*60)+Le(E[2]),k===0?0:E[0]==="+"?k:-k)}function cc(c,d){var g,v;return d._isUTC?(g=d.clone(),v=(pe(c)||h(c)?c.valueOf():Me(c).valueOf())-g.valueOf(),g._d.setTime(g._d.valueOf()+v),e.updateOffset(g,!1),g):Me(c).local()}function Ud(c){return-Math.round(c._d.getTimezoneOffset())}e.updateOffset=function(){};function Sv(c,d,g){var v=this._offset||0,E;if(!this.isValid())return c!=null?this:NaN;if(c!=null){if(typeof c=="string"){if(c=Vl(Ns,c),c===null)return this}else Math.abs(c)<16&&!g&&(c=c*60);return!this._isUTC&&d&&(E=Ud(this)),this._offset=c,this._isUTC=!0,E!=null&&this.add(E,"m"),v!==c&&(!d||this._changeInProgress?zf(this,hn(c-v,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?v:Ud(this)}function Av(c,d){return c!=null?(typeof c!="string"&&(c=-c),this.utcOffset(c,d),this):-this.utcOffset()}function xv(c){return this.utcOffset(0,c)}function Uf(c){return this._isUTC&&(this.utcOffset(0,c),this._isUTC=!1,c&&this.subtract(Ud(this),"m")),this}function Mv(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var c=Vl(Qa,this._i);c!=null?this.utcOffset(c):this.utcOffset(0,!0)}return this}function Rv(c){return this.isValid()?(c=c?Me(c).utcOffset():0,(this.utcOffset()-c)%60===0):!1}function Pv(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Nv(){if(!a(this._isDSTShifted))return this._isDSTShifted;var c={},d;return ee(c,this),c=it(c),c._a?(d=c._isUTC?C(c._a):Me(c._a),this._isDSTShifted=this.isValid()&&Tv(c._a,d.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function kv(){return this.isValid()?!this._isUTC:!1}function Ov(){return this.isValid()?this._isUTC:!1}function jf(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Fv=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Lv=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function hn(c,d){var g=c,v=null,E,k,G;return ac(c)?g={ms:c._milliseconds,d:c._days,M:c._months}:l(c)||!isNaN(+c)?(g={},d?g[d]=+c:g.milliseconds=+c):(v=Fv.exec(c))?(E=v[1]==="-"?-1:1,g={y:0,d:Le(v[rr])*E,h:Le(v[mt])*E,m:Le(v[Yn])*E,s:Le(v[wr])*E,ms:Le(Ll(v[ir]*1e3))*E}):(v=Lv.exec(c))?(E=v[1]==="-"?-1:1,g={y:Zi(v[2],E),M:Zi(v[3],E),w:Zi(v[4],E),d:Zi(v[5],E),h:Zi(v[6],E),m:Zi(v[7],E),s:Zi(v[8],E)}):g==null?g={}:typeof g=="object"&&("from"in g||"to"in g)&&(G=$f(Me(g.from),Me(g.to)),g={},g.ms=G.milliseconds,g.M=G.months),k=new Fl(g),ac(c)&&o(c,"_locale")&&(k._locale=c._locale),ac(c)&&o(c,"_isValid")&&(k._isValid=c._isValid),k}hn.fn=Fl.prototype,hn.invalid=Cv;function Zi(c,d){var g=c&&parseFloat(c.replace(",","."));return(isNaN(g)?0:g)*d}function Bf(c,d){var g={};return g.months=d.month()-c.month()+(d.year()-c.year())*12,c.clone().add(g.months,"M").isAfter(d)&&--g.months,g.milliseconds=+d-+c.clone().add(g.months,"M"),g}function $f(c,d){var g;return c.isValid()&&d.isValid()?(d=cc(d,c),c.isBefore(d)?g=Bf(c,d):(g=Bf(d,c),g.milliseconds=-g.milliseconds,g.months=-g.months),g):{milliseconds:0,months:0}}function Hf(c,d){return function(g,v){var E,k;return v!==null&&!isNaN(+v)&&(L(d,"moment()."+d+"(period, number) is deprecated. Please use moment()."+d+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),k=g,g=v,v=k),E=hn(g,v),zf(this,E,c),this}}function zf(c,d,g,v){var E=d._milliseconds,k=Ll(d._days),G=Ll(d._months);c.isValid()&&(v=v??!0,G&&ko(c,fi(c,"Month")+G*g),k&&Os(c,"Date",fi(c,"Date")+k*g),E&&c._d.setTime(c._d.valueOf()+E*g),v&&e.updateOffset(c,k||G))}var Vv=Hf(1,"add"),qf=Hf(-1,"subtract");function Gf(c){return typeof c=="string"||c instanceof String}function Uv(c){return pe(c)||h(c)||Gf(c)||l(c)||Wr(c)||jv(c)||c===null||c===void 0}function jv(c){var d=i(c)&&!s(c),g=!1,v=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],E,k,G=v.length;for(E=0;E<G;E+=1)k=v[E],g=g||o(c,k);return d&&g}function Wr(c){var d=r(c),g=!1;return d&&(g=c.filter(function(v){return!l(v)&&Gf(c)}).length===0),d&&g}function Gs(c){var d=i(c)&&!s(c),g=!1,v=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],E,k;for(E=0;E<v.length;E+=1)k=v[E],g=g||o(c,k);return d&&g}function Bv(c,d){var g=c.diff(d,"days",!0);return g<-6?"sameElse":g<-1?"lastWeek":g<0?"lastDay":g<1?"sameDay":g<2?"nextDay":g<7?"nextWeek":"sameElse"}function $v(c,d){arguments.length===1&&(arguments[0]?Uv(arguments[0])?(c=arguments[0],d=void 0):Gs(arguments[0])&&(d=arguments[0],c=void 0):(c=void 0,d=void 0));var g=c||Me(),v=cc(g,this).startOf("day"),E=e.calendarFormat(this,v)||"sameElse",k=d&&(V(d[E])?d[E].call(this,g):d[E]);return this.format(k||this.localeData().calendar(E,this,Me(g)))}function Hv(){return new Ie(this)}function zv(c,d){var g=pe(c)?c:Me(c);return this.isValid()&&g.isValid()?(d=st(d)||"millisecond",d==="millisecond"?this.valueOf()>g.valueOf():g.valueOf()<this.clone().startOf(d).valueOf()):!1}function qv(c,d){var g=pe(c)?c:Me(c);return this.isValid()&&g.isValid()?(d=st(d)||"millisecond",d==="millisecond"?this.valueOf()<g.valueOf():this.clone().endOf(d).valueOf()<g.valueOf()):!1}function Gv(c,d,g,v){var E=pe(c)?c:Me(c),k=pe(d)?d:Me(d);return this.isValid()&&E.isValid()&&k.isValid()?(v=v||"()",(v[0]==="("?this.isAfter(E,g):!this.isBefore(E,g))&&(v[1]===")"?this.isBefore(k,g):!this.isAfter(k,g))):!1}function Wv(c,d){var g=pe(c)?c:Me(c),v;return this.isValid()&&g.isValid()?(d=st(d)||"millisecond",d==="millisecond"?this.valueOf()===g.valueOf():(v=g.valueOf(),this.clone().startOf(d).valueOf()<=v&&v<=this.clone().endOf(d).valueOf())):!1}function Ul(c,d){return this.isSame(c,d)||this.isAfter(c,d)}function f(c,d){return this.isSame(c,d)||this.isBefore(c,d)}function p(c,d,g){var v,E,k;if(!this.isValid())return NaN;if(v=cc(c,this),!v.isValid())return NaN;switch(E=(v.utcOffset()-this.utcOffset())*6e4,d=st(d),d){case"year":k=w(this,v)/12;break;case"month":k=w(this,v);break;case"quarter":k=w(this,v)/3;break;case"second":k=(this-v)/1e3;break;case"minute":k=(this-v)/6e4;break;case"hour":k=(this-v)/36e5;break;case"day":k=(this-v-E)/864e5;break;case"week":k=(this-v-E)/6048e5;break;default:k=this-v}return g?k:ln(k)}function w(c,d){if(c.date()<d.date())return-w(d,c);var g=(d.year()-c.year())*12+(d.month()-c.month()),v=c.clone().add(g,"months"),E,k;return d-v<0?(E=c.clone().add(g-1,"months"),k=(d-v)/(v-E)):(E=c.clone().add(g+1,"months"),k=(d-v)/(E-v)),-(g+k)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function x(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function W(c){if(!this.isValid())return null;var d=c!==!0,g=d?this.clone().utc():this;return g.year()<0||g.year()>9999?mr(g,d?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):V(Date.prototype.toISOString)?d?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",mr(g,"Z")):mr(g,d?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function me(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var c="moment",d="",g,v,E,k;return this.isLocal()||(c=this.utcOffset()===0?"moment.utc":"moment.parseZone",d="Z"),g="["+c+'("]',v=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",E="-MM-DD[T]HH:mm:ss.SSS",k=d+'[")]',this.format(g+v+E+k)}function Ft(c){c||(c=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var d=mr(this,c);return this.localeData().postformat(d)}function Yr(c,d){return this.isValid()&&(pe(c)&&c.isValid()||Me(c).isValid())?hn({to:this,from:c}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function Cn(c){return this.from(Me(),c)}function Ws(c,d){return this.isValid()&&(pe(c)&&c.isValid()||Me(c).isValid())?hn({from:this,to:c}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function jd(c){return this.to(Me(),c)}function jT(c){var d;return c===void 0?this._locale._abbr:(d=Er(c),d!=null&&(this._locale=d),this)}var BT=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(c){return c===void 0?this.localeData():this.locale(c)});function $T(){return this._locale}var Wf=1e3,jl=60*Wf,Yf=60*jl,HT=(365*400+97)*24*Yf;function Bl(c,d){return(c%d+d)%d}function zT(c,d,g){return c<100&&c>=0?new Date(c+400,d,g)-HT:new Date(c,d,g).valueOf()}function qT(c,d,g){return c<100&&c>=0?Date.UTC(c+400,d,g)-HT:Date.UTC(c,d,g)}function tF(c){var d,g;if(c=st(c),c===void 0||c==="millisecond"||!this.isValid())return this;switch(g=this._isUTC?qT:zT,c){case"year":d=g(this.year(),0,1);break;case"quarter":d=g(this.year(),this.month()-this.month()%3,1);break;case"month":d=g(this.year(),this.month(),1);break;case"week":d=g(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":d=g(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":d=g(this.year(),this.month(),this.date());break;case"hour":d=this._d.valueOf(),d-=Bl(d+(this._isUTC?0:this.utcOffset()*jl),Yf);break;case"minute":d=this._d.valueOf(),d-=Bl(d,jl);break;case"second":d=this._d.valueOf(),d-=Bl(d,Wf);break}return this._d.setTime(d),e.updateOffset(this,!0),this}function nF(c){var d,g;if(c=st(c),c===void 0||c==="millisecond"||!this.isValid())return this;switch(g=this._isUTC?qT:zT,c){case"year":d=g(this.year()+1,0,1)-1;break;case"quarter":d=g(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":d=g(this.year(),this.month()+1,1)-1;break;case"week":d=g(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":d=g(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":d=g(this.year(),this.month(),this.date()+1)-1;break;case"hour":d=this._d.valueOf(),d+=Yf-Bl(d+(this._isUTC?0:this.utcOffset()*jl),Yf)-1;break;case"minute":d=this._d.valueOf(),d+=jl-Bl(d,jl)-1;break;case"second":d=this._d.valueOf(),d+=Wf-Bl(d,Wf)-1;break}return this._d.setTime(d),e.updateOffset(this,!0),this}function rF(){return this._d.valueOf()-(this._offset||0)*6e4}function iF(){return Math.floor(this.valueOf()/1e3)}function oF(){return new Date(this.valueOf())}function sF(){var c=this;return[c.year(),c.month(),c.date(),c.hour(),c.minute(),c.second(),c.millisecond()]}function aF(){var c=this;return{years:c.year(),months:c.month(),date:c.date(),hours:c.hours(),minutes:c.minutes(),seconds:c.seconds(),milliseconds:c.milliseconds()}}function cF(){return this.isValid()?this.toISOString():null}function lF(){return $(this)}function uF(){return b({},P(this))}function dF(){return P(this).overflow}function hF(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ae("N",0,0,"eraAbbr"),ae("NN",0,0,"eraAbbr"),ae("NNN",0,0,"eraAbbr"),ae("NNNN",0,0,"eraName"),ae("NNNNN",0,0,"eraNarrow"),ae("y",["y",1],"yo","eraYear"),ae("y",["yy",2],0,"eraYear"),ae("y",["yyy",3],0,"eraYear"),ae("y",["yyyy",4],0,"eraYear"),le("N",Yv),le("NN",Yv),le("NNN",Yv),le("NNNN",IF),le("NNNNN",CF),rt(["N","NN","NNN","NNNN","NNNNN"],function(c,d,g,v){var E=g._locale.erasParse(c,v,g._strict);E?P(g).era=E:P(g).invalidEra=c}),le("y",si),le("yy",si),le("yyy",si),le("yyyy",si),le("yo",TF),rt(["y","yy","yyy","yyyy"],St),rt(["yo"],function(c,d,g,v){var E;g._locale._eraYearOrdinalRegex&&(E=c.match(g._locale._eraYearOrdinalRegex)),g._locale.eraYearOrdinalParse?d[St]=g._locale.eraYearOrdinalParse(c,E):d[St]=parseInt(c,10)});function fF(c,d){var g,v,E,k=this._eras||Er("en")._eras;for(g=0,v=k.length;g<v;++g){switch(typeof k[g].since){case"string":E=e(k[g].since).startOf("day"),k[g].since=E.valueOf();break}switch(typeof k[g].until){case"undefined":k[g].until=1/0;break;case"string":E=e(k[g].until).startOf("day").valueOf(),k[g].until=E.valueOf();break}}return k}function pF(c,d,g){var v,E,k=this.eras(),G,de,Se;for(c=c.toUpperCase(),v=0,E=k.length;v<E;++v)if(G=k[v].name.toUpperCase(),de=k[v].abbr.toUpperCase(),Se=k[v].narrow.toUpperCase(),g)switch(d){case"N":case"NN":case"NNN":if(de===c)return k[v];break;case"NNNN":if(G===c)return k[v];break;case"NNNNN":if(Se===c)return k[v];break}else if([G,de,Se].indexOf(c)>=0)return k[v]}function mF(c,d){var g=c.since<=c.until?1:-1;return d===void 0?e(c.since).year():e(c.since).year()+(d-c.offset)*g}function gF(){var c,d,g,v=this.localeData().eras();for(c=0,d=v.length;c<d;++c)if(g=this.clone().startOf("day").valueOf(),v[c].since<=g&&g<=v[c].until||v[c].until<=g&&g<=v[c].since)return v[c].name;return""}function yF(){var c,d,g,v=this.localeData().eras();for(c=0,d=v.length;c<d;++c)if(g=this.clone().startOf("day").valueOf(),v[c].since<=g&&g<=v[c].until||v[c].until<=g&&g<=v[c].since)return v[c].narrow;return""}function vF(){var c,d,g,v=this.localeData().eras();for(c=0,d=v.length;c<d;++c)if(g=this.clone().startOf("day").valueOf(),v[c].since<=g&&g<=v[c].until||v[c].until<=g&&g<=v[c].since)return v[c].abbr;return""}function _F(){var c,d,g,v,E=this.localeData().eras();for(c=0,d=E.length;c<d;++c)if(g=E[c].since<=E[c].until?1:-1,v=this.clone().startOf("day").valueOf(),E[c].since<=v&&v<=E[c].until||E[c].until<=v&&v<=E[c].since)return(this.year()-e(E[c].since).year())*g+E[c].offset;return this.year()}function wF(c){return o(this,"_erasNameRegex")||Kv.call(this),c?this._erasNameRegex:this._erasRegex}function bF(c){return o(this,"_erasAbbrRegex")||Kv.call(this),c?this._erasAbbrRegex:this._erasRegex}function EF(c){return o(this,"_erasNarrowRegex")||Kv.call(this),c?this._erasNarrowRegex:this._erasRegex}function Yv(c,d){return d.erasAbbrRegex(c)}function IF(c,d){return d.erasNameRegex(c)}function CF(c,d){return d.erasNarrowRegex(c)}function TF(c,d){return d._eraYearOrdinalRegex||si}function Kv(){var c=[],d=[],g=[],v=[],E,k,G,de,Se,Qe=this.eras();for(E=0,k=Qe.length;E<k;++E)G=nr(Qe[E].name),de=nr(Qe[E].abbr),Se=nr(Qe[E].narrow),d.push(G),c.push(de),g.push(Se),v.push(G),v.push(de),v.push(Se);this._erasRegex=new RegExp("^("+v.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+d.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+c.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+g.join("|")+")","i")}ae(0,["gg",2],0,function(){return this.weekYear()%100}),ae(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Kf(c,d){ae(0,[c,c.length],0,d)}Kf("gggg","weekYear"),Kf("ggggg","weekYear"),Kf("GGGG","isoWeekYear"),Kf("GGGGG","isoWeekYear"),le("G",Wn),le("g",Wn),le("GG",Pe,Kt),le("gg",Pe,Kt),le("GGGG",Ps,oi),le("gggg",Ps,oi),le("GGGGG",Ur,Nt),le("ggggg",Ur,Nt),kt(["gggg","ggggg","GGGG","GGGGG"],function(c,d,g,v){d[v.substr(0,2)]=Le(c)}),kt(["gg","GG"],function(c,d,g,v){d[v]=e.parseTwoDigitYear(c)});function DF(c){return GT.call(this,c,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function SF(c){return GT.call(this,c,this.isoWeek(),this.isoWeekday(),1,4)}function AF(){return yn(this.year(),1,4)}function xF(){return yn(this.isoWeekYear(),1,4)}function MF(){var c=this.localeData()._week;return yn(this.year(),c.dow,c.doy)}function RF(){var c=this.localeData()._week;return yn(this.weekYear(),c.dow,c.doy)}function GT(c,d,g,v,E){var k;return c==null?Hr(this,v,E).year:(k=yn(c,v,E),d>k&&(d=k),PF.call(this,c,d,g,v,E))}function PF(c,d,g,v,E){var k=Kn(c,d,g,v,E),G=Oo(k.year,0,k.dayOfYear);return this.year(G.getUTCFullYear()),this.month(G.getUTCMonth()),this.date(G.getUTCDate()),this}ae("Q",0,"Qo","quarter"),le("Q",sl),rt("Q",function(c,d){d[_r]=(Le(c)-1)*3});function NF(c){return c==null?Math.ceil((this.month()+1)/3):this.month((c-1)*3+this.month()%3)}ae("D",["DD",2],"Do","date"),le("D",Pe,ci),le("DD",Pe,Kt),le("Do",function(c,d){return c?d._dayOfMonthOrdinalParse||d._ordinalParse:d._dayOfMonthOrdinalParseLenient}),rt(["D","DD"],rr),rt("Do",function(c,d){d[rr]=Le(c.match(Pe)[0])});var WT=hi("Date",!0);ae("DDD",["DDDD",3],"DDDo","dayOfYear"),le("DDD",Po),le("DDDD",Ro),rt(["DDD","DDDD"],function(c,d,g){g._dayOfYear=Le(c)});function kF(c){var d=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return c==null?d:this.add(c-d,"d")}ae("m",["mm",2],0,"minute"),le("m",Pe,Gi),le("mm",Pe,Kt),rt(["m","mm"],Yn);var OF=hi("Minutes",!1);ae("s",["ss",2],0,"second"),le("s",Pe,Gi),le("ss",Pe,Kt),rt(["s","ss"],wr);var FF=hi("Seconds",!1);ae("S",0,0,function(){return~~(this.millisecond()/100)}),ae(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ae(0,["SSS",3],0,"millisecond"),ae(0,["SSSS",4],0,function(){return this.millisecond()*10}),ae(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ae(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ae(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ae(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ae(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),le("S",Po,sl),le("SS",Po,Kt),le("SSS",Po,Ro);var Ys,YT;for(Ys="SSSS";Ys.length<=9;Ys+="S")le(Ys,si);function LF(c,d){d[ir]=Le(("0."+c)*1e3)}for(Ys="S";Ys.length<=9;Ys+="S")rt(Ys,LF);YT=hi("Milliseconds",!1),ae("z",0,0,"zoneAbbr"),ae("zz",0,0,"zoneName");function VF(){return this._isUTC?"UTC":""}function UF(){return this._isUTC?"Coordinated Universal Time":""}var te=Ie.prototype;te.add=Vv,te.calendar=$v,te.clone=Hv,te.diff=p,te.endOf=nF,te.format=Ft,te.from=Yr,te.fromNow=Cn,te.to=Ws,te.toNow=jd,te.get=Za,te.invalidAt=dF,te.isAfter=zv,te.isBefore=qv,te.isBetween=Gv,te.isSame=Wv,te.isSameOrAfter=Ul,te.isSameOrBefore=f,te.isValid=lF,te.lang=BT,te.locale=jT,te.localeData=$T,te.max=Cr,te.min=Qt,te.parsingFlags=uF,te.set=cl,te.startOf=tF,te.subtract=qf,te.toArray=sF,te.toObject=aF,te.toDate=oF,te.toISOString=W,te.inspect=me,typeof Symbol<"u"&&Symbol.for!=null&&(te[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),te.toJSON=cF,te.toString=x,te.unix=iF,te.valueOf=rF,te.creationData=hF,te.eraName=gF,te.eraNarrow=yF,te.eraAbbr=vF,te.eraYear=_F,te.year=Nn,te.isLeapYear=un,te.weekYear=DF,te.isoWeekYear=SF,te.quarter=te.quarters=NF,te.month=Fs,te.daysInMonth=hl,te.week=te.weeks=Lo,te.isoWeek=te.isoWeeks=kd,te.weeksInYear=MF,te.weeksInWeekYear=RF,te.isoWeeksInYear=AF,te.isoWeeksInISOWeekYear=xF,te.date=WT,te.day=te.days=qr,te.weekday=Us,te.isoWeekday=Ld,te.dayOfYear=kF,te.hour=te.hours=Il,te.minute=te.minutes=OF,te.second=te.seconds=FF,te.millisecond=te.milliseconds=YT,te.utcOffset=Sv,te.utc=xv,te.local=Uf,te.parseZone=Mv,te.hasAlignedHourOffset=Rv,te.isDST=Pv,te.isLocal=kv,te.isUtcOffset=Ov,te.isUtc=jf,te.isUTC=jf,te.zoneAbbr=VF,te.zoneName=UF,te.dates=A("dates accessor is deprecated. Use date instead.",WT),te.months=A("months accessor is deprecated. Use month instead",Fs),te.years=A("years accessor is deprecated. Use year instead",Nn),te.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Av),te.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Nv);function jF(c){return Me(c*1e3)}function BF(){return Me.apply(null,arguments).parseZone()}function KT(c){return c}var at=Gn.prototype;at.calendar=pr,at.longDateFormat=Ad,at.invalidDate=zi,at.ordinal=Be,at.preparse=KT,at.postformat=KT,at.relativeTime=yr,at.pastFuture=ii,at.set=B,at.eras=fF,at.erasParse=pF,at.erasConvertYear=mF,at.erasAbbrRegex=bF,at.erasNameRegex=wF,at.erasNarrowRegex=EF,at.months=ll,at.monthsShort=ul,at.monthsParse=ec,at.monthsRegex=Nd,at.monthsShortRegex=Pd,at.week=tc,at.firstDayOfYear=Fo,at.firstDayOfWeek=Vs,at.weekdays=_l,at.weekdaysMin=Od,at.weekdaysShort=Wi,at.weekdaysParse=wl,at.weekdaysRegex=jo,at.weekdaysShortRegex=js,at.weekdaysMinRegex=Yi,at.isPM=El,at.meridiem=Cl;function Qf(c,d,g,v){var E=Er(),k=C().set(v,d);return E[g](k,c)}function QT(c,d,g){if(l(c)&&(d=c,c=void 0),c=c||"",d!=null)return Qf(c,d,g,"month");var v,E=[];for(v=0;v<12;v++)E[v]=Qf(c,v,g,"month");return E}function Qv(c,d,g,v){typeof c=="boolean"?(l(d)&&(g=d,d=void 0),d=d||""):(d=c,g=d,c=!1,l(d)&&(g=d,d=void 0),d=d||"");var E=Er(),k=c?E._week.dow:0,G,de=[];if(g!=null)return Qf(d,(g+k)%7,v,"day");for(G=0;G<7;G++)de[G]=Qf(d,(G+k)%7,v,"day");return de}function $F(c,d){return QT(c,d,"months")}function HF(c,d){return QT(c,d,"monthsShort")}function zF(c,d,g){return Qv(c,d,g,"weekdays")}function qF(c,d,g){return Qv(c,d,g,"weekdaysShort")}function GF(c,d,g){return Qv(c,d,g,"weekdaysMin")}In("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(c){var d=c%10,g=Le(c%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th";return c+g}}),e.lang=A("moment.lang is deprecated. Use moment.locale instead.",In),e.langData=A("moment.langData is deprecated. Use moment.localeData instead.",Er);var zo=Math.abs;function WF(){var c=this._data;return this._milliseconds=zo(this._milliseconds),this._days=zo(this._days),this._months=zo(this._months),c.milliseconds=zo(c.milliseconds),c.seconds=zo(c.seconds),c.minutes=zo(c.minutes),c.hours=zo(c.hours),c.months=zo(c.months),c.years=zo(c.years),this}function ZT(c,d,g,v){var E=hn(d,g);return c._milliseconds+=v*E._milliseconds,c._days+=v*E._days,c._months+=v*E._months,c._bubble()}function YF(c,d){return ZT(this,c,d,1)}function KF(c,d){return ZT(this,c,d,-1)}function JT(c){return c<0?Math.floor(c):Math.ceil(c)}function QF(){var c=this._milliseconds,d=this._days,g=this._months,v=this._data,E,k,G,de,Se;return c>=0&&d>=0&&g>=0||c<=0&&d<=0&&g<=0||(c+=JT(Zv(g)+d)*864e5,d=0,g=0),v.milliseconds=c%1e3,E=ln(c/1e3),v.seconds=E%60,k=ln(E/60),v.minutes=k%60,G=ln(k/60),v.hours=G%24,d+=ln(G/24),Se=ln(XT(d)),g+=Se,d-=JT(Zv(Se)),de=ln(g/12),g%=12,v.days=d,v.months=g,v.years=de,this}function XT(c){return c*4800/146097}function Zv(c){return c*146097/4800}function ZF(c){if(!this.isValid())return NaN;var d,g,v=this._milliseconds;if(c=st(c),c==="month"||c==="quarter"||c==="year")switch(d=this._days+v/864e5,g=this._months+XT(d),c){case"month":return g;case"quarter":return g/3;case"year":return g/12}else switch(d=this._days+Math.round(Zv(this._months)),c){case"week":return d/7+v/6048e5;case"day":return d+v/864e5;case"hour":return d*24+v/36e5;case"minute":return d*1440+v/6e4;case"second":return d*86400+v/1e3;case"millisecond":return Math.floor(d*864e5)+v;default:throw new Error("Unknown unit "+c)}}function qo(c){return function(){return this.as(c)}}var eD=qo("ms"),JF=qo("s"),XF=qo("m"),e2=qo("h"),t2=qo("d"),n2=qo("w"),r2=qo("M"),i2=qo("Q"),o2=qo("y"),s2=eD;function a2(){return hn(this)}function c2(c){return c=st(c),this.isValid()?this[c+"s"]():NaN}function lc(c){return function(){return this.isValid()?this._data[c]:NaN}}var l2=lc("milliseconds"),u2=lc("seconds"),d2=lc("minutes"),h2=lc("hours"),f2=lc("days"),p2=lc("months"),m2=lc("years");function g2(){return ln(this.days()/7)}var Go=Math.round,$l={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function y2(c,d,g,v,E){return E.relativeTime(d||1,!!g,c,v)}function v2(c,d,g,v){var E=hn(c).abs(),k=Go(E.as("s")),G=Go(E.as("m")),de=Go(E.as("h")),Se=Go(E.as("d")),Qe=Go(E.as("M")),Qn=Go(E.as("w")),Wo=Go(E.as("y")),Ks=k<=g.ss&&["s",k]||k<g.s&&["ss",k]||G<=1&&["m"]||G<g.m&&["mm",G]||de<=1&&["h"]||de<g.h&&["hh",de]||Se<=1&&["d"]||Se<g.d&&["dd",Se];return g.w!=null&&(Ks=Ks||Qn<=1&&["w"]||Qn<g.w&&["ww",Qn]),Ks=Ks||Qe<=1&&["M"]||Qe<g.M&&["MM",Qe]||Wo<=1&&["y"]||["yy",Wo],Ks[2]=d,Ks[3]=+c>0,Ks[4]=v,y2.apply(null,Ks)}function _2(c){return c===void 0?Go:typeof c=="function"?(Go=c,!0):!1}function w2(c,d){return $l[c]===void 0?!1:d===void 0?$l[c]:($l[c]=d,c==="s"&&($l.ss=d-1),!0)}function b2(c,d){if(!this.isValid())return this.localeData().invalidDate();var g=!1,v=$l,E,k;return typeof c=="object"&&(d=c,c=!1),typeof c=="boolean"&&(g=c),typeof d=="object"&&(v=Object.assign({},$l,d),d.s!=null&&d.ss==null&&(v.ss=d.s-1)),E=this.localeData(),k=v2(this,!g,v,E),g&&(k=E.pastFuture(+this,k)),E.postformat(k)}var Jv=Math.abs;function Hl(c){return(c>0)-(c<0)||+c}function Zf(){if(!this.isValid())return this.localeData().invalidDate();var c=Jv(this._milliseconds)/1e3,d=Jv(this._days),g=Jv(this._months),v,E,k,G,de=this.asSeconds(),Se,Qe,Qn,Wo;return de?(v=ln(c/60),E=ln(v/60),c%=60,v%=60,k=ln(g/12),g%=12,G=c?c.toFixed(3).replace(/\.?0+$/,""):"",Se=de<0?"-":"",Qe=Hl(this._months)!==Hl(de)?"-":"",Qn=Hl(this._days)!==Hl(de)?"-":"",Wo=Hl(this._milliseconds)!==Hl(de)?"-":"",Se+"P"+(k?Qe+k+"Y":"")+(g?Qe+g+"M":"")+(d?Qn+d+"D":"")+(E||v||c?"T":"")+(E?Wo+E+"H":"")+(v?Wo+v+"M":"")+(c?Wo+G+"S":"")):"P0D"}var Je=Fl.prototype;Je.isValid=Iv,Je.abs=WF,Je.add=YF,Je.subtract=KF,Je.as=ZF,Je.asMilliseconds=eD,Je.asSeconds=JF,Je.asMinutes=XF,Je.asHours=e2,Je.asDays=t2,Je.asWeeks=n2,Je.asMonths=r2,Je.asQuarters=i2,Je.asYears=o2,Je.valueOf=s2,Je._bubble=QF,Je.clone=a2,Je.get=c2,Je.milliseconds=l2,Je.seconds=u2,Je.minutes=d2,Je.hours=h2,Je.days=f2,Je.weeks=g2,Je.months=p2,Je.years=m2,Je.humanize=b2,Je.toISOString=Zf,Je.toString=Zf,Je.toJSON=Zf,Je.locale=jT,Je.localeData=$T,Je.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zf),Je.lang=BT,ae("X",0,0,"unix"),ae("x",0,0,"valueOf"),le("x",Wn),le("X",xd),rt("X",function(c,d,g){g._d=new Date(parseFloat(c)*1e3)}),rt("x",function(c,d,g){g._d=new Date(Le(c))});return e.version="2.30.1",t(Me),e.fn=te,e.min=zs,e.max=sc,e.now=bv,e.utc=C,e.unix=jF,e.months=$F,e.isDate=h,e.locale=In,e.invalid=K,e.duration=hn,e.isMoment=pe,e.weekdays=zF,e.parseZone=BF,e.localeData=Er,e.isDuration=ac,e.monthsShort=HF,e.weekdaysMin=GF,e.defineLocale=Bs,e.updateLocale=$s,e.locales=Sl,e.weekdaysShort=qF,e.normalizeUnits=st,e.relativeTimeRounding=_2,e.relativeTimeThreshold=w2,e.calendarFormat=Bv,e.prototype=te,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var JO=t_((UT,ZO)=>{"use strict";(function(n,e){typeof UT=="object"&&typeof ZO<"u"&&typeof Xf=="function"?e(VT()):typeof define=="function"&&define.amd?define(["../moment"],e):e(n.moment)})(UT,function(n){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),t="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,o=n.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(s,a){return s?/-MMM-/.test(a)?t[s.month()]:e[s.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xE9rcoles_jueves_viernes_s\xE1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xE9._jue._vie._s\xE1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xE1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[ma\xF1ana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d\xBA",week:{dow:1,doy:4},invalidDate:"Fecha inv\xE1lida"});return o})});function iD(n,e){return Object.is(n,e)}var fn=null,tp=!1,np=1,Ko=Symbol("SIGNAL");function ot(n){let e=fn;return fn=n,e}function oD(){return fn}var $d={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function i_(n){if(tp)throw new Error("");if(fn===null)return;fn.consumerOnSignalRead(n);let e=fn.nextProducerIndex++;if(sp(fn),e<fn.producerNode.length&&fn.producerNode[e]!==n&&Bd(fn)){let t=fn.producerNode[e];op(t,fn.producerIndexOfThis[e])}fn.producerNode[e]!==n&&(fn.producerNode[e]=n,fn.producerIndexOfThis[e]=Bd(fn)?lD(n,fn,e):0),fn.producerLastReadVersion[e]=n.version}function x2(){np++}function sD(n){if(!(Bd(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===np)){if(!n.producerMustRecompute(n)&&!s_(n)){n.dirty=!1,n.lastCleanEpoch=np;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=np}}function aD(n){if(n.liveConsumerNode===void 0)return;let e=tp;tp=!0;try{for(let t of n.liveConsumerNode)t.dirty||M2(t)}finally{tp=e}}function cD(){return fn?.consumerAllowSignalWrites!==!1}function M2(n){n.dirty=!0,aD(n),n.consumerMarkedDirty?.(n)}function ip(n){return n&&(n.nextProducerIndex=0),ot(n)}function o_(n,e){if(ot(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Bd(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)op(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function s_(n){sp(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(sD(t),r!==t.version))return!0}return!1}function a_(n){if(sp(n),Bd(n))for(let e=0;e<n.producerNode.length;e++)op(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function lD(n,e,t){if(uD(n),n.liveConsumerNode.length===0&&dD(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=lD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function op(n,e){if(uD(n),n.liveConsumerNode.length===1&&dD(n))for(let r=0;r<n.producerNode.length;r++)op(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];sp(i),i.producerIndexOfThis[r]=e}}function Bd(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function sp(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function uD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function dD(n){return n.producerNode!==void 0}function hD(n){let e=Object.create(R2);e.computation=n;let t=()=>{if(sD(e),i_(e),e.value===rp)throw e.error;return e.value};return t[Ko]=e,t}var n_=Symbol("UNSET"),r_=Symbol("COMPUTING"),rp=Symbol("ERRORED"),R2=$e(ne({},$d),{value:n_,dirty:!0,error:null,equal:iD,producerMustRecompute(n){return n.value===n_||n.value===r_},producerRecomputeValue(n){if(n.value===r_)throw new Error("Detected cycle in computations.");let e=n.value;n.value=r_;let t=ip(n),r;try{r=n.computation()}catch(i){r=rp,n.error=i}finally{o_(n,t)}if(e!==n_&&e!==rp&&r!==rp&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function P2(){throw new Error}var fD=P2;function pD(){fD()}function mD(n){fD=n}var N2=null;function gD(n){let e=Object.create(vD);e.value=n;let t=()=>(i_(e),e.value);return t[Ko]=e,t}function c_(n,e){cD()||pD(),n.equal(n.value,e)||(n.value=e,k2(n))}function yD(n,e){cD()||pD(),c_(n,e(n.value))}var vD=$e(ne({},$d),{equal:iD,value:void 0});function k2(n){n.version++,x2(),aD(n),N2?.()}function Ne(n){return typeof n=="function"}function zl(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ap=zl(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function uc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var $t=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Ne(r))try{r()}catch(o){e=o instanceof ap?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{_D(o)}catch(s){e=e??[],s instanceof ap?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ap(e)}}add(e){var t;if(e&&e!==this)if(this.closed)_D(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&uc(t,e)}remove(e){let{_finalizers:t}=this;t&&uc(t,e),e instanceof n&&e._removeParent(this)}};$t.EMPTY=(()=>{let n=new $t;return n.closed=!0,n})();var l_=$t.EMPTY;function cp(n){return n instanceof $t||n&&"closed"in n&&Ne(n.remove)&&Ne(n.add)&&Ne(n.unsubscribe)}function _D(n){Ne(n)?n():n.unsubscribe()}var Ei={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ql={setTimeout(n,e,...t){let{delegate:r}=ql;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ql;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function lp(n){ql.setTimeout(()=>{let{onUnhandledError:e}=Ei;if(e)e(n);else throw n})}function Hd(){}var wD=u_("C",void 0,void 0);function bD(n){return u_("E",void 0,n)}function ED(n){return u_("N",n,void 0)}function u_(n,e,t){return{kind:n,value:e,error:t}}var dc=null;function Gl(n){if(Ei.useDeprecatedSynchronousErrorHandling){let e=!dc;if(e&&(dc={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=dc;if(dc=null,t)throw r}}else n()}function ID(n){Ei.useDeprecatedSynchronousErrorHandling&&dc&&(dc.errorThrown=!0,dc.error=n)}var hc=class extends $t{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cp(e)&&e.add(this)):this.destination=L2}static create(e,t,r){return new Wl(e,t,r)}next(e){this.isStopped?h_(ED(e),this):this._next(e)}error(e){this.isStopped?h_(bD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?h_(wD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},O2=Function.prototype.bind;function d_(n,e){return O2.call(n,e)}var f_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){up(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){up(r)}else up(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){up(t)}}},Wl=class extends hc{constructor(e,t,r){super();let i;if(Ne(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ei.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&d_(e.next,o),error:e.error&&d_(e.error,o),complete:e.complete&&d_(e.complete,o)}):i=e}this.destination=new f_(i)}};function up(n){Ei.useDeprecatedSynchronousErrorHandling?ID(n):lp(n)}function F2(n){throw n}function h_(n,e){let{onStoppedNotification:t}=Ei;t&&ql.setTimeout(()=>t(n,e))}var L2={closed:!0,next:Hd,error:F2,complete:Hd};var Yl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tr(n){return n}function p_(...n){return m_(n)}function m_(n){return n.length===0?Tr:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var qe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=U2(t)?t:new Wl(t,r,i);return Gl(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=CD(r),new r((i,o)=>{let s=new Wl({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Yl](){return this}pipe(...t){return m_(t)(this)}toPromise(t){return t=CD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function CD(n){var e;return(e=n??Ei.Promise)!==null&&e!==void 0?e:Promise}function V2(n){return n&&Ne(n.next)&&Ne(n.error)&&Ne(n.complete)}function U2(n){return n&&n instanceof hc||V2(n)&&cp(n)}function g_(n){return Ne(n?.lift)}function Xe(n){return e=>{if(g_(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ge(n,e,t,r,i){return new y_(n,e,t,r,i)}var y_=class extends hc{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Kl(){return Xe((n,e)=>{let t=null;n._refCount++;let r=Ge(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ql=class extends qe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,g_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $t;let t=this.getSubject();e.add(this.source.subscribe(Ge(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$t.EMPTY)}return e}refCount(){return Kl()(this)}};var TD=zl(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pn=(()=>{class n extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new dp(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new TD}next(t){Gl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Gl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Gl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?l_:(this.currentObservers=null,o.push(t),new $t(()=>{this.currentObservers=null,uc(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new qe;return t.source=this,t}}return n.create=(e,t)=>new dp(e,t),n})(),dp=class extends pn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:l_}};var mn=class extends pn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var v_={now(){return(v_.delegate||Date).now()},delegate:void 0};var hp=class extends $t{constructor(e,t){super()}schedule(e,t=0){return this}};var zd={setInterval(n,e,...t){let{delegate:r}=zd;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=zd;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Zl=class extends hp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return zd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&zd.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,uc(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Jl=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Jl.now=v_.now;var Xl=class extends Jl{constructor(e,t=Jl.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var __=new Xl(Zl);var fp=class extends Zl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var pp=class extends Xl{};var w_=new pp(fp);var Dr=new qe(n=>n.complete());function DD(n){return n&&Ne(n.schedule)}function SD(n){return n[n.length-1]}function mp(n){return Ne(SD(n))?n.pop():void 0}function Zs(n){return DD(SD(n))?n.pop():void 0}function b_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function xD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(y){try{h(r.next(y))}catch(b){s(b)}}function l(y){try{h(r.throw(y))}catch(b){s(b)}}function h(y){y.done?o(y.value):i(y.value).then(a,l)}h((r=r.apply(n,e||[])).next())})}function AD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fc(n){return this instanceof fc?(this.v=n,this):new fc(n)}function MD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(T){return function(P){return Promise.resolve(P).then(T,b)}}function a(T,P){r[T]&&(i[T]=function(z){return new Promise(function($,K){o.push([T,z,$,K])>1||l(T,z)})},P&&(i[T]=P(i[T])))}function l(T,P){try{h(r[T](P))}catch(z){C(o[0][3],z)}}function h(T){T.value instanceof fc?Promise.resolve(T.value.v).then(y,b):C(o[0][2],T)}function y(T){l("next",T)}function b(T){l("throw",T)}function C(T,P){T(P),o.shift(),o.length&&l(o[0][0],o[0][1])}}function RD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof AD=="function"?AD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(h){o({value:h,done:a})},s)}}var gp=n=>n&&typeof n.length=="number"&&typeof n!="function";function yp(n){return Ne(n?.then)}function vp(n){return Ne(n[Yl])}function _p(n){return Symbol.asyncIterator&&Ne(n?.[Symbol.asyncIterator])}function wp(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function j2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bp=j2();function Ep(n){return Ne(n?.[bp])}function Ip(n){return MD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield fc(t.read());if(i)return yield fc(void 0);yield yield fc(r)}}finally{t.releaseLock()}})}function Cp(n){return Ne(n?.getReader)}function Zt(n){if(n instanceof qe)return n;if(n!=null){if(vp(n))return B2(n);if(gp(n))return $2(n);if(yp(n))return H2(n);if(_p(n))return PD(n);if(Ep(n))return z2(n);if(Cp(n))return q2(n)}throw wp(n)}function B2(n){return new qe(e=>{let t=n[Yl]();if(Ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $2(n){return new qe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function H2(n){return new qe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,lp)})}function z2(n){return new qe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function PD(n){return new qe(e=>{G2(n,e).catch(t=>e.error(t))})}function q2(n){return PD(Ip(n))}function G2(n,e){var t,r,i,o;return xD(this,void 0,void 0,function*(){try{for(t=RD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function or(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Js(n,e=0){return Xe((t,r)=>{t.subscribe(Ge(r,i=>or(r,n,()=>r.next(i),e),()=>or(r,n,()=>r.complete(),e),i=>or(r,n,()=>r.error(i),e)))})}function Xs(n,e=0){return Xe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ND(n,e){return Zt(n).pipe(Xs(e),Js(e))}function kD(n,e){return Zt(n).pipe(Xs(e),Js(e))}function OD(n,e){return new qe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function FD(n,e){return new qe(t=>{let r;return or(t,e,()=>{r=n[bp](),or(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Ne(r?.return)&&r.return()})}function Tp(n,e){if(!n)throw new Error("Iterable cannot be null");return new qe(t=>{or(t,e,()=>{let r=n[Symbol.asyncIterator]();or(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function LD(n,e){return Tp(Ip(n),e)}function VD(n,e){if(n!=null){if(vp(n))return ND(n,e);if(gp(n))return OD(n,e);if(yp(n))return kD(n,e);if(_p(n))return Tp(n,e);if(Ep(n))return FD(n,e);if(Cp(n))return LD(n,e)}throw wp(n)}function bt(n,e){return e?VD(n,e):Zt(n)}function _e(...n){let e=Zs(n);return bt(n,e)}function eu(n,e){let t=Ne(n)?n:()=>n,r=i=>i.error(t());return new qe(e?i=>e.schedule(r,0,i):r)}function E_(n){return!!n&&(n instanceof qe||Ne(n.lift)&&Ne(n.subscribe))}var Qo=zl(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Oe(n,e){return Xe((t,r)=>{let i=0;t.subscribe(Ge(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:W2}=Array;function Y2(n,e){return W2(e)?n(...e):n(e)}function Dp(n){return Oe(e=>Y2(n,e))}var{isArray:K2}=Array,{getPrototypeOf:Q2,prototype:Z2,keys:J2}=Object;function Sp(n){if(n.length===1){let e=n[0];if(K2(e))return{args:e,keys:null};if(X2(e)){let t=J2(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function X2(n){return n&&typeof n=="object"&&Q2(n)===Z2}function Ap(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function qd(...n){let e=Zs(n),t=mp(n),{args:r,keys:i}=Sp(n);if(r.length===0)return bt([],e);let o=new qe(eL(r,e,i?s=>Ap(i,s):Tr));return t?o.pipe(Dp(t)):o}function eL(n,e,t=Tr){return r=>{UD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)UD(e,()=>{let h=bt(n[l],e),y=!1;h.subscribe(Ge(r,b=>{o[l]=b,y||(y=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function UD(n,e,t){n?or(t,n,e):e()}function jD(n,e,t,r,i,o,s,a){let l=[],h=0,y=0,b=!1,C=()=>{b&&!l.length&&!h&&e.complete()},T=z=>h<r?P(z):l.push(z),P=z=>{o&&e.next(z),h++;let $=!1;Zt(t(z,y++)).subscribe(Ge(e,K=>{i?.(K),o?T(K):e.next(K)},()=>{$=!0},void 0,()=>{if($)try{for(h--;l.length&&h<r;){let K=l.shift();s?or(e,s,()=>P(K)):P(K)}C()}catch(K){e.error(K)}}))};return n.subscribe(Ge(e,T,()=>{b=!0,C()})),()=>{a?.()}}function Jt(n,e,t=1/0){return Ne(e)?Jt((r,i)=>Oe((o,s)=>e(r,o,i,s))(Zt(n(r,i))),t):(typeof e=="number"&&(t=e),Xe((r,i)=>jD(r,i,n,t)))}function ea(n=1/0){return Jt(Tr,n)}function BD(){return ea(1)}function tu(...n){return BD()(bt(n,Zs(n)))}function xp(n){return new qe(e=>{Zt(n()).subscribe(e)})}function I_(...n){let e=mp(n),{args:t,keys:r}=Sp(n),i=new qe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,h=s;for(let y=0;y<s;y++){let b=!1;Zt(t[y]).subscribe(Ge(o,C=>{b||(b=!0,h--),a[y]=C},()=>l--,void 0,()=>{(!l||!b)&&(h||o.next(r?Ap(r,a):a),o.complete())}))}});return e?i.pipe(Dp(e)):i}function On(n,e){return Xe((t,r)=>{let i=0;t.subscribe(Ge(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ta(n){return Xe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ge(t,void 0,void 0,s=>{o=Zt(n(s,ta(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function $D(n,e,t,r,i){return(o,s)=>{let a=t,l=e,h=0;o.subscribe(Ge(s,y=>{let b=h++;l=a?n(l,y,b):(a=!0,y),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Zo(n,e){return Ne(e)?Jt(n,e,1):Jt(n,1)}function na(n){return Xe((e,t)=>{let r=!1;e.subscribe(Ge(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Jo(n){return n<=0?()=>Dr:Xe((e,t)=>{let r=0;e.subscribe(Ge(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function C_(n){return Oe(()=>n)}function Mp(n=tL){return Xe((e,t)=>{let r=!1;e.subscribe(Ge(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function tL(){return new Qo}function pc(n){return Xe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ii(n,e){let t=arguments.length>=2;return r=>r.pipe(n?On((i,o)=>n(i,o,r)):Tr,Jo(1),t?na(e):Mp(()=>new Qo))}function nu(n){return n<=0?()=>Dr:Xe((e,t)=>{let r=[];e.subscribe(Ge(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function T_(n,e){let t=arguments.length>=2;return r=>r.pipe(n?On((i,o)=>n(i,o,r)):Tr,nu(1),t?na(e):Mp(()=>new Qo))}function D_(n,e){return Xe($D(n,e,arguments.length>=2,!0))}function S_(...n){let e=Zs(n);return Xe((t,r)=>{(e?tu(n,t,e):tu(n,t)).subscribe(r)})}function sr(n,e){return Xe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ge(r,l=>{i?.unsubscribe();let h=0,y=o++;Zt(n(l,y)).subscribe(i=Ge(r,b=>r.next(e?e(l,b,y,h++):b),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function A_(n){return Xe((e,t)=>{Zt(n).subscribe(Ge(t,()=>t.complete(),Hd)),!t.closed&&e.subscribe(t)})}function Gt(n,e,t){let r=Ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?Xe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ge(o,l=>{var h;(h=r.next)===null||h===void 0||h.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var h;a=!1,(h=r.error)===null||h===void 0||h.call(r,l),o.error(l)},()=>{var l,h;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(h=r.finalize)===null||h===void 0||h.call(r)}))}):Tr}var AS="https://g.co/ng/security#xss",ve=class extends Error{constructor(e,t){super(ym(e,t)),this.code=e}};function ym(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function nh(n){return{toString:n}.toString()}var Rp="__parameters__";function nL(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function xS(n,e,t){return nh(()=>{let r=nL(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,h,y){let b=l.hasOwnProperty(Rp)?l[Rp]:Object.defineProperty(l,Rp,{value:[]})[Rp];for(;b.length<=y;)b.push(null);return(b[y]=b[y]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var z_=globalThis;function wt(n){for(let e in n)if(n[e]===wt)return e;throw Error("Could not find renamed property on target object.")}function rL(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Jn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Jn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function HD(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var iL=wt({__forward_ref__:wt});function lr(n){return n.__forward_ref__=lr,n.toString=function(){return Jn(this())},n}function Zn(n){return MS(n)?n():n}function MS(n){return typeof n=="function"&&n.hasOwnProperty(iL)&&n.__forward_ref__===lr}function he(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xr(n){return{providers:n.providers||[],imports:n.imports||[]}}function vm(n){return zD(n,PS)||zD(n,NS)}function RS(n){return vm(n)!==null}function zD(n,e){return n.hasOwnProperty(e)?n[e]:null}function oL(n){let e=n&&(n[PS]||n[NS]);return e||null}function qD(n){return n&&(n.hasOwnProperty(GD)||n.hasOwnProperty(sL))?n[GD]:null}var PS=wt({\u0275prov:wt}),GD=wt({\u0275inj:wt}),NS=wt({ngInjectableDef:wt}),sL=wt({ngInjectorDef:wt}),ce=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=he({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function kS(n){return n&&!!n.\u0275providers}var aL=wt({\u0275cmp:wt}),cL=wt({\u0275dir:wt}),lL=wt({\u0275pipe:wt}),uL=wt({\u0275mod:wt}),zp=wt({\u0275fac:wt}),Yd=wt({__NG_ELEMENT_ID__:wt}),WD=wt({__NG_ENV_ID__:wt});function lu(n){return typeof n=="string"?n:n==null?"":String(n)}function dL(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():lu(n)}function hL(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ve(-200,n)}function z0(n,e){throw new ve(-201,!1)}var He=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(He||{}),q_;function OS(){return q_}function ar(n){let e=q_;return q_=n,e}function FS(n,e,t){let r=vm(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&He.Optional)return null;if(e!==void 0)return e;z0(n,"Injector")}var fL={},Kd=fL,G_="__NG_DI_FLAG__",qp="ngTempTokenPath",pL="ngTokenPath",mL=/\n/gm,gL="\u0275",YD="__source",au;function yL(){return au}function ra(n){let e=au;return au=n,e}function vL(n,e=He.Default){if(au===void 0)throw new ve(-203,!1);return au===null?FS(n,void 0,e):au.get(n,e&He.Optional?null:void 0,e)}function ue(n,e=He.Default){return(OS()||vL)(Zn(n),e)}function Q(n,e=He.Default){return ue(n,_m(e))}function _m(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function W_(n){let e=[];for(let t=0;t<n.length;t++){let r=Zn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ve(900,!1);let i,o=He.Default;for(let s=0;s<r.length;s++){let a=r[s],l=_L(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(ue(i,o))}else e.push(ue(r))}return e}function LS(n,e){return n[G_]=e,n.prototype[G_]=e,n}function _L(n){return n[G_]}function wL(n,e,t,r){let i=n[qp];throw e[YD]&&i.unshift(e[YD]),n.message=bL(`
`+n.message,i,t,r),n[pL]=i,n[qp]=null,n}function bL(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==gL?n.slice(2):n;let i=Jn(e);if(Array.isArray(e))i=e.map(Jn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Jn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(mL,`
  `)}`}var Wt=LS(xS("Optional"),8);var q0=LS(xS("SkipSelf"),4);function gc(n,e){let t=n.hasOwnProperty(zp);return t?n[zp]:null}function EL(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function IL(n){return n.flat(Number.POSITIVE_INFINITY)}function G0(n,e){n.forEach(t=>Array.isArray(t)?G0(t,e):e(t))}function VS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Gp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function CL(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function TL(n,e,t){let r=rh(n,e);return r>=0?n[r|1]=t:(r=~r,CL(n,r,e,t)),r}function x_(n,e){let t=rh(n,e);if(t>=0)return n[t|1]}function rh(n,e){return DL(n,e,1)}function DL(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var uu={},Sr=[],yc=new ce(""),US=new ce("",-1),jS=new ce(""),Wp=class{get(e,t=Kd){if(t===Kd){let r=new Error(`NullInjectorError: No provider for ${Jn(e)}!`);throw r.name="NullInjectorError",r}return t}},BS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(BS||{}),eo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(eo||{}),oa=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(oa||{});function SL(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Y_(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];AL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function $S(n){return n===3||n===4||n===6}function AL(n){return n.charCodeAt(0)===64}function Qd(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?KD(n,t,i,null,e[++r]):KD(n,t,i,null,null))}}return n}function KD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var HS="ng-template";function xL(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&SL(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(W0(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function W0(n){return n.type===4&&n.value!==HS}function ML(n,e,t){let r=n.type===4&&!t?HS:n.value;return e===r}function RL(n,e,t){let r=4,i=n.attrs,o=i!==null?kL(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Ci(r)&&!Ci(l))return!1;if(s&&Ci(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!ML(n,l,t)||l===""&&e.length===1){if(Ci(r))return!1;s=!0}}else if(r&8){if(i===null||!xL(n,i,l,t)){if(Ci(r))return!1;s=!0}}else{let h=e[++a],y=PL(l,i,W0(n),t);if(y===-1){if(Ci(r))return!1;s=!0;continue}if(h!==""){let b;if(y>o?b="":b=i[y+1].toLowerCase(),r&2&&h!==b){if(Ci(r))return!1;s=!0}}}}return Ci(r)||s}function Ci(n){return(n&1)===0}function PL(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return OL(e,n)}function NL(n,e,t=!1){for(let r=0;r<e.length;r++)if(RL(n,e[r],t))return!0;return!1}function kL(n){for(let e=0;e<n.length;e++){let t=n[e];if($S(t))return e}return n.length}function OL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function QD(n,e){return n?":not("+e.trim()+")":e}function FL(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ci(s)&&(e+=QD(o,i),i=""),r=s,o=o||!Ci(r);t++}return i!==""&&(e+=QD(o,i)),e}function LL(n){return n.map(FL).join(",")}function VL(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Ci(i))break;i=o}r++}return{attrs:e,classes:t}}function vt(n){return nh(()=>{let e=KS(n),t=$e(ne({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===BS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||eo.Emulated,styles:n.styles||Sr,_:null,schemas:n.schemas||null,tView:null,id:""});QS(t);let r=n.dependencies;return t.directiveDefs=JD(r,!1),t.pipeDefs=JD(r,!0),t.id=BL(t),t})}function UL(n){return sa(n)||qS(n)}function jL(n){return n!==null}function Mr(n){return nh(()=>({type:n.type,bootstrap:n.bootstrap||Sr,declarations:n.declarations||Sr,imports:n.imports||Sr,exports:n.exports||Sr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ZD(n,e){if(n==null)return uu;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=oa.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==oa.None?[r,a]:r,e[o]=s):t[o]=r}return t}function ft(n){return nh(()=>{let e=KS(n);return QS(e),e})}function zS(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function sa(n){return n[aL]||null}function qS(n){return n[cL]||null}function GS(n){return n[lL]||null}function WS(n){let e=sa(n)||qS(n)||GS(n);return e!==null?e.standalone:!1}function YS(n,e){let t=n[uL]||null;if(!t&&e===!0)throw new Error(`Type ${Jn(n)} does not have '\u0275mod' property.`);return t}function KS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||uu,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Sr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ZD(n.inputs,e),outputs:ZD(n.outputs),debugInfo:null}}function QS(n){n.features?.forEach(e=>e(n))}function JD(n,e){if(!n)return null;let t=e?GS:UL;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(jL)}function BL(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Fn(n){return{\u0275providers:n}}function $L(...n){return{\u0275providers:ZS(!0,n),\u0275fromNgModule:!0}}function ZS(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return G0(e,s=>{let a=s;K_(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&JS(i,o),t}function JS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Y0(i,o=>{e(o,r)})}}function K_(n,e,t,r){if(n=Zn(n),!n)return!1;let i=null,o=qD(n),s=!o&&sa(n);if(!o&&!s){let l=n.ngModule;if(o=qD(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let h of l)K_(h,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let h;try{G0(o.imports,y=>{K_(y,e,t,r)&&(h||=[],h.push(y))})}finally{}h!==void 0&&JS(h,e)}if(!a){let h=gc(i)||(()=>new i);e({provide:i,useFactory:h,deps:Sr},i),e({provide:jS,useValue:i,multi:!0},i),e({provide:yc,useValue:()=>ue(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let h=n;Y0(l,y=>{e(y,h)})}}else return!1;return i!==n&&n.providers!==void 0}function Y0(n,e){for(let t of n)kS(t)&&(t=t.\u0275providers),Array.isArray(t)?Y0(t,e):e(t)}var HL=wt({provide:String,useValue:wt});function XS(n){return n!==null&&typeof n=="object"&&HL in n}function zL(n){return!!(n&&n.useExisting)}function qL(n){return!!(n&&n.useFactory)}function du(n){return typeof n=="function"}function GL(n){return!!n.useClass}var wm=new ce(""),Vp={},WL={},M_;function K0(){return M_===void 0&&(M_=new Wp),M_}var Xn=class{},Zd=class extends Xn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Z_(e,s=>this.processProvider(s)),this.records.set(US,ru(void 0,this)),i.has("environment")&&this.records.set(Xn,ru(void 0,this));let o=this.records.get(wm);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(jS,Sr,He.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ot(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ot(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=ra(this),r=ar(void 0),i;try{return e()}finally{ra(t),ar(r)}}get(e,t=Kd,r=He.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(WD))return e[WD](this);r=_m(r);let i,o=ra(this),s=ar(void 0);try{if(!(r&He.SkipSelf)){let l=this.records.get(e);if(l===void 0){let h=JL(e)&&vm(e);h&&this.injectableDefInScope(h)?l=ru(Q_(e),Vp):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&He.Self?K0():this.parent;return t=r&He.Optional&&t===Kd?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[qp]=a[qp]||[]).unshift(Jn(e)),o)throw a;return wL(a,e,"R3InjectorError",this.source)}else throw a}finally{ar(s),ra(o)}}resolveInjectorInitializers(){let e=ot(null),t=ra(this),r=ar(void 0),i;try{let o=this.get(yc,Sr,He.Self);for(let s of o)s()}finally{ra(t),ar(r),ot(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Jn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ve(205,!1)}processProvider(e){e=Zn(e);let t=du(e)?e:Zn(e&&e.provide),r=KL(e);if(!du(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ru(void 0,Vp,!0),i.factory=()=>W_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ot(null);try{return t.value===Vp&&(t.value=WL,t.value=t.factory()),typeof t.value=="object"&&t.value&&ZL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ot(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Zn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Q_(n){let e=vm(n),t=e!==null?e.factory:gc(n);if(t!==null)return t;if(n instanceof ce)throw new ve(204,!1);if(n instanceof Function)return YL(n);throw new ve(204,!1)}function YL(n){if(n.length>0)throw new ve(204,!1);let t=oL(n);return t!==null?()=>t.factory(n):()=>new n}function KL(n){if(XS(n))return ru(void 0,n.useValue);{let e=eA(n);return ru(e,Vp)}}function eA(n,e,t){let r;if(du(n)){let i=Zn(n);return gc(i)||Q_(i)}else if(XS(n))r=()=>Zn(n.useValue);else if(qL(n))r=()=>n.useFactory(...W_(n.deps||[]));else if(zL(n))r=()=>ue(Zn(n.useExisting));else{let i=Zn(n&&(n.useClass||n.provide));if(QL(n))r=()=>new i(...W_(n.deps));else return gc(i)||Q_(i)}return r}function ru(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function QL(n){return!!n.deps}function ZL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function JL(n){return typeof n=="function"||typeof n=="object"&&n instanceof ce}function Z_(n,e){for(let t of n)Array.isArray(t)?Z_(t,e):t&&kS(t)?Z_(t.\u0275providers,e):e(t)}function Zr(n,e){n instanceof Zd&&n.assertNotDestroyed();let t,r=ra(n),i=ar(void 0);try{return e()}finally{ra(r),ar(i)}}function tA(){return OS()!==void 0||yL()!=null}function XL(n){if(!tA())throw new ve(-203,!1)}function eV(n){return typeof n=="function"}var Ar=0,ke=1,Ae=2,Tn=3,Ti=4,xi=5,to=6,Yp=7,Si=8,hu=9,no=10,Ct=11,Jd=12,XD=13,_u=14,Qr=15,vc=16,iu=17,Xo=18,bm=19,nA=20,ia=21,R_=22,Kr=23,Dn=25,rA=1,Xd=6,es=7,Kp=8,fu=9,cr=10,Qp=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Qp||{});function Di(n){return Array.isArray(n)&&typeof n[rA]=="object"}function ro(n){return Array.isArray(n)&&n[rA]===!0}function iA(n){return(n.flags&4)!==0}function ih(n){return n.componentOffset>-1}function Q0(n){return(n.flags&1)===1}function aa(n){return!!n.template}function Zp(n){return(n[Ae]&512)!==0}var J_=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function oA(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Mi(){return sA}function sA(n){return n.type.prototype.ngOnChanges&&(n.setInput=nV),tV}Mi.ngInherit=!0;function tV(){let n=cA(this),e=n?.current;if(e){let t=n.previous;if(t===uu)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function nV(n,e,t,r,i){let o=this.declaredInputs[r],s=cA(n)||rV(n,{previous:uu,current:null}),a=s.current||(s.current={}),l=s.previous,h=l[o];a[o]=new J_(h&&h.currentValue,t,l===uu),oA(n,e,i,t)}var aA="__ngSimpleChanges__";function cA(n){return n[aA]||null}function rV(n,e){return n[aA]=e}var eS=null;var Ji=function(n,e,t){eS?.(n,e,t)},iV="svg",oV="math";function Ai(n){for(;Array.isArray(n);)n=n[Ar];return n}function lA(n,e){return Ai(e[n])}function Rr(n,e){return Ai(e[n.index])}function uA(n,e){return n.data[e]}function dA(n,e){return n[e]}function ua(n,e){let t=e[n];return Di(t)?t:t[Ar]}function sV(n){return(n[Ae]&4)===4}function Z0(n){return(n[Ae]&128)===128}function aV(n){return ro(n[Tn])}function Jp(n,e){return e==null?null:n[e]}function hA(n){n[iu]=0}function fA(n){n[Ae]&1024||(n[Ae]|=1024,Z0(n)&&Im(n))}function cV(n,e){for(;n>0;)e=e[_u],n--;return e}function Em(n){return!!(n[Ae]&9216||n[Kr]?.dirty)}function X_(n){n[no].changeDetectionScheduler?.notify(8),n[Ae]&64&&(n[Ae]|=1024),Em(n)&&Im(n)}function Im(n){n[no].changeDetectionScheduler?.notify(0);let e=_c(n);for(;e!==null&&!(e[Ae]&8192||(e[Ae]|=8192,!Z0(e)));)e=_c(e)}function pA(n,e){if((n[Ae]&256)===256)throw new ve(911,!1);n[ia]===null&&(n[ia]=[]),n[ia].push(e)}function lV(n,e){if(n[ia]===null)return;let t=n[ia].indexOf(e);t!==-1&&n[ia].splice(t,1)}function _c(n){let e=n[Tn];return ro(e)?e[Tn]:e}var Ve={lFrame:CA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var mA=!1;function uV(){return Ve.lFrame.elementDepthCount}function dV(){Ve.lFrame.elementDepthCount++}function hV(){Ve.lFrame.elementDepthCount--}function gA(){return Ve.bindingsEnabled}function oh(){return Ve.skipHydrationRootTNode!==null}function fV(n){return Ve.skipHydrationRootTNode===n}function pV(n){Ve.skipHydrationRootTNode=n}function mV(){Ve.skipHydrationRootTNode=null}function et(){return Ve.lFrame.lView}function Sn(){return Ve.lFrame.tView}function Ce(n){return Ve.lFrame.contextLView=n,n[Si]}function Te(n){return Ve.lFrame.contextLView=null,n}function Ln(){let n=yA();for(;n!==null&&n.type===64;)n=n.parent;return n}function yA(){return Ve.lFrame.currentTNode}function gV(){let n=Ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function sh(n,e){let t=Ve.lFrame;t.currentTNode=n,t.isParent=e}function vA(){return Ve.lFrame.isParent}function yV(){Ve.lFrame.isParent=!1}function vV(){return Ve.lFrame.contextLView}function _A(){return mA}function tS(n){mA=n}function J0(){let n=Ve.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function _V(){return Ve.lFrame.bindingIndex}function wV(n){return Ve.lFrame.bindingIndex=n}function Cm(){return Ve.lFrame.bindingIndex++}function wA(n){let e=Ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function bV(){return Ve.lFrame.inI18n}function EV(n,e){let t=Ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,e0(e)}function IV(){return Ve.lFrame.currentDirectiveIndex}function e0(n){Ve.lFrame.currentDirectiveIndex=n}function CV(n){let e=Ve.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function bA(){return Ve.lFrame.currentQueryIndex}function X0(n){Ve.lFrame.currentQueryIndex=n}function TV(n){let e=n[ke];return e.type===2?e.declTNode:e.type===1?n[xi]:null}function EA(n,e,t){if(t&He.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&He.Host);)if(i=TV(o),i===null||(o=o[_u],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ve.lFrame=IA();return r.currentTNode=e,r.lView=n,!0}function ew(n){let e=IA(),t=n[ke];Ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function IA(){let n=Ve.lFrame,e=n===null?null:n.child;return e===null?CA(n):e}function CA(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function TA(){let n=Ve.lFrame;return Ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var DA=TA;function tw(){let n=TA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function DV(n){return(Ve.lFrame.contextLView=cV(n,Ve.lFrame.contextLView))[Si]}function Sc(){return Ve.lFrame.selectedIndex}function wc(n){Ve.lFrame.selectedIndex=n}function Tm(){let n=Ve.lFrame;return uA(n.tView,n.selectedIndex)}function SA(){return Ve.lFrame.currentNamespace}var AA=!0;function nw(){return AA}function da(n){AA=n}function SV(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=sA(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function rw(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:y}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),h&&((n.viewHooks??=[]).push(t,h),(n.viewCheckHooks??=[]).push(t,h)),y!=null&&(n.destroyHooks??=[]).push(t,y)}}function Up(n,e,t){xA(n,e,3,t)}function jp(n,e,t,r){(n[Ae]&3)===t&&xA(n,e,t,r)}function P_(n,e){let t=n[Ae];(t&3)===e&&(t&=16383,t+=1,n[Ae]=t)}function xA(n,e,t,r){let i=r!==void 0?n[iu]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[iu]+=65536),(a<o||o==-1)&&(AV(n,t,e,l),n[iu]=(n[iu]&4294901760)+l+2),l++}function nS(n,e){Ji(4,n,e);let t=ot(null);try{e.call(n)}finally{ot(t),Ji(5,n,e)}}function AV(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Ae]>>14<n[iu]>>16&&(n[Ae]&3)===e&&(n[Ae]+=16384,nS(a,o)):nS(a,o)}var cu=-1,bc=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function xV(n){return n instanceof bc}function MV(n){return(n.flags&8)!==0}function RV(n){return(n.flags&16)!==0}var N_={},t0=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=_m(r);let i=this.injector.get(e,N_,r);return i!==N_||t===N_?i:this.parentInjector.get(e,t,r)}};function MA(n){return n!==cu}function Xp(n){return n&32767}function PV(n){return n>>16}function em(n,e){let t=PV(n),r=e;for(;t>0;)r=r[_u],t--;return r}var n0=!0;function tm(n){let e=n0;return n0=n,e}var NV=256,RA=NV-1,PA=5,kV=0,Xi={};function OV(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Yd)&&(r=t[Yd]),r==null&&(r=t[Yd]=kV++);let i=r&RA,o=1<<i;e.data[n+(i>>PA)]|=o}function nm(n,e){let t=NA(n,e);if(t!==-1)return t;let r=e[ke];r.firstCreatePass&&(n.injectorIndex=e.length,k_(r.data,n),k_(e,null),k_(r.blueprint,null));let i=iw(n,e),o=n.injectorIndex;if(MA(i)){let s=Xp(i),a=em(i,e),l=a[ke].data;for(let h=0;h<8;h++)e[o+h]=a[s+h]|l[s+h]}return e[o+8]=i,o}function k_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function NA(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function iw(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=VA(i),r===null)return cu;if(t++,i=i[_u],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return cu}function r0(n,e,t){OV(n,e,t)}function FV(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if($S(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function kA(n,e,t){if(t&He.Optional||n!==void 0)return n;z0(e,"NodeInjector")}function OA(n,e,t,r){if(t&He.Optional&&r===void 0&&(r=null),!(t&(He.Self|He.Host))){let i=n[hu],o=ar(void 0);try{return i?i.get(e,r,t&He.Optional):FS(e,r,t&He.Optional)}finally{ar(o)}}return kA(r,e,t)}function FA(n,e,t,r=He.Default,i){if(n!==null){if(e[Ae]&2048&&!(r&He.Self)){let s=jV(n,e,t,r,Xi);if(s!==Xi)return s}let o=LA(n,e,t,r,Xi);if(o!==Xi)return o}return OA(e,t,r,i)}function LA(n,e,t,r,i){let o=VV(t);if(typeof o=="function"){if(!EA(e,n,r))return r&He.Host?kA(i,t,r):OA(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&He.Optional))z0(t);else return s}finally{DA()}}else if(typeof o=="number"){let s=null,a=NA(n,e),l=cu,h=r&He.Host?e[Qr][xi]:null;for((a===-1||r&He.SkipSelf)&&(l=a===-1?iw(n,e):e[a+8],l===cu||!iS(r,!1)?a=-1:(s=e[ke],a=Xp(l),e=em(l,e)));a!==-1;){let y=e[ke];if(rS(o,a,y.data)){let b=LV(a,e,t,s,r,h);if(b!==Xi)return b}l=e[a+8],l!==cu&&iS(r,e[ke].data[a+8]===h)&&rS(o,a,e)?(s=y,a=Xp(l),e=em(l,e)):a=-1}}return i}function LV(n,e,t,r,i,o){let s=e[ke],a=s.data[n+8],l=r==null?ih(a)&&n0:r!=s&&(a.type&3)!==0,h=i&He.Host&&o===a,y=Bp(a,s,t,l,h);return y!==null?Ec(e,s,y,a):Xi}function Bp(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,h=n.directiveEnd,y=o>>20,b=r?a:a+y,C=i?a+y:h;for(let T=b;T<C;T++){let P=s[T];if(T<l&&t===P||T>=l&&P.type===t)return T}if(i){let T=s[l];if(T&&aa(T)&&T.type===t)return l}return null}function Ec(n,e,t,r){let i=n[t],o=e.data;if(xV(i)){let s=i;s.resolving&&hL(dL(o[t]));let a=tm(s.canSeeViewProviders);s.resolving=!0;let l,h=s.injectImpl?ar(s.injectImpl):null,y=EA(n,r,He.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&SV(t,o[t],e)}finally{h!==null&&ar(h),tm(a),s.resolving=!1,DA()}}return i}function VV(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Yd)?n[Yd]:void 0;return typeof e=="number"?e>=0?e&RA:UV:e}function rS(n,e,t){let r=1<<n;return!!(t[e+(n>>PA)]&r)}function iS(n,e){return!(n&He.Self)&&!(n&He.Host&&e)}var mc=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return FA(this._tNode,this._lView,e,_m(r),t)}};function UV(){return new mc(Ln(),et())}function io(n){return nh(()=>{let e=n.prototype.constructor,t=e[zp]||i0(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[zp]||i0(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function i0(n){return MS(n)?()=>{let e=i0(Zn(n));return e&&e()}:gc(n)}function jV(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Ae]&2048&&!(s[Ae]&512);){let a=LA(o,s,t,r|He.Self,Xi);if(a!==Xi)return a;let l=o.parent;if(!l){let h=s[nA];if(h){let y=h.get(t,Xi,r);if(y!==Xi)return y}l=VA(s),s=s[_u]}o=l}return i}function VA(n){let e=n[ke],t=e.type;return t===2?e.declTNode:t===1?n[xi]:null}function ow(n){return FV(Ln(),n)}function oS(n,e=null,t=null,r){let i=UA(n,e,t,r);return i.resolveInjectorInitializers(),i}function UA(n,e=null,t=null,r,i=new Set){let o=[t||Sr,$L(n)];return r=r||(typeof n=="object"?void 0:Jn(n)),new Zd(o,e||K0(),r||null,i)}var Xt=class n{static{this.THROW_IF_NOT_FOUND=Kd}static{this.NULL=new Wp}static create(e,t){if(Array.isArray(e))return oS({name:""},t,e,"");{let r=e.name??"";return oS({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=he({token:n,providedIn:"any",factory:()=>ue(US)})}static{this.__NG_ELEMENT_ID__=-1}};var BV=new ce("");BV.__NG_ELEMENT_ID__=n=>{let e=Ln();if(e===null)throw new ve(204,!1);if(e.type&2)return e.value;if(n&He.Optional)return null;throw new ve(204,!1)};var $V="ngOriginalError";function O_(n){return n[$V]}var jA=!0,sw=(()=>{class n{static{this.__NG_ELEMENT_ID__=HV}static{this.__NG_ENV_ID__=t=>t}}return n})(),o0=class extends sw{constructor(e){super(),this._lView=e}onDestroy(e){return pA(this._lView,e),()=>lV(this._lView,e)}};function HV(){return new o0(et())}var ha=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new mn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=he({token:n,providedIn:"root",factory:()=>new n})}}return n})();var s0=class extends pn{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,tA()&&(this.destroyRef=Q(sw,{optional:!0})??void 0,this.pendingTasks=Q(ha,{optional:!0})??void 0)}emit(e){let t=ot(null);try{super.next(e)}finally{ot(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof $t&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},ht=s0;function rm(...n){}function BA(n){let e,t;function r(){n=rm;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function sS(n){return queueMicrotask(()=>n()),()=>{n=rm}}var aw="isAngularZone",im=aw+"_ID",zV=0,We=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ht(!1),this.onMicrotaskEmpty=new ht(!1),this.onStable=new ht(!1),this.onError=new ht(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=jA}=e;if(typeof Zone>"u")throw new ve(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,WV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(aw)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ve(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ve(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,qV,rm,rm);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},qV={};function cw(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function GV(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){BA(()=>{n.callbackScheduled=!1,a0(n),n.isCheckStableRunning=!0,cw(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),a0(n)}function WV(n){let e=()=>{GV(n)},t=zV++;n._inner=n._inner.fork({name:"angular",properties:{[aw]:!0,[im]:t,[im+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(YV(l))return r.invokeTask(o,s,a,l);try{return aS(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),cS(n)}},onInvoke:(r,i,o,s,a,l,h)=>{try{return aS(n),r.invoke(o,s,a,l,h)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!KV(l)&&e(),cS(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,a0(n),cw(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function a0(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function aS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function cS(n){n._nesting--,cw(n)}var c0=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ht,this.onMicrotaskEmpty=new ht,this.onStable=new ht,this.onError=new ht}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function YV(n){return $A(n,"__ignore_ng_zone__")}function KV(n){return $A(n,"__scheduler_tick__")}function $A(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var ts=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&O_(e);for(;t&&O_(t);)t=O_(t);return t||null}},QV=new ce("",{providedIn:"root",factory:()=>{let n=Q(We),e=Q(ts);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function ZV(){return wu(Ln(),et())}function wu(n,e){return new An(Rr(n,e))}var An=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=ZV}}return n})();function JV(n){return n instanceof An?n.nativeElement:n}function XV(){return this._results[Symbol.iterator]()}var l0=class n{get changes(){return this._changes??=new ht}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=XV)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=IL(e);(this._changesDetected=!EL(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},eU="ngSkipHydration",tU="ngskiphydration";function HA(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===tU)return!0}return!1}function zA(n){return n.hasAttribute(eU)}function om(n){return(n.flags&128)===128}function nU(n){if(om(n))return!0;let e=n.parent;for(;e;){if(om(n)||HA(e))return!0;e=e.parent}return!1}var qA=new Map,rU=0;function iU(){return rU++}function oU(n){qA.set(n[bm],n)}function u0(n){qA.delete(n[bm])}var lS="__ngContext__";function Ic(n,e){Di(e)?(n[lS]=e[bm],oU(e)):n[lS]=e}function GA(n){return YA(n[Jd])}function WA(n){return YA(n[Ti])}function YA(n){for(;n!==null&&!ro(n);)n=n[Ti];return n}var d0;function KA(n){d0=n}function Dm(){if(d0!==void 0)return d0;if(typeof document<"u")return document;throw new ve(210,!1)}var Sm=new ce("",{providedIn:"root",factory:()=>sU}),sU="ng",lw=new ce(""),Vn=new ce("",{providedIn:"platform",factory:()=>"unknown"});var uw=new ce("",{providedIn:"root",factory:()=>Dm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function aU(){let n=new bu;return Q(Vn)==="browser"&&(n.store=cU(Dm(),Q(Sm))),n}var bu=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=he({token:n,providedIn:"root",factory:aU})}get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function cU(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var QA="h",ZA="b",h0=function(n){return n.FirstChild="f",n.NextSibling="n",n}(h0||{}),lU="e",uU="t",dw="c",JA="x",sm="r",dU="i",hU="n",XA="d";var fU="__nghData__",ex=fU,F_="ngh",pU="nghm",tx=()=>null;function mU(n,e,t=!1){let r=n.getAttribute(F_);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,l={};if(r!==""){let y=e.get(bu,null,{optional:!0});y!==null&&(l=y.get(ex,[])[Number(r)])}let h={data:l,firstChild:n.firstChild??null};return t&&(h.firstChild=n,Am(h,0,n.nextSibling)),a?n.setAttribute(F_,a):n.removeAttribute(F_),h}function gU(){tx=mU}function hw(n,e,t=!1){return tx(n,e,t)}function yU(n){let e=n._lView;return e[ke].type===2?null:(Zp(e)&&(e=e[Dn]),e)}function vU(n){return n.textContent?.replace(/\s/gm,"")}function _U(n){let e=Dm(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=vU(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Am(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function f0(n,e){return n.segmentHeads?.[e]??null}function wU(n,e){let t=n.data,r=t[lU]?.[e]??null;return r===null&&t[dw]?.[e]&&(r=fw(n,e)),r}function nx(n,e){return n.data[dw]?.[e]??null}function fw(n,e){let t=nx(n,e)??[],r=0;for(let i of t)r+=i[sm]*(i[JA]??1);return r}function bU(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[XA];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function ah(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[XA];n.disconnectedNodes=t?new Set(t):null}return!!bU(n)?.has(e)}var Pp=new ce(""),rx=!1,ix=new ce("",{providedIn:"root",factory:()=>rx});var Np;function EU(){if(Np===void 0&&(Np=null,z_.trustedTypes))try{Np=z_.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Np}function uS(n){return EU()?.createScriptURL(n)||n}var am=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${AS})`}};function ch(n){return n instanceof am?n.changingThisBreaksApplicationSecurity:n}function pw(n,e){let t=IU(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${AS})`)}return t===e}function IU(n){return n instanceof am&&n.getTypeName()||null}var CU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ox(n){return n=String(n),n.match(CU)?n:"unsafe:"+n}var xm=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(xm||{});function fa(n){let e=ax();return e?e.sanitize(xm.URL,n)||"":pw(n,"URL")?ch(n):ox(lu(n))}function TU(n){let e=ax();if(e)return uS(e.sanitize(xm.RESOURCE_URL,n)||"");if(pw(n,"ResourceURL"))return uS(ch(n));throw new ve(904,!1)}function DU(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?TU:fa}function sx(n,e,t){return DU(e,t)(n)}function ax(){let n=et();return n&&n[no].sanitizer}var SU=/^>|^->|<!--|-->|--!>|<!-$/g,AU=/(<|>)/g,xU="\u200B$1\u200B";function MU(n){return n.replace(SU,e=>e.replace(AU,xU))}function RU(n){return n.ownerDocument.body}function cx(n){return n instanceof Function?n():n}function Gd(n){return(n??Q(Xt)).get(Vn)==="browser"}var ns=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ns||{}),PU;function mw(n,e){return PU(n,e)}function ou(n,e,t,r,i){if(r!=null){let o,s=!1;ro(r)?o=r:Di(r)&&(s=!0,r=r[Ar]);let a=Ai(r);n===0&&t!==null?i==null?px(e,t,a):cm(e,t,a,i||null,!0):n===1&&t!==null?cm(e,t,a,i||null,!0):n===2?_w(e,a,s):n===3&&e.destroyNode(a),o!=null&&WU(e,n,o,t,i)}}function lx(n,e){return n.createText(e)}function NU(n,e,t){n.setValue(e,t)}function ux(n,e){return n.createComment(MU(e))}function gw(n,e,t){return n.createElement(e,t)}function kU(n,e){dx(n,e),e[Ar]=null,e[xi]=null}function OU(n,e,t,r,i,o){r[Ar]=i,r[xi]=e,Mm(n,r,t,1,i,o)}function dx(n,e){e[no].changeDetectionScheduler?.notify(9),Mm(n,e,e[Ct],2,null,null)}function FU(n){let e=n[Jd];if(!e)return L_(n[ke],n);for(;e;){let t=null;if(Di(e))t=e[Jd];else{let r=e[cr];r&&(t=r)}if(!t){for(;e&&!e[Ti]&&e!==n;)Di(e)&&L_(e[ke],e),e=e[Tn];e===null&&(e=n),Di(e)&&L_(e[ke],e),t=e&&e[Ti]}e=t}}function LU(n,e,t,r){let i=cr+r,o=t.length;r>0&&(t[i-1][Ti]=e),r<o-cr?(e[Ti]=t[i],VS(t,cr+r,e)):(t.push(e),e[Ti]=null),e[Tn]=t;let s=e[vc];s!==null&&t!==s&&hx(s,e);let a=e[Xo];a!==null&&a.insertView(n),X_(e),e[Ae]|=128}function hx(n,e){let t=n[fu],r=e[Tn];if(Di(r))n[Ae]|=Qp.HasTransplantedViews;else{let i=r[Tn][Qr];e[Qr]!==i&&(n[Ae]|=Qp.HasTransplantedViews)}t===null?n[fu]=[e]:t.push(e)}function yw(n,e){let t=n[fu],r=t.indexOf(e);t.splice(r,1)}function p0(n,e){if(n.length<=cr)return;let t=cr+e,r=n[t];if(r){let i=r[vc];i!==null&&i!==n&&yw(i,r),e>0&&(n[t-1][Ti]=r[Ti]);let o=Gp(n,cr+e);kU(r[ke],r);let s=o[Xo];s!==null&&s.detachView(o[ke]),r[Tn]=null,r[Ti]=null,r[Ae]&=-129}return r}function fx(n,e){if(!(e[Ae]&256)){let t=e[Ct];t.destroyNode&&Mm(n,e,t,3,null,null),FU(e)}}function L_(n,e){if(e[Ae]&256)return;let t=ot(null);try{e[Ae]&=-129,e[Ae]|=256,e[Kr]&&a_(e[Kr]),UU(n,e),VU(n,e),e[ke].type===1&&e[Ct].destroy();let r=e[vc];if(r!==null&&ro(e[Tn])){r!==e[Tn]&&yw(r,e);let i=e[Xo];i!==null&&i.detachView(n)}u0(e)}finally{ot(t)}}function VU(n,e){let t=n.cleanup,r=e[Yp];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Yp]=null);let i=e[ia];if(i!==null){e[ia]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function UU(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof bc)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Ji(4,a,l);try{l.call(a)}finally{Ji(5,a,l)}}else{Ji(4,i,o);try{o.call(i)}finally{Ji(5,i,o)}}}}}function jU(n,e,t){return BU(n,e.parent,t)}function BU(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ar];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===eo.None||o===eo.Emulated)return null}return Rr(r,t)}}function cm(n,e,t,r,i){n.insertBefore(e,t,r,i)}function px(n,e,t){n.appendChild(e,t)}function dS(n,e,t,r,i){r!==null?cm(n,e,t,r,i):px(n,e,t)}function mx(n,e){return n.parentNode(e)}function $U(n,e){return n.nextSibling(e)}function HU(n,e,t){return qU(n,e,t)}function zU(n,e,t){return n.type&40?Rr(n,t):null}var qU=zU,hS;function vw(n,e,t,r){let i=jU(n,r,e),o=e[Ct],s=r.parent||e[xi],a=HU(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)dS(o,i,t[l],a,!1);else dS(o,i,t,a,!1);hS!==void 0&&hS(o,r,e,t,i)}function Wd(n,e){if(e!==null){let t=e.type;if(t&3)return Rr(e,n);if(t&4)return m0(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Wd(n,r);{let i=n[e.index];return ro(i)?m0(-1,i):Ai(i)}}else{if(t&128)return Wd(n,e.next);if(t&32)return mw(e,n)()||Ai(n[e.index]);{let r=gx(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=_c(n[Qr]);return Wd(i,r)}else return Wd(n,e.next)}}}return null}function gx(n,e){if(e!==null){let r=n[Qr][xi],i=e.projection;return r.projection[i]}return null}function m0(n,e){let t=cr+n+1;if(t<e.length){let r=e[t],i=r[ke].firstChild;if(i!==null)return Wd(r,i)}return e[es]}function _w(n,e,t){n.removeChild(null,e,t)}function yx(n){n.textContent=""}function ww(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&Ic(Ai(a),r),t.flags|=2),(t.flags&32)!==32)if(l&8)ww(n,e,t.child,r,i,o,!1),ou(e,n,i,a,o);else if(l&32){let h=mw(t,r),y;for(;y=h();)ou(e,n,i,y,o);ou(e,n,i,a,o)}else l&16?GU(n,e,r,t,i,o):ou(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Mm(n,e,t,r,i,o){ww(t,r,n.firstChild,e,i,o,!1)}function GU(n,e,t,r,i,o){let s=t[Qr],l=s[xi].projection[r.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++){let y=l[h];ou(e,n,i,y,o)}else{let h=l,y=s[Tn];om(r)&&(h.flags|=128),ww(n,e,h,y,i,o,!0)}}function WU(n,e,t,r,i){let o=t[es],s=Ai(t);o!==s&&ou(e,n,r,o,i);for(let a=cr;a<t.length;a++){let l=t[a];Mm(l[ke],l,n,e,r,o)}}function YU(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:ns.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ns.Important),n.setStyle(t,r,i,o))}}function KU(n,e,t){n.setAttribute(e,"style",t)}function vx(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function _x(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Y_(n,e,r),i!==null&&vx(n,e,i),o!==null&&KU(n,e,o)}var Ri={};function U(n=1){wx(Sn(),et(),Sc()+n,!1)}function wx(n,e,t,r){if(!r)if((e[Ae]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Up(e,o,t)}else{let o=n.preOrderHooks;o!==null&&jp(e,o,0,t)}wc(t)}function Z(n,e=He.Default){let t=et();if(t===null)return ue(n,e);let r=Ln();return FA(r,t,Zn(n),e)}function bx(){let n="invalid";throw new Error(n)}function Ex(n,e,t,r,i,o){let s=ot(null);try{let a=null;i&oa.SignalBased&&(a=e[r][Ko]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&oa.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):oA(e,a,r,o)}finally{ot(s)}}function QU(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)wc(~i);else{let o=i,s=t[++r],a=t[++r];EV(s,o);let l=e[o];a(2,l)}}}finally{wc(-1)}}function Rm(n,e,t,r,i,o,s,a,l,h,y){let b=e.blueprint.slice();return b[Ar]=i,b[Ae]=r|4|128|8|64,(h!==null||n&&n[Ae]&2048)&&(b[Ae]|=2048),hA(b),b[Tn]=b[_u]=n,b[Si]=t,b[no]=s||n&&n[no],b[Ct]=a||n&&n[Ct],b[hu]=l||n&&n[hu]||null,b[xi]=o,b[bm]=iU(),b[to]=y,b[nA]=h,b[Qr]=e.type==2?n[Qr]:b,b}function Pm(n,e,t,r,i){let o=n.data[e];if(o===null)o=ZU(n,e,t,r,i),bV()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=gV();o.injectorIndex=s===null?-1:s.injectorIndex}return sh(o,!0),o}function ZU(n,e,t,r,i){let o=yA(),s=vA(),a=s?o:o&&o.parent,l=n.data[e]=ij(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function Ix(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Cx(n,e,t,r,i){let o=Sc(),s=r&2;try{wc(-1),s&&e.length>Dn&&wx(n,e,Dn,!1),Ji(s?2:0,i),t(r,i)}finally{wc(o),Ji(s?3:1,i)}}function Tx(n,e,t){if(iA(e)){let r=ot(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{ot(r)}}}function Dx(n,e,t){gA()&&(uj(n,e,t,Rr(t,e)),(t.flags&64)===64&&Px(n,e,t))}function Sx(n,e,t=Rr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Ax(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=bw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function bw(n,e,t,r,i,o,s,a,l,h,y){let b=Dn+r,C=b+i,T=JU(b,C),P=typeof h=="function"?h():h;return T[ke]={type:n,blueprint:T,template:t,queries:null,viewQuery:a,declTNode:e,data:T.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:P,incompleteFirstPass:!1,ssrId:y}}function JU(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ri);return t}function XU(n,e,t,r){let o=r.get(ix,rx)||t===eo.ShadowDom,s=n.selectRootElement(e,o);return ej(s),s}function ej(n){xx(n)}var xx=()=>null;function tj(n){zA(n)?yx(n):_U(n)}function nj(){xx=tj}function rj(n,e,t,r){let i=Ox(e);i.push(t),n.firstCreatePass&&Fx(n).push(r,i.length-1)}function ij(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return oh()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function fS(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=oa.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let h=o;if(i!==null){if(!i.hasOwnProperty(o))continue;h=i[o]}n===0?pS(r,t,h,a,l):pS(r,t,h,a)}return r}function pS(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function oj(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],l=null,h=null;for(let y=r;y<i;y++){let b=o[y],C=t?t.get(b):null,T=C?C.inputs:null,P=C?C.outputs:null;l=fS(0,b.inputs,y,l,T),h=fS(1,b.outputs,y,h,P);let z=l!==null&&s!==null&&!W0(e)?bj(l,y,s):null;a.push(z)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=h}function sj(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Ew(n,e,t,r,i,o,s,a){let l=Rr(e,t),h=e.inputs,y;!a&&h!=null&&(y=h[r])?(Iw(n,t,y,r,i),ih(e)&&aj(t,e.index)):e.type&3?(r=sj(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function aj(n,e){let t=ua(e,n);t[Ae]&16||(t[Ae]|=64)}function Mx(n,e,t,r){if(gA()){let i=r===null?null:{"":-1},o=hj(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Rx(n,e,t,s,i,a),i&&fj(t,r,i)}t.mergedAttrs=Qd(t.mergedAttrs,t.attrs)}function Rx(n,e,t,r,i,o){for(let h=0;h<r.length;h++)r0(nm(t,e),n,r[h].type);mj(t,n.data.length,r.length);for(let h=0;h<r.length;h++){let y=r[h];y.providersResolver&&y.providersResolver(y)}let s=!1,a=!1,l=Ix(n,e,r.length,null);for(let h=0;h<r.length;h++){let y=r[h];t.mergedAttrs=Qd(t.mergedAttrs,y.hostAttrs),gj(n,t,e,l,y),pj(l,y,i),y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let b=y.type.prototype;!s&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}oj(n,t,o)}function cj(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;lj(s)!=a&&s.push(a),s.push(t,r,o)}}function lj(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function uj(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;ih(t)&&yj(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||nm(t,e),Ic(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let l=n.data[a],h=Ec(e,n,a,t);if(Ic(h,e),s!==null&&wj(e,a-i,h,l,t,s),aa(l)){let y=ua(t.index,e);y[Si]=Ec(e,n,a,t)}}}function Px(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=IV();try{wc(o);for(let a=r;a<i;a++){let l=n.data[a],h=e[a];e0(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&dj(l,h)}}finally{wc(-1),e0(s)}}function dj(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function hj(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(NL(e,s.selectors,!1))if(r||(r=[]),aa(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;g0(n,e,l)}else r.unshift(s),g0(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function g0(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function fj(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new ve(-301,!1);r.push(e[i],o)}}}function pj(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;aa(e)&&(t[""]=n)}}function mj(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function gj(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=gc(i.type,!0)),s=new bc(o,aa(i),Z);n.blueprint[r]=s,t[r]=s,cj(n,e,r,Ix(n,t,i.hostVars,Ri),i)}function yj(n,e,t){let r=Rr(e,n),i=Ax(t),o=n[no].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Nm(n,Rm(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function vj(n,e,t,r,i,o){let s=Rr(n,e);_j(e[Ct],s,o,n.value,t,r,i)}function _j(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?lu(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function wj(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],h=s[a++],y=s[a++],b=s[a++];Ex(r,t,l,h,y,b)}}function bj(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function Nx(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function kx(n,e){let t=n.contentQueries;if(t!==null){let r=ot(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];X0(o),a.contentQueries(2,e[s],s)}}}finally{ot(r)}}}function Nm(n,e){return n[Jd]?n[XD][Ti]=e:n[Jd]=e,n[XD]=e,e}function y0(n,e,t){X0(0);let r=ot(null);try{e(n,t)}finally{ot(r)}}function Ox(n){return n[Yp]??=[]}function Fx(n){return n.cleanup??=[]}function Lx(n,e){let t=n[hu],r=t?t.get(ts,null):null;r&&r.handleError(e)}function Iw(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],h=e[s],y=n.data[s];Ex(y,h,r,a,l,i)}}function Vx(n,e,t){let r=lA(e,n);NU(n[Ct],r,t)}function Ej(n,e){let t=ua(e,n),r=t[ke];Ij(r,t);let i=t[Ar];i!==null&&t[to]===null&&(t[to]=hw(i,t[hu])),Cw(r,t,t[Si])}function Ij(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Cw(n,e,t){ew(e);try{let r=n.viewQuery;r!==null&&y0(1,r,t);let i=n.template;i!==null&&Cx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Xo]?.finishViewCreation(n),n.staticContentQueries&&kx(n,e),n.staticViewQueries&&y0(2,n.viewQuery,t);let o=n.components;o!==null&&Cj(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ae]&=-5,tw()}}function Cj(n,e){for(let t=0;t<e.length;t++)Ej(n,e[t])}function Tj(n,e,t,r){let i=ot(null);try{let o=e.tView,a=n[Ae]&4096?4096:16,l=Rm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),h=n[e.index];l[vc]=h;let y=n[Xo];return y!==null&&(l[Xo]=y.createEmbeddedView(o)),Cw(o,l,t),l}finally{ot(i)}}function mS(n,e){return!e||e.firstChild===null||om(n)}function Dj(n,e,t,r=!0){let i=e[ke];if(LU(i,e,n,t),r){let s=m0(t,n),a=e[Ct],l=mx(a,n[es]);l!==null&&OU(i,n[xi],a,e,l,s)}let o=e[to];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function lm(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Ai(o)),ro(o)&&Sj(o,r);let s=t.type;if(s&8)lm(n,e,t.child,r);else if(s&32){let a=mw(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=gx(e,t);if(Array.isArray(a))r.push(...a);else{let l=_c(e[Qr]);lm(l[ke],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Sj(n,e){for(let t=cr;t<n.length;t++){let r=n[t],i=r[ke].firstChild;i!==null&&lm(r[ke],r,i,e)}n[es]!==n[Ar]&&e.push(n[es])}var Ux=[];function Aj(n){return n[Kr]??xj(n)}function xj(n){let e=Ux.pop()??Object.create(Rj);return e.lView=n,e}function Mj(n){n.lView[Kr]!==n&&(n.lView=null,Ux.push(n))}var Rj=$e(ne({},$d),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Im(n.lView)},consumerOnSignalRead(){this.lView[Kr]=this}});function Pj(n){let e=n[Kr]??Object.create(Nj);return e.lView=n,e}var Nj=$e(ne({},$d),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=_c(n.lView);for(;e&&!jx(e[ke]);)e=_c(e);e&&fA(e)},consumerOnSignalRead(){this.lView[Kr]=this}});function jx(n){return n.type!==2}var kj=100;function Bx(n,e=!0,t=0){let r=n[no],i=r.rendererFactory,o=!1;o||i.begin?.();try{Oj(n,t)}catch(s){throw e&&Lx(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Oj(n,e){let t=_A();try{tS(!0),v0(n,e);let r=0;for(;Em(n);){if(r===kj)throw new ve(103,!1);r++,v0(n,1)}}finally{tS(t)}}function Fj(n,e,t,r){let i=e[Ae];if((i&256)===256)return;let o=!1,s=!1;!o&&e[no].inlineEffectRunner?.flush(),ew(e);let a=!0,l=null,h=null;o||(jx(n)?(h=Aj(e),l=ip(h)):oD()===null?(a=!1,h=Pj(e),l=ip(h)):e[Kr]&&(a_(e[Kr]),e[Kr]=null));try{hA(e),wV(n.bindingStartIndex),t!==null&&Cx(n,e,t,2,r);let y=(i&3)===3;if(!o)if(y){let T=n.preOrderCheckHooks;T!==null&&Up(e,T,null)}else{let T=n.preOrderHooks;T!==null&&jp(e,T,0,null),P_(e,0)}if(s||Lj(e),$x(e,0),n.contentQueries!==null&&kx(n,e),!o)if(y){let T=n.contentCheckHooks;T!==null&&Up(e,T)}else{let T=n.contentHooks;T!==null&&jp(e,T,1),P_(e,1)}QU(n,e);let b=n.components;b!==null&&zx(e,b,0);let C=n.viewQuery;if(C!==null&&y0(2,C,r),!o)if(y){let T=n.viewCheckHooks;T!==null&&Up(e,T)}else{let T=n.viewHooks;T!==null&&jp(e,T,2),P_(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[R_]){for(let T of e[R_])T();e[R_]=null}o||(e[Ae]&=-73)}catch(y){throw o||Im(e),y}finally{h!==null&&(o_(h,l),a&&Mj(h)),tw()}}function $x(n,e){for(let t=GA(n);t!==null;t=WA(t))for(let r=cr;r<t.length;r++){let i=t[r];Hx(i,e)}}function Lj(n){for(let e=GA(n);e!==null;e=WA(e)){if(!(e[Ae]&Qp.HasTransplantedViews))continue;let t=e[fu];for(let r=0;r<t.length;r++){let i=t[r];fA(i)}}}function Vj(n,e,t){let r=ua(e,n);Hx(r,t)}function Hx(n,e){Z0(n)&&v0(n,e)}function v0(n,e){let r=n[ke],i=n[Ae],o=n[Kr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&s_(o)),s||=!1,o&&(o.dirty=!1),n[Ae]&=-9217,s)Fj(r,n,r.template,n[Si]);else if(i&8192){$x(n,1);let a=r.components;a!==null&&zx(n,a,1)}}function zx(n,e,t){for(let r=0;r<e.length;r++)Vj(n,e[r],t)}function Tw(n,e){let t=_A()?64:1088;for(n[no].changeDetectionScheduler?.notify(e);n;){n[Ae]|=t;let r=_c(n);if(Zp(n)&&!r)return n;n=r}return null}var Cc=class{get rootNodes(){let e=this._lView,t=e[ke];return lm(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Si]}set context(e){this._lView[Si]=e}get destroyed(){return(this._lView[Ae]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Tn];if(ro(e)){let t=e[Kp],r=t?t.indexOf(this):-1;r>-1&&(p0(e,r),Gp(t,r))}this._attachedToViewContainer=!1}fx(this._lView[ke],this._lView)}onDestroy(e){pA(this._lView,e)}markForCheck(){Tw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ae]&=-129}reattach(){X_(this._lView),this._lView[Ae]|=128}detectChanges(){this._lView[Ae]|=1024,Bx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Zp(this._lView),t=this._lView[vc];t!==null&&!e&&yw(t,this._lView),dx(this._lView[ke],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ve(902,!1);this._appRef=e;let t=Zp(this._lView),r=this._lView[vc];r!==null&&!t&&hx(r,this._lView),X_(this._lView)}},Tc=(()=>{class n{static{this.__NG_ELEMENT_ID__=Bj}}return n})(),Uj=Tc,jj=class extends Uj{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Tj(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Cc(i)}};function Bj(){return km(Ln(),et())}function km(n,e){return n.type&4?new jj(e,n,wu(n,e)):null}var $j=new RegExp(`^(\\d+)*(${ZA}|${QA})*(.*)`);function Hj(n){let e=n.match($j),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[l,h,y]of o.matchAll(/(f|n)(\d*)/g)){let b=parseInt(y,10)||1;a.push(h,b)}return[s,...a]}function zj(n){return!n.prev&&n.parent?.type===8}function V_(n){return n.index-Dn}function qj(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function Om(n,e,t,r){let i=V_(r),o=qj(n,i);if(o===void 0){let s=n.data[hU];if(s?.[i])o=Wj(s[i],t);else if(e.firstChild===r)o=n.firstChild;else{let a=r.prev===null,l=r.prev??r.parent;if(zj(r)){let h=V_(r.parent);o=f0(n,h)}else{let h=Rr(l,t);if(a)o=h.firstChild;else{let y=V_(l),b=f0(n,y);if(l.type===2&&b){let T=fw(n,y)+1;o=Fm(T,b)}else o=h.nextSibling}}}}return o}function Fm(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function Gj(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case h0.FirstChild:t=t.firstChild;break;case h0.NextSibling:t=t.nextSibling;break}}return t}function Wj(n,e){let[t,...r]=Hj(n),i;if(t===QA)i=e[Qr][Ar];else if(t===ZA)i=RU(e[Qr][Ar]);else{let o=Number(t);i=Ai(e[o+Dn])}return Gj(i,r)}var Yj=!1;function Kj(n){Yj=n}function Qj(n){let e=n[to];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[Ct];for(let o of r.values())Zj(i,t,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function Zj(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-Dn);i&&_w(n,i,!1)}}function qx(n){let e=n[Xd]??[],r=n[Tn][Ct];for(let i of e)Jj(i,r);n[Xd]=Sr}function Jj(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[sm];for(;t<i;){let o=r.nextSibling;_w(e,r,!1),r=o,t++}}}function Gx(n){qx(n);let e=n[Ar];Di(e)&&um(e);for(let t=cr;t<n.length;t++)um(n[t])}function um(n){Qj(n);let e=n[ke];for(let t=Dn;t<e.bindingStartIndex;t++)if(ro(n[t])){let r=n[t];Gx(r)}else Di(n[t])&&um(n[t])}function Xj(n){let e=n._views;for(let t of e){let r=yU(t);r!==null&&r[Ar]!==null&&(Di(r)?um(r):Gx(r))}}function eB(n,e){let t=[];for(let r of e)for(let i=0;i<(r[JA]??1);i++){let o={data:r,firstChild:null};r[sm]>0&&(o.firstChild=n,n=Fm(r[sm],n)),t.push(o)}return[n,t]}var Wx=()=>null;function tB(n,e){let t=n[Xd];return!e||t===null||t.length===0?null:t[0].data[dU]===e?t.shift():(qx(n),null)}function nB(){Wx=tB}function gS(n,e){return Wx(n,e)}var pu=class{},Lm=new ce("",{providedIn:"root",factory:()=>!1});var Yx=new ce(""),Kx=new ce(""),_0=class{},dm=class{};function rB(n){let e=Error(`No component factory found for ${Jn(n)}.`);return e[iB]=n,e}var iB="ngComponent";var w0=class{resolveComponentFactory(e){throw rB(e)}},mu=class{static{this.NULL=new w0}},gu=class{},Pi=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>oB()}}return n})();function oB(){let n=et(),e=Ln(),t=ua(e.index,n);return(Di(t)?t:n)[Ct]}var sB=(()=>{class n{static{this.\u0275prov=he({token:n,providedIn:"root",factory:()=>null})}}return n})();function b0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=HD(i,a);else if(o==2){let l=a,h=e[++s];r=HD(r,l+": "+h+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var hm=class extends mu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=sa(e);return new yu(t,this.ngModule)}};function yS(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:oa.None;e?t.push({propName:s,templateName:r,isSignal:(a&oa.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function aB(n){let e=n.toLowerCase();return e==="svg"?iV:e==="math"?oV:null}var yu=class extends dm{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=yS(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return yS(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=LL(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=ot(null);try{i=i||this.ngModule;let s=i instanceof Xn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new t0(e,s):e,l=a.get(gu,null);if(l===null)throw new ve(407,!1);let h=a.get(sB,null),y=a.get(pu,null),b={rendererFactory:l,sanitizer:h,inlineEffectRunner:null,changeDetectionScheduler:y},C=l.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",P=r?XU(C,r,this.componentDef.encapsulation,a):gw(C,T,aB(T)),z=512;this.componentDef.signals?z|=4096:this.componentDef.onPush||(z|=16);let $=null;P!==null&&($=hw(P,a,!0));let K=bw(0,null,null,1,0,null,null,null,null,null,null),se=Rm(null,K,null,z,null,null,b,C,a,null,$);ew(se);let J,ee,Ie=null;try{let pe=this.componentDef,F,A=null;pe.findHostDirectiveDefs?(F=[],A=new Map,pe.findHostDirectiveDefs(pe,F,A),F.push(pe)):F=[pe];let N=cB(se,P);Ie=lB(N,P,pe,F,se,b,C),ee=uA(K,Dn),P&&hB(C,pe,P,r),t!==void 0&&fB(ee,this.ngContentSelectors,t),J=dB(Ie,pe,F,A,se,[pB]),Cw(K,se,null)}catch(pe){throw Ie!==null&&u0(Ie),u0(se),pe}finally{tw()}return new E0(this.componentType,J,wu(ee,se),se,ee)}finally{ot(o)}}},E0=class extends _0{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Cc(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Iw(o[ke],o,i,e,t),this.previousInputValues.set(e,t);let s=ua(this._tNode.index,o);Tw(s,1)}}get injector(){return new mc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function cB(n,e){let t=n[ke],r=Dn;return n[r]=e,Pm(t,r,2,"#host",null)}function lB(n,e,t,r,i,o,s){let a=i[ke];uB(r,n,e,s);let l=null;e!==null&&(l=hw(e,i[hu]));let h=o.rendererFactory.createRenderer(e,t),y=16;t.signals?y=4096:t.onPush&&(y=64);let b=Rm(i,Ax(t),null,y,i[n.index],n,o,h,null,null,l);return a.firstCreatePass&&g0(a,n,r.length-1),Nm(i,b),i[n.index]=b}function uB(n,e,t,r){for(let i of n)e.mergedAttrs=Qd(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(b0(e,e.mergedAttrs,!0),t!==null&&_x(r,t,e))}function dB(n,e,t,r,i,o){let s=Ln(),a=i[ke],l=Rr(s,i);Rx(a,i,s,t,null,r);for(let y=0;y<t.length;y++){let b=s.directiveStart+y,C=Ec(i,a,b,s);Ic(C,i)}Px(a,i,s),l&&Ic(l,i);let h=Ec(i,a,s.directiveStart+s.componentOffset,s);if(n[Si]=i[Si]=h,o!==null)for(let y of o)y(h,e);return Tx(a,s,i),h}function hB(n,e,t,r){if(r)Y_(n,t,["ng-version","18.2.10"]);else{let{attrs:i,classes:o}=VL(e.selectors[0]);i&&Y_(n,t,i),o&&o.length>0&&vx(n,t,o.join(" "))}}function fB(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function pB(){let n=Ln();rw(et()[ke],n)}var pa=(()=>{class n{static{this.__NG_ELEMENT_ID__=mB}}return n})();function mB(){let n=Ln();return Zx(n,et())}var gB=pa,Qx=class extends gB{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return wu(this._hostTNode,this._hostLView)}get injector(){return new mc(this._hostTNode,this._hostLView)}get parentInjector(){let e=iw(this._hostTNode,this._hostLView);if(MA(e)){let t=em(e,this._hostLView),r=Xp(e),i=t[ke].data[r+8];return new mc(i,t)}else return new mc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=vS(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-cr}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=gS(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,mS(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!eV(e),a;if(s)a=t;else{let P=t||{};a=P.index,r=P.injector,i=P.projectableNodes,o=P.environmentInjector||P.ngModuleRef}let l=s?e:new yu(sa(e)),h=r||this.parentInjector;if(!o&&l.ngModule==null){let z=(s?h:this.parentInjector).get(Xn,null);z&&(o=z)}let y=sa(l.componentType??{}),b=gS(this._lContainer,y?.id??null),C=b?.firstChild??null,T=l.create(h,i,C,o);return this.insertImpl(T.hostView,a,mS(this._hostTNode,b)),T}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(aV(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Tn],h=new Qx(l,l[xi],l[Tn]);h.detach(h.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Dj(s,i,o,r),e.attachToViewContainerRef(),VS(U_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=vS(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=p0(this._lContainer,t);r&&(Gp(U_(this._lContainer),t),fx(r[ke],r))}detach(e){let t=this._adjustIndex(e,-1),r=p0(this._lContainer,t);return r&&Gp(U_(this._lContainer),t)!=null?new Cc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function vS(n){return n[Kp]}function U_(n){return n[Kp]||(n[Kp]=[])}function Zx(n,e){let t,r=e[n.index];return ro(r)?t=r:(t=Nx(r,e,null,n),e[n.index]=t,Nm(e,t)),Jx(t,e,n,r),new Qx(t,n,e)}function yB(n,e){let t=n[Ct],r=t.createComment(""),i=Rr(e,n),o=mx(t,i);return cm(t,o,r,$U(t,i),!1),r}var Jx=Xx,Dw=()=>!1;function vB(n,e,t){return Dw(n,e,t)}function Xx(n,e,t,r){if(n[es])return;let i;t.type&8?i=Ai(r):i=yB(e,t),n[es]=i}function _B(n,e,t){if(n[es]&&n[Xd])return!0;let r=t[to],i=e.index-Dn;if(!r||nU(e)||ah(r,i))return!1;let s=f0(r,i),a=r.data[dw]?.[i],[l,h]=eB(s,a);return n[es]=l,n[Xd]=h,!0}function wB(n,e,t,r){Dw(n,t,e)||Xx(n,e,t,r)}function bB(){Jx=wB,Dw=_B}var I0=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},C0=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Sw(e,t).matches!==null&&this.queries[t].setDirty()}},T0=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=xB(e):this.predicate=e}},D0=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},S0=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,EB(t,o)),this.matchTNodeWithReadOption(e,t,Bp(t,e,o,!1,!1))}else r===Tc?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Bp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===An||i===pa||i===Tc&&t.type&4)this.addMatch(t.index,-2);else{let o=Bp(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function EB(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function IB(n,e){return n.type&11?wu(n,e):n.type&4?km(n,e):null}function CB(n,e,t,r){return t===-1?IB(e,n):t===-2?TB(n,e,r):Ec(n,n[ke],t,e)}function TB(n,e,t){if(t===An)return wu(e,n);if(t===Tc)return km(e,n);if(t===pa)return Zx(e,n)}function eM(n,e,t,r){let i=e[Xo].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let h=s[l];if(h<0)a.push(null);else{let y=o[h];a.push(CB(e,y,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function A0(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=eM(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let h=o[a+1],y=e[-l];for(let b=cr;b<y.length;b++){let C=y[b];C[vc]===C[Tn]&&A0(C[ke],C,h,r)}if(y[fu]!==null){let b=y[fu];for(let C=0;C<b.length;C++){let T=b[C];A0(T[ke],T,h,r)}}}}}return r}function DB(n,e){return n[Xo].queries[e].queryList}function SB(n,e,t){let r=new l0((t&4)===4);return rj(n,e,r,r.destroy),(e[Xo]??=new C0).queries.push(new I0(r))-1}function AB(n,e,t,r){let i=Sn();if(i.firstCreatePass){let o=Ln();MB(i,new T0(e,t,r),o.index),RB(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return SB(i,et(),t)}function xB(n){return n.split(",").map(e=>e.trim())}function MB(n,e,t){n.queries===null&&(n.queries=new D0),n.queries.track(new S0(e,t))}function RB(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Sw(n,e){return n.queries.getByIndex(e)}function PB(n,e){let t=n[ke],r=Sw(t,e);return r.crossesNgTemplate?A0(t,n,e,[]):eM(t,n,r,e)}var _S=new Set;function is(n){_S.has(n)||(_S.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function NB(n){return typeof n=="function"&&n[Ko]!==void 0}function lh(n,e){is("NgSignals");let t=gD(n),r=t[Ko];return e?.equal&&(r.equal=e.equal),t.set=i=>c_(r,i),t.update=i=>yD(r,i),t.asReadonly=kB.bind(t),t}function kB(){let n=this[Ko];if(n.readonlyFn===void 0){let e=()=>this();e[Ko]=n,n.readonlyFn=e}return n.readonlyFn}function tM(n){return NB(n)&&typeof n.set=="function"}function OB(n){return Object.getPrototypeOf(n.prototype).constructor}function Un(n){let e=OB(n.type),t=!0,r=[n];for(;e;){let i;if(aa(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ve(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=kp(n.inputs),s.inputTransforms=kp(n.inputTransforms),s.declaredInputs=kp(n.declaredInputs),s.outputs=kp(n.outputs);let a=i.hostBindings;a&&jB(n,a);let l=i.viewQuery,h=i.contentQueries;if(l&&VB(n,l),h&&UB(n,h),FB(n,i),rL(n.outputs,i.outputs),aa(i)&&i.data.animation){let y=n.data;y.animation=(y.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Un&&(t=!1)}}e=Object.getPrototypeOf(e)}LB(r)}function FB(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function LB(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qd(i.hostAttrs,t=Qd(t,i.hostAttrs))}}function kp(n){return n===uu?{}:n===Sr?[]:n}function VB(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function UB(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function jB(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Aw(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var ca=class{},eh=class{};var x0=class extends ca{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hm(this);let o=YS(e);this._bootstrapComponents=cx(o.bootstrap),this._r3Injector=UA(e,t,[{provide:ca,useValue:this},{provide:mu,useValue:this.componentFactoryResolver},...r],Jn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},M0=class extends eh{constructor(e){super(),this.moduleType=e}create(e){return new x0(this.moduleType,e,[])}};var fm=class extends ca{constructor(e){super(),this.componentFactoryResolver=new hm(this),this.instance=null;let t=new Zd([...e.providers,{provide:ca,useValue:this},{provide:mu,useValue:this.componentFactoryResolver}],e.parent||K0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vm(n,e,t=null){return new fm({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function nM(n){return $B(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function BB(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function $B(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function xw(n,e,t){return n[e]=t}function HB(n,e){return n[e]}function la(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function R0(n,e,t,r){let i=la(n,e,t);return la(n,e+1,r)||i}function zB(n,e,t,r,i,o){let s=R0(n,e,t,r);return R0(n,e+2,i,o)||s}function uh(n){return(n.flags&32)===32}function qB(n,e,t,r,i,o,s,a,l){let h=e.consts,y=Pm(e,n,4,s||null,a||null);Mx(e,t,y,Jp(h,l)),rw(e,y);let b=y.tView=bw(2,y,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h,null);return e.queries!==null&&(e.queries.template(e,y),b.queries=e.queries.embeddedTView(y)),y}function GB(n,e,t,r,i,o,s,a,l,h){let y=t+Dn,b=e.firstCreatePass?qB(y,e,n,r,i,o,s,a,l):e.data[y];sh(b,!1);let C=rM(e,n,b,t);nw()&&vw(e,n,C,b),Ic(C,n);let T=Nx(C,n,C,b);return n[y]=T,Nm(n,T),vB(T,b,n),Q0(b)&&Dx(e,n,b),l!=null&&Sx(n,b,h),b}function oe(n,e,t,r,i,o,s,a){let l=et(),h=Sn(),y=Jp(h.consts,o);return GB(l,h,n,e,t,r,i,y,s,a),oe}var rM=iM;function iM(n,e,t,r){return da(!0),e[Ct].createComment("")}function WB(n,e,t,r){let i=e[to],o=!i||oh()||uh(t)||ah(i,r);if(da(o),o)return iM(n,e,t,r);let s=i.data[uU]?.[r]??null;s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s);let a=Om(i,n,e,t);Am(i,r,a);let l=fw(i,r);return Fm(l,a)}function YB(){rM=WB}var su=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(su||{}),oM=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=he({token:n,providedIn:"root",factory:()=>new n})}}return n})(),P0=class n{constructor(){this.ngZone=Q(We),this.scheduler=Q(pu),this.errorHandler=Q(ts,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[su.EarlyRead,su.Write,su.MixedReadWrite,su.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=he({token:n,providedIn:"root",factory:()=>new n})}},N0=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Mw(n,e){!e?.injector&&XL(Mw);let t=e?.injector??Q(Xt);return Gd(t)?(is("NgAfterNextRender"),QB(n,t,e,!0)):ZB}function KB(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function QB(n,e,t,r){let i=e.get(oM);i.impl??=e.get(P0);let o=t?.phase??su.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(sw):null,a=new N0(i.impl,KB(n,o),r,s);return i.impl.register(a),a}var ZB={destroy(){}};function Ac(n,e,t,r){let i=et(),o=Cm();if(la(i,o,e)){let s=Sn(),a=Tm();vj(a,i,n,e,t,r)}return Ac}function sM(n,e,t,r){return la(n,Cm(),t)?e+lu(t)+r:Ri}function JB(n,e,t,r,i,o){let s=_V(),a=R0(n,s,t,i);return wA(2),a?e+lu(t)+r+lu(i)+o:Ri}function Op(n,e){return n<<17|e<<2}function Dc(n){return n>>17&32767}function XB(n){return(n&2)==2}function e$(n,e){return n&131071|e<<17}function k0(n){return n|2}function vu(n){return(n&131068)>>2}function j_(n,e){return n&-131069|e<<2}function t$(n){return(n&1)===1}function O0(n){return n|1}function n$(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Dc(s),l=vu(s);n[r]=t;let h=!1,y;if(Array.isArray(t)){let b=t;y=b[1],(y===null||rh(b,y)>0)&&(h=!0)}else y=t;if(i)if(l!==0){let C=Dc(n[a+1]);n[r+1]=Op(C,a),C!==0&&(n[C+1]=j_(n[C+1],r)),n[a+1]=e$(n[a+1],r)}else n[r+1]=Op(a,0),a!==0&&(n[a+1]=j_(n[a+1],r)),a=r;else n[r+1]=Op(l,0),a===0?a=r:n[l+1]=j_(n[l+1],r),l=r;h&&(n[r+1]=k0(n[r+1])),wS(n,y,r,!0),wS(n,y,r,!1),r$(e,y,n,r,o),s=Op(a,l),o?e.classBindings=s:e.styleBindings=s}function r$(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&rh(o,e)>=0&&(t[r+1]=O0(t[r+1]))}function wS(n,e,t,r){let i=n[t+1],o=e===null,s=r?Dc(i):vu(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],h=n[s+1];i$(l,e)&&(a=!0,n[s+1]=r?O0(h):k0(h)),s=r?Dc(h):vu(h)}a&&(n[t+1]=r?k0(i):O0(i))}function i$(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?rh(n,e)>=0:!1}function q(n,e,t){let r=et(),i=Cm();if(la(r,i,e)){let o=Sn(),s=Tm();Ew(o,s,r,n,e,r[Ct],t,!1)}return q}function bS(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Iw(n,t,o[s],s,r)}function en(n,e){return o$(n,e,null,!0),en}function o$(n,e,t,r){let i=et(),o=Sn(),s=wA(2);if(o.firstUpdatePass&&a$(o,n,s,r),e!==Ri&&la(i,s,e)){let a=o.data[Sc()];h$(o,a,i,i[Ct],n,i[s+1]=f$(e,t),r,s)}}function s$(n,e){return e>=n.expandoStartIndex}function a$(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Sc()],s=s$(n,t);p$(o,r)&&e===null&&!s&&(e=!1),e=c$(i,o,e,r),n$(i,o,e,t,s,r)}}function c$(n,e,t,r){let i=CV(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=B_(null,n,e,t,r),t=th(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=B_(i,n,e,t,r),o===null){let l=l$(n,e,r);l!==void 0&&Array.isArray(l)&&(l=B_(null,n,e,l[1],r),l=th(l,e.attrs,r),u$(n,e,r,l))}else o=d$(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function l$(n,e,t){let r=t?e.classBindings:e.styleBindings;if(vu(r)!==0)return n[Dc(r)]}function u$(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Dc(i)]=r}function d$(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=th(r,s,t)}return th(r,e.attrs,t)}function B_(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=th(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function th(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),TL(n,s,t?!0:e[++o]))}return n===void 0?null:n}function h$(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,h=l[a+1],y=t$(h)?ES(l,e,t,i,vu(h),s):void 0;if(!pm(y)){pm(o)||XB(h)&&(o=ES(l,null,t,i,a,s));let b=lA(Sc(),t);YU(r,s,b,i,o)}}function ES(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],h=Array.isArray(l),y=h?l[1]:l,b=y===null,C=t[i+1];C===Ri&&(C=b?Sr:void 0);let T=b?x_(C,r):y===r?C:void 0;if(h&&!pm(T)&&(T=x_(l,r)),pm(T)&&(a=T,s))return a;let P=n[i+1];i=s?Dc(P):vu(P)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=x_(l,r))}return a}function pm(n){return n!==void 0}function f$(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Jn(ch(n)))),n}function p$(n,e){return(n.flags&(e?8:16))!==0}function m$(n,e,t,r,i,o){let s=e.consts,a=Jp(s,i),l=Pm(e,n,2,r,a);return Mx(e,t,l,Jp(s,o)),l.attrs!==null&&b0(l,l.attrs,!1),l.mergedAttrs!==null&&b0(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function M(n,e,t,r){let i=et(),o=Sn(),s=Dn+n,a=i[Ct],l=o.firstCreatePass?m$(s,o,i,e,t,r):o.data[s],h=aM(o,i,l,a,e,n);i[s]=h;let y=Q0(l);return sh(l,!0),_x(a,h,l),!uh(l)&&nw()&&vw(o,i,h,l),uV()===0&&Ic(h,i),dV(),y&&(Dx(o,i,l),Tx(o,l,i)),r!==null&&Sx(i,l),M}function S(){let n=Ln();vA()?yV():(n=n.parent,sh(n,!1));let e=n;fV(e)&&mV(),hV();let t=Sn();return t.firstCreatePass&&(rw(t,n),iA(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&MV(e)&&bS(t,e,et(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&RV(e)&&bS(t,e,et(),e.stylesWithoutHost,!1),S}function Ze(n,e,t,r){return M(n,e,t,r),S(),Ze}var aM=(n,e,t,r,i,o)=>(da(!0),gw(r,i,SA()));function g$(n,e,t,r,i,o){let s=e[to],a=!s||oh()||uh(t)||ah(s,o);if(da(a),a)return gw(r,i,SA());let l=Om(s,n,e,t);return nx(s,o)&&Am(s,o,l.nextSibling),s&&(HA(t)||zA(l))&&ih(t)&&(pV(t),yx(l)),l}function y$(){aM=g$}var v$=(n,e,t,r)=>(da(!0),ux(e[Ct],""));function _$(n,e,t,r){let i,o=e[to],s=!o||oh()||ah(o,r)||uh(t);if(da(s),s)return ux(e[Ct],"");let a=Om(o,n,e,t),l=wU(o,r);return Am(o,r,a),i=Fm(l,a),i}function w$(){v$=_$}function Ue(){return et()}var mm="en-US";var b$=mm;function E$(n){typeof n=="string"&&(b$=n.toLowerCase().replace(/_/g,"-"))}var I$=(n,e,t)=>{};function ge(n,e,t,r){let i=et(),o=Sn(),s=Ln();return cM(o,i,i[Ct],s,n,e,r),ge}function C$(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Yp],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function cM(n,e,t,r,i,o,s){let a=Q0(r),h=n.firstCreatePass&&Fx(n),y=e[Si],b=Ox(e),C=!0;if(r.type&3||s){let z=Rr(r,e),$=s?s(z):z,K=b.length,se=s?ee=>s(Ai(ee[r.index])):r.index,J=null;if(!s&&a&&(J=C$(n,e,i,r.index)),J!==null){let ee=J.__ngLastListenerFn__||J;ee.__ngNextListenerFn__=o,J.__ngLastListenerFn__=o,C=!1}else{o=CS(r,e,y,o),I$(z,i,o);let ee=t.listen($,i,o);b.push(o,ee),h&&h.push(i,se,K,K+1)}}else o=CS(r,e,y,o);let T=r.outputs,P;if(C&&T!==null&&(P=T[i])){let z=P.length;if(z)for(let $=0;$<z;$+=2){let K=P[$],se=P[$+1],Ie=e[K][se].subscribe(o),pe=b.length;b.push(o,Ie),h&&h.push(i,r.index,pe,-(pe+1))}}}function IS(n,e,t,r){let i=ot(null);try{return Ji(6,e,t),t(r)!==!1}catch(o){return Lx(n,o),!1}finally{Ji(7,e,t),ot(i)}}function CS(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?ua(n.index,e):e;Tw(s,5);let a=IS(e,t,r,o),l=i.__ngNextListenerFn__;for(;l;)a=IS(e,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function X(n=1){return DV(n)}function Eu(n,e,t){return lM(n,"",e,"",t),Eu}function lM(n,e,t,r,i){let o=et(),s=sM(o,e,t,r);if(s!==Ri){let a=Sn(),l=Tm();Ew(a,l,o,n,s,o[Ct],i,!1)}return lM}function uM(n,e,t,r){AB(n,e,t,r)}function dM(n){let e=et(),t=Sn(),r=bA();X0(r+1);let i=Sw(t,r);if(n.dirty&&sV(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=PB(e,r);n.reset(o,JV),n.notifyOnChanges()}return!0}return!1}function hM(){return DB(et(),bA())}function T$(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function fM(n){let e=vV();return dA(e,Dn+n)}function O(n,e=""){let t=et(),r=Sn(),i=n+Dn,o=r.firstCreatePass?Pm(r,i,1,e,null):r.data[i],s=pM(r,t,o,e,n);t[i]=s,nw()&&vw(r,t,s,o),sh(o,!1)}var pM=(n,e,t,r,i)=>(da(!0),lx(e[Ct],r));function D$(n,e,t,r,i){let o=e[to],s=!o||oh()||uh(t)||ah(o,i);return da(s),s?lx(e[Ct],r):Om(o,n,e,t)}function S$(){pM=D$}function _t(n){return tt("",n,""),_t}function tt(n,e,t){let r=et(),i=sM(r,n,e,t);return i!==Ri&&Vx(r,Sc(),i),tt}function Um(n,e,t,r,i){let o=et(),s=JB(o,n,e,t,r,i);return s!==Ri&&Vx(o,Sc(),s),Um}function Rw(n,e,t){tM(e)&&(e=e());let r=et(),i=Cm();if(la(r,i,e)){let o=Sn(),s=Tm();Ew(o,s,r,n,e,r[Ct],t,!1)}return Rw}function mM(n,e){let t=tM(n);return t&&n.set(e),t}function Pw(n,e){let t=et(),r=Sn(),i=Ln();return cM(r,t,t[Ct],i,n,e),Pw}function A$(n,e,t){let r=Sn();if(r.firstCreatePass){let i=aa(n);F0(t,r.data,r.blueprint,i,!0),F0(e,r.data,r.blueprint,i,!1)}}function F0(n,e,t,r,i){if(n=Zn(n),Array.isArray(n))for(let o=0;o<n.length;o++)F0(n[o],e,t,r,i);else{let o=Sn(),s=et(),a=Ln(),l=du(n)?n:Zn(n.provide),h=eA(n),y=a.providerIndexes&1048575,b=a.directiveStart,C=a.providerIndexes>>20;if(du(n)||!n.multi){let T=new bc(h,i,Z),P=H_(l,e,i?y:y+C,b);P===-1?(r0(nm(a,s),o,l),$_(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(T),s.push(T)):(t[P]=T,s[P]=T)}else{let T=H_(l,e,y+C,b),P=H_(l,e,y,y+C),z=T>=0&&t[T],$=P>=0&&t[P];if(i&&!$||!i&&!z){r0(nm(a,s),o,l);let K=R$(i?M$:x$,t.length,i,r,h);!i&&$&&(t[P].providerFactory=K),$_(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(K),s.push(K)}else{let K=gM(t[i?P:T],h,!i&&r);$_(o,n,T>-1?T:P,K)}!i&&r&&$&&t[P].componentProviders++}}}function $_(n,e,t,r){let i=du(e),o=GL(e);if(i||o){let l=(o?Zn(e.useClass):e).prototype.ngOnDestroy;if(l){let h=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let y=h.indexOf(t);y===-1?h.push(t,[r,l]):h[y+1].push(r,l)}else h.push(t,l)}}}function gM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function H_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function x$(n,e,t,r){return L0(this.multi,[])}function M$(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ec(t,t[ke],this.providerFactory.index,r);o=a.slice(0,s),L0(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],L0(i,o);return o}function L0(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function R$(n,e,t,r,i){let o=new bc(n,t,Z);return o.multi=[],o.index=e,o.componentProviders=0,gM(o,i,r&&!t),o}function Jr(n,e=[]){return t=>{t.providersResolver=(r,i)=>A$(r,i?i(n):n,e)}}var P$=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ZS(!1,t.type),i=r.length>0?Vm([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=he({token:n,providedIn:"environment",factory:()=>new n(ue(Xn))})}}return n})();function Et(n){is("NgStandalone"),n.getStandaloneInjector=e=>e.get(P$).getOrCreateStandaloneInjector(n)}function jm(n,e,t){let r=J0()+n,i=et();return i[r]===Ri?xw(i,r,t?e.call(t):e()):HB(i,r)}function Iu(n,e,t,r,i,o,s){return k$(et(),J0(),n,e,t,r,i,o,s)}function yM(n,e){let t=n[e];return t===Ri?void 0:t}function N$(n,e,t,r,i,o){let s=e+t;return la(n,s,i)?xw(n,s+1,o?r.call(o,i):r(i)):yM(n,s+1)}function k$(n,e,t,r,i,o,s,a,l){let h=e+t;return zB(n,h,i,o,s,a)?xw(n,h+4,l?r.call(l,i,o,s,a):r(i,o,s,a)):yM(n,h+4)}function Cu(n,e){let t=Sn(),r,i=n+Dn;t.firstCreatePass?(r=O$(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=gc(r.type,!0)),s,a=ar(Z);try{let l=tm(!1),h=o();return tm(l),T$(t,et(),i,h),h}finally{ar(a)}}function O$(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Tu(n,e,t){let r=n+Dn,i=et(),o=dA(i,r);return F$(i,r)?N$(i,J0(),e,o.transform,t,o):o.transform(t)}function F$(n,e){return n[ke].data[e].pure}function vM(n,e){return km(n,e)}var rs=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},_M=new rs("18.2.10");var Bm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var wM=new ce("");function xc(n){return!!n&&typeof n.then=="function"}function bM(n){return!!n&&typeof n.subscribe=="function"}var $m=new ce(""),EM=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Q($m,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(xc(o))t.push(o);else if(bM(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Mc=new ce("");function L$(){mD(()=>{throw new ve(600,!1)})}function V$(n){return n.isBoundToModule}var U$=10;function j$(n,e,t){try{let r=t();return xc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var oo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Q(QV),this.afterRenderManager=Q(oM),this.zonelessEnabled=Q(Lm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new pn,this.afterTick=new pn,this.componentTypes=[],this.components=[],this.isStable=Q(ha).hasPendingTasks.pipe(Oe(t=>!t)),this._injector=Q(Xn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof dm;if(!this._injector.get(EM).done){let C=!i&&WS(t),T=!1;throw new ve(405,T)}let s;i?s=t:s=this._injector.get(mu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=V$(s)?void 0:this._injector.get(ca),l=r||s.selector,h=s.create(Xt.NULL,[],l,a),y=h.location.nativeElement,b=h.injector.get(wM,null);return b?.registerApplication(y),h.onDestroy(()=>{this.detachView(h.hostView),$p(this.components,h),b?.unregisterApplication(y)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ve(101,!1);let t=ot(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ot(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(gu,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<U$;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)B$(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Em(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;$p(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Mc,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$p(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ve(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $p(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Fp;function Hm(n){Fp??=new WeakMap;let e=Fp.get(n);if(e)return e;let t=n.isStable.pipe(Ii(r=>r)).toPromise().then(()=>{});return Fp.set(n,t),n.onDestroy(()=>Fp?.delete(n)),t}function B$(n,e,t,r){if(!t&&!Em(n))return;Bx(n,e,t&&!r?0:1)}var V0=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},zm=(()=>{class n{compileModuleSync(t){return new M0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=YS(t),o=cx(i.declarations).reduce((s,a)=>{let l=sa(a);return l&&s.push(new yu(l)),s},[]);return new V0(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var $$=(()=>{class n{constructor(){this.zone=Q(We),this.changeDetectionScheduler=Q(pu),this.applicationRef=Q(oo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),H$=new ce("",{factory:()=>!1});function IM({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new We($e(ne({},TM()),{scheduleInRootZone:t})),[{provide:We,useFactory:n},{provide:yc,multi:!0,useFactory:()=>{let r=Q($$,{optional:!0});return()=>r.initialize()}},{provide:yc,multi:!0,useFactory:()=>{let r=Q(z$);return()=>{r.initialize()}}},e===!0?{provide:Yx,useValue:!0}:[],{provide:Kx,useValue:t??jA}]}function CM(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=IM({ngZoneFactory:()=>{let i=TM(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&is("NgZone_CoalesceEvent"),new We(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Fn([{provide:H$,useValue:!0},{provide:Lm,useValue:!1},r])}function TM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var z$=(()=>{class n{constructor(){this.subscription=new $t,this.initialized=!1,this.zone=Q(We),this.pendingTasks=Q(ha)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var q$=(()=>{class n{constructor(){this.appRef=Q(oo),this.taskService=Q(ha),this.ngZone=Q(We),this.zonelessEnabled=Q(Lm),this.disableScheduling=Q(Yx,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new $t,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(im):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Q(Kx,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof c0||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?sS:BA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(im+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function G$(){return typeof $localize<"u"&&$localize.locale||mm}var Nw=new ce("",{providedIn:"root",factory:()=>Q(Nw,He.Optional|He.SkipSelf)||G$()});var U0=new ce("");function Lp(n){return!n.moduleRef}function W$(n){let e=Lp(n)?n.r3Injector:n.moduleRef.injector,t=e.get(We);return t.run(()=>{Lp(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ts,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Lp(n)){let o=()=>e.destroy(),s=n.platformInjector.get(U0);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(U0);s.add(o),n.moduleRef.onDestroy(()=>{$p(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return j$(r,t,()=>{let o=e.get(EM);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Nw,mm);if(E$(s||mm),Lp(n)){let a=e.get(oo);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return Y$(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function Y$(n,e){let t=n.injector.get(oo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ve(-403,!1);e.push(n)}var Hp=null;function K$(n=[],e){return Xt.create({name:e,providers:[{provide:wm,useValue:"platform"},{provide:U0,useValue:new Set([()=>Hp=null])},...n]})}function Q$(n=[]){if(Hp)return Hp;let e=K$(n);return Hp=e,L$(),Z$(e),e}function Z$(n){n.get(lw,null)?.forEach(t=>t())}var ma=(()=>{class n{static{this.__NG_ELEMENT_ID__=J$}}return n})();function J$(n){return X$(Ln(),et(),(n&16)===16)}function X$(n,e,t){if(ih(n)&&!t){let r=ua(n.index,e);return new Cc(r,r)}else if(n.type&175){let r=e[Qr];return new Cc(r,e)}return null}var j0=class{constructor(){}supports(e){return nM(e)}create(e){return new B0(e)}},e4=(n,e)=>e,B0=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||e4}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<TS(r,i,o)?t:r,a=TS(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let h=a-i,y=l-i;if(h!=y){for(let C=0;C<h;C++){let T=C<o.length?o[C]:o[C]=0,P=T+C;y<=P&&P<h&&(o[C]=T+1)}let b=s.previousIndex;o[b]=y-h}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!nM(e))throw new ve(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,BB(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new $0(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new gm),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new gm),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},$0=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},H0=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},gm=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new H0,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function TS(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function DS(){return new kw([new j0])}var kw=(()=>{class n{static{this.\u0275prov=he({token:n,providedIn:"root",factory:DS})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||DS()),deps:[[n,new q0,new Wt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new ve(901,!1)}}return n})();function DM(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=Q$(r),o=[IM({}),{provide:pu,useExisting:q$},...t||[]],s=new fm({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return W$({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var SS=!1;function t4(){SS||(SS=!0,gU(),y$(),S$(),w$(),YB(),bB(),nB(),nj())}function n4(n,e){return Hm(n)}function SM(){return Fn([{provide:Pp,useFactory:()=>{let n=!0;return Gd()&&(n=!!Q(bu,{optional:!0})?.get(ex,null)),n&&is("NgHydration"),n}},{provide:yc,useValue:()=>{Kj(!1),Gd()&&Q(Pp)&&(r4(),t4())},multi:!0},{provide:ix,useFactory:()=>Gd()&&Q(Pp)},{provide:Mc,useFactory:()=>{if(Gd()&&Q(Pp)){let n=Q(oo),e=Q(Xt);return()=>{n4(n,e).then(()=>{Xj(n)})}}return()=>{}},multi:!0}])}function r4(){let n=Dm(),e;for(let t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===pU){e=t;break}if(!e)throw new ve(-507,!1)}function ga(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function dh(n,e){is("NgSignals");let t=hD(n);return e?.equal&&(t[Ko].equal=e.equal),t}function os(n){let e=ot(null);try{return n()}finally{ot(e)}}function AM(n){let e=sa(n);if(!e)return null;let t=new yu(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var kM=null;function as(){return kM}function OM(n){kM??=n}var qm=class{};var jn=new ce(""),jw=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:()=>Q(i4),providedIn:"platform"})}}return n})(),FM=new ce(""),i4=(()=>{class n extends jw{constructor(){super(),this._doc=Q(jn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return as().getBaseHref(this._doc)}onPopState(t){let r=as().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=as().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Bw(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function xM(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function ss(n){return n&&n[0]!=="?"?"?"+n:n}var cs=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:()=>Q($w),providedIn:"root"})}}return n})(),LM=new ce(""),$w=(()=>{class n extends cs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Q(jn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Bw(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ss(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ss(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ss(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ue(jw),ue(LM,8))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),VM=(()=>{class n extends cs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Bw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ss(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ss(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ue(jw),ue(LM,8))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})(),Su=(()=>{class n{constructor(t){this._subject=new ht,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=a4(xM(MM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ss(r))}normalize(t){return n.stripTrailingSlash(s4(this._basePath,MM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ss(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ss(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=ss}static{this.joinWithSlash=Bw}static{this.stripTrailingSlash=xM}static{this.\u0275fac=function(r){return new(r||n)(ue(cs))}}static{this.\u0275prov=he({token:n,factory:()=>o4(),providedIn:"root"})}}return n})();function o4(){return new Su(ue(cs))}function s4(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function MM(n){return n.replace(/\/index.html$/,"")}function a4(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Gm(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ow=/\s+/,RM=[],Au=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=RM,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Ow):RM}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Ow):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Ow).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(Z(An),Z(Pi))}}static{this.\u0275dir=ft({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Fw=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Bn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Fw(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),PM(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);PM(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Z(pa),Z(Tc),Z(kw))}}static{this.\u0275dir=ft({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function PM(n,e){n.context.$implicit=e.item}var _n=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Lw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){NM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){NM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Z(pa),Z(Tc))}}static{this.\u0275dir=ft({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Lw=class{constructor(){this.$implicit=null,this.ngIf=null}};function NM(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Jn(e)}'.`)}function c4(n,e){return new ve(2100,!1)}var xu=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw c4(n,t);return t.toUpperCase()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=zS({name:"uppercase",type:n,pure:!0,standalone:!0})}}return n})();var Lt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mr({type:n})}static{this.\u0275inj=xr({})}}return n})(),Hw="browser",l4="server";function zw(n){return n===Hw}function hh(n){return n===l4}var UM=(()=>{class n{static{this.\u0275prov=he({token:n,providedIn:"root",factory:()=>zw(Q(Vn))?new Vw(Q(jn),window):new Uw})}}return n})(),Vw=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=u4(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function u4(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Uw=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Du=class{};var ph=class{},Km=class{},so=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Gw=class{encodeKey(e){return jM(e)}encodeValue(e){return jM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function d4(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var h4=/%(\d[a-f0-9])/gi,f4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jM(n){return encodeURIComponent(n).replace(h4,(e,t)=>f4[t]??e)}function Wm(n){return`${n}`}var va=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Gw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=d4(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Wm):[Wm(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Wm(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Wm(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ww=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function p4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function BM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function $M(n){return typeof Blob<"u"&&n instanceof Blob}function HM(n){return typeof FormData<"u"&&n instanceof FormData}function m4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var fh=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(p4(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new so,this.context??=new Ww,!this.params)this.params=new va,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||BM(this.body)||$M(this.body)||HM(this.body)||m4(this.body)?this.body:this.body instanceof va?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||HM(this.body)?null:$M(this.body)?this.body.type||null:BM(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof va?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,h=e.headers||this.headers,y=e.params||this.params,b=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((C,T)=>C.set(T,e.setHeaders[T]),h)),e.setParams&&(y=Object.keys(e.setParams).reduce((C,T)=>C.set(T,e.setParams[T]),y)),new n(t,r,s,{params:y,headers:h,context:b,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},_a=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(_a||{}),mh=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new so,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Qm=class n extends mh{constructor(e={}){super(e),this.type=_a.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Rc=class n extends mh{constructor(e={}){super(e),this.type=_a.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ya=class extends mh{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},eR=200,g4=204;function qw(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var y4=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof fh)o=t;else{let l;i.headers instanceof so?l=i.headers:l=new so(i.headers);let h;i.params&&(i.params instanceof va?h=i.params:h=new va({fromObject:i.params})),o=new fh(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:h,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=_e(o).pipe(Zo(l=>this.handler.handle(l)));if(t instanceof fh||i.observe==="events")return s;let a=s.pipe(On(l=>l instanceof Rc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Oe(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Oe(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Oe(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(Oe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new va().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,qw(i,r))}post(t,r,i={}){return this.request("POST",t,qw(i,r))}put(t,r,i={}){return this.request("PUT",t,qw(i,r))}static{this.\u0275fac=function(r){return new(r||n)(ue(ph))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})(),v4=/^\)\]\}',?\n/,_4="X-Request-URL";function zM(n){if(n.url)return n.url;let e=_4.toLocaleLowerCase();return n.headers.get(e)}var w4=(()=>{class n{constructor(){this.fetchImpl=Q(Yw,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=Q(We)}handle(t){return new qe(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Kw,o=>r.error(new ya({error:o}))),()=>i.abort()})}doRequest(t,r,i){return D(this,null,function*(){let o=this.createRequestInit(t),s;try{let T=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,ne({signal:r},o)));b4(T),i.next({type:_a.Sent}),s=yield T}catch(T){i.error(new ya({error:T,status:T.status??0,statusText:T.statusText,url:t.urlWithParams,headers:T.headers}));return}let a=new so(s.headers),l=s.statusText,h=zM(s)??t.urlWithParams,y=s.status,b=null;if(t.reportProgress&&i.next(new Qm({headers:a,status:y,statusText:l,url:h})),s.body){let T=s.headers.get("content-length"),P=[],z=s.body.getReader(),$=0,K,se,J=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>D(this,null,function*(){for(;;){let{done:Ie,value:pe}=yield z.read();if(Ie)break;if(P.push(pe),$+=pe.length,t.reportProgress){se=t.responseType==="text"?(se??"")+(K??=new TextDecoder).decode(pe,{stream:!0}):void 0;let F=()=>i.next({type:_a.DownloadProgress,total:T?+T:void 0,loaded:$,partialText:se});J?J.run(F):F()}}}));let ee=this.concatChunks(P,$);try{let Ie=s.headers.get("Content-Type")??"";b=this.parseBody(t,ee,Ie)}catch(Ie){i.error(new ya({error:Ie,headers:new so(s.headers),status:s.status,statusText:s.statusText,url:zM(s)??t.urlWithParams}));return}}y===0&&(y=b?eR:0),y>=200&&y<300?(i.next(new Rc({body:b,headers:a,status:y,statusText:l,url:h})),i.complete()):i.error(new ya({error:b,headers:a,status:y,statusText:l,url:h}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(v4,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})(),Yw=class{};function Kw(){}function b4(n){n.then(Kw,Kw)}function E4(n,e){return e(n)}function I4(n,e,t){return(r,i)=>Zr(t,()=>e(r,o=>n(o,i)))}var tR=new ce(""),nR=new ce(""),C4=new ce("",{providedIn:"root",factory:()=>!0});var qM=(()=>{class n extends ph{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=Q(ha),this.contributeToStability=Q(C4)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(tR),...this.injector.get(nR,[])]));this.chain=r.reduceRight((i,o)=>I4(i,o,this.injector),E4)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(pc(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(ue(Km),ue(Xn))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})();var T4=/^\)\]\}',?\n/;function D4(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var GM=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new ve(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?bt(r.\u0275loadImpl()):_e(null)).pipe(sr(()=>new qe(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((z,$)=>s.setRequestHeader(z,$.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let z=t.detectContentTypeHeader();z!==null&&s.setRequestHeader("Content-Type",z)}if(t.responseType){let z=t.responseType.toLowerCase();s.responseType=z!=="json"?z:"text"}let a=t.serializeBody(),l=null,h=()=>{if(l!==null)return l;let z=s.statusText||"OK",$=new so(s.getAllResponseHeaders()),K=D4(s)||t.url;return l=new Qm({headers:$,status:s.status,statusText:z,url:K}),l},y=()=>{let{headers:z,status:$,statusText:K,url:se}=h(),J=null;$!==g4&&(J=typeof s.response>"u"?s.responseText:s.response),$===0&&($=J?eR:0);let ee=$>=200&&$<300;if(t.responseType==="json"&&typeof J=="string"){let Ie=J;J=J.replace(T4,"");try{J=J!==""?JSON.parse(J):null}catch(pe){J=Ie,ee&&(ee=!1,J={error:pe,text:J})}}ee?(o.next(new Rc({body:J,headers:z,status:$,statusText:K,url:se||void 0})),o.complete()):o.error(new ya({error:J,headers:z,status:$,statusText:K,url:se||void 0}))},b=z=>{let{url:$}=h(),K=new ya({error:z,status:s.status||0,statusText:s.statusText||"Unknown Error",url:$||void 0});o.error(K)},C=!1,T=z=>{C||(o.next(h()),C=!0);let $={type:_a.DownloadProgress,loaded:z.loaded};z.lengthComputable&&($.total=z.total),t.responseType==="text"&&s.responseText&&($.partialText=s.responseText),o.next($)},P=z=>{let $={type:_a.UploadProgress,loaded:z.loaded};z.lengthComputable&&($.total=z.total),o.next($)};return s.addEventListener("load",y),s.addEventListener("error",b),s.addEventListener("timeout",b),s.addEventListener("abort",b),t.reportProgress&&(s.addEventListener("progress",T),a!==null&&s.upload&&s.upload.addEventListener("progress",P)),s.send(a),o.next({type:_a.Sent}),()=>{s.removeEventListener("error",b),s.removeEventListener("abort",b),s.removeEventListener("load",y),s.removeEventListener("timeout",b),t.reportProgress&&(s.removeEventListener("progress",T),a!==null&&s.upload&&s.upload.removeEventListener("progress",P)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(ue(Du))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})(),rR=new ce(""),S4="XSRF-TOKEN",A4=new ce("",{providedIn:"root",factory:()=>S4}),x4="X-XSRF-TOKEN",M4=new ce("",{providedIn:"root",factory:()=>x4}),Zm=class{},R4=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gm(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(ue(jn),ue(Vn),ue(A4))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})();function P4(n,e){let t=n.url.toLowerCase();if(!Q(rR)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=Q(Zm).getToken(),i=Q(M4);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function iR(...n){let e=[y4,GM,qM,{provide:ph,useExisting:qM},{provide:Km,useFactory:()=>Q(w4,{optional:!0})??Q(GM)},{provide:tR,useValue:P4,multi:!0},{provide:rR,useValue:!0},{provide:Zm,useClass:R4}];for(let t of n)e.push(...t.\u0275providers);return Fn(e)}var N4=new ce(""),WM="b",YM="h",KM="s",QM="st",ZM="u",JM="rt",Ym=new ce(""),k4=["GET","HEAD"];function O4(n,e){let T=Q(Ym),{isCacheActive:t}=T,r=ep(T,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!k4.includes(o)||!r.includeRequestsWithAuthHeaders&&F4(n)||r.filter?.(n)===!1)return e(n);let s=Q(bu),a=Q(N4,{optional:!0}),l=hh(Q(Vn));if(a&&!l)throw new ve(2803,!1);let h=l&&a?j4(n.url,a):n.url,y=V4(n,h),b=s.get(y,null),C=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(C=i.includeHeaders),b){let{[WM]:P,[JM]:z,[YM]:$,[KM]:K,[QM]:se,[ZM]:J}=b,ee=P;switch(z){case"arraybuffer":ee=new TextEncoder().encode(P).buffer;break;case"blob":ee=new Blob([P]);break}let Ie=new so($);return _e(new Rc({body:ee,headers:Ie,status:K,statusText:se,url:J}))}return e(n).pipe(Gt(P=>{P instanceof Rc&&l&&s.set(y,{[WM]:P.body,[YM]:L4(P.headers,C),[KM]:P.status,[QM]:P.statusText,[ZM]:h,[JM]:n.responseType})}))}function F4(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function L4(n,e){if(!e)return{};let t={};for(let r of e){let i=n.getAll(r);i!==null&&(t[r]=i)}return t}function XM(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function V4(n,e){let{params:t,method:r,responseType:i}=n,o=XM(t),s=n.serializeBody();s instanceof URLSearchParams?s=XM(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),l=U4(a);return l}function U4(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function oR(n){return[{provide:Ym,useFactory:()=>(is("NgHttpTransferCache"),ne({isCacheActive:!0},n))},{provide:nR,useValue:O4,multi:!0,deps:[bu,Ym]},{provide:Mc,multi:!0,useFactory:()=>{let e=Q(oo),t=Q(Ym);return()=>{Hm(e).then(()=>{t.isCacheActive=!1})}}}]}function j4(n,e){let t=new URL(n,"resolve://").origin,r=e[t];return r?n.replace(t,r):n}var Jw=class extends qm{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xw=class n extends Jw{static makeCurrent(){OM(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=B4();return t==null?null:$4(t)}resetBaseElement(){gh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gm(document.cookie,e)}},gh=null;function B4(){return gh=gh||document.querySelector("base"),gh?gh.getAttribute("href"):null}function $4(n){return new URL(n,document.baseURI).pathname}var H4=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})(),eb=new ce(""),lR=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new ve(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ue(eb),ue(We))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})(),Jm=class{constructor(e){this._doc=e}},Qw="ng-app-id",uR=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hh(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Qw}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Qw),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Qw,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ue(jn),ue(Sm),ue(uw,8),ue(Vn))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})(),Zw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rb=/%COMP%/g,dR="%COMP%",z4=`_nghost-${dR}`,q4=`_ngcontent-${dR}`,G4=!0,W4=new ce("",{providedIn:"root",factory:()=>G4});function Y4(n){return q4.replace(rb,n)}function K4(n){return z4.replace(rb,n)}function hR(n,e){return e.map(t=>t.replace(rb,n))}var sR=(()=>{class n{constructor(t,r,i,o,s,a,l,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=hh(a),this.defaultRenderer=new yh(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===eo.ShadowDom&&(r=$e(ne({},r),{encapsulation:eo.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Xm?i.applyToHost(t):i instanceof vh&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,b=this.platformIsServer;switch(r.encapsulation){case eo.Emulated:o=new Xm(l,h,r,this.appId,y,s,a,b);break;case eo.ShadowDom:return new tb(l,h,t,r,s,a,this.nonce,b);default:o=new vh(l,h,r,y,s,a,b);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ue(lR),ue(uR),ue(Sm),ue(W4),ue(jn),ue(Vn),ue(We),ue(uw))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})(),yh=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Zw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(aR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(aR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ve(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Zw[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Zw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ns.DashCase|ns.Important)?e.style.setProperty(t,r,i&ns.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ns.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=as().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function aR(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var tb=class extends yh{constructor(e,t,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=hR(i.id,i.styles);for(let y of h){let b=document.createElement("style");a&&b.setAttribute("nonce",a),b.textContent=y,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vh=class extends yh{constructor(e,t,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?hR(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xm=class extends vh{constructor(e,t,r,i,o,s,a,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,l,h),this.contentAttr=Y4(h),this.hostAttr=K4(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Q4=(()=>{class n extends Jm{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ue(jn))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})(),cR=["alt","control","meta","shift"],Z4={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},X4=(()=>{class n extends Jm{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>as().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),cR.forEach(h=>{let y=r.indexOf(h);y>-1&&(r.splice(y,1),s+=h+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=Z4[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),cR.forEach(s=>{if(s!==i){let a=J4[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ue(jn))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})();function fR(n,e){return DM(ne({rootComponent:n},e3(e)))}function e3(n){return{appProviders:[...o3,...n?.providers??[]],platformProviders:i3}}function t3(){Xw.makeCurrent()}function n3(){return new ts}function r3(){return KA(document),document}var i3=[{provide:Vn,useValue:Hw},{provide:lw,useValue:t3,multi:!0},{provide:jn,useFactory:r3,deps:[]}];var o3=[{provide:wm,useValue:"root"},{provide:ts,useFactory:n3,deps:[]},{provide:eb,useClass:Q4,multi:!0,deps:[jn,We,Vn]},{provide:eb,useClass:X4,multi:!0,deps:[jn]},sR,uR,lR,{provide:gu,useExisting:sR},{provide:Du,useClass:H4,deps:[]},[]];var pR=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ue(jn))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var nb=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(nb||{});function mR(...n){let e=[],t=new Set,r=t.has(nb.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);return Fn([[],SM(),t.has(nb.NoHttpTransferCache)||r?[]:oR({}),e])}var je="primary",Nh=Symbol("RouteTitle"),cb=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ou(n){return new cb(n)}function a3(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function c3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ao(n[t],e[t]))return!1;return!0}function ao(n,e){let t=n?lb(n):void 0,r=e?lb(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!DR(n[i],e[i]))return!1;return!0}function lb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function DR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function SR(n){return n.length>0?n[n.length-1]:null}function Ia(n){return E_(n)?n:xc(n)?bt(Promise.resolve(n)):_e(n)}var l3={exact:xR,subset:MR},AR={exact:u3,subset:d3,ignored:()=>!0};function gR(n,e,t){return l3[t.paths](n.root,e.root,t.matrixParams)&&AR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function u3(n,e){return ao(n,e)}function xR(n,e,t){if(!Nc(n.segments,e.segments)||!ng(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!xR(n.children[r],e.children[r],t))return!1;return!0}function d3(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>DR(n[t],e[t]))}function MR(n,e,t){return RR(n,e,e.segments,t)}function RR(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Nc(i,t)||e.hasChildren()||!ng(i,t,r))}else if(n.segments.length===t.length){if(!Nc(n.segments,t)||!ng(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!MR(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Nc(n.segments,i)||!ng(n.segments,i,r)||!n.children[je]?!1:RR(n.children[je],e,o,r)}}function ng(n,e,t){return e.every((r,i)=>AR[t](n[i].parameters,r.parameters))}var us=class{constructor(e=new ut([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ou(this.queryParams),this._queryParamMap}toString(){return p3.serialize(this)}},ut=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rg(this)}},Pc=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ou(this.parameters),this._parameterMap}toString(){return NR(this)}};function h3(n,e){return Nc(n,e)&&n.every((t,r)=>ao(t.parameters,e[r].parameters))}function Nc(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function f3(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===je&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==je&&(t=t.concat(e(i,r)))}),t}var kh=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:()=>new Fu,providedIn:"root"})}}return n})(),Fu=class{parse(e){let t=new db(e);return new us(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${_h(e.root,!0)}`,r=y3(e.queryParams),i=typeof e.fragment=="string"?`#${m3(e.fragment)}`:"";return`${t}${r}${i}`}},p3=new Fu;function rg(n){return n.segments.map(e=>NR(e)).join("/")}function _h(n,e){if(!n.hasChildren())return rg(n);if(e){let t=n.children[je]?_h(n.children[je],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==je&&r.push(`${i}:${_h(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=f3(n,(r,i)=>i===je?[_h(n.children[je],!1)]:[`${i}:${_h(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[je]!=null?`${rg(n)}/${t[0]}`:`${rg(n)}/(${t.join("//")})`}}function PR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eg(n){return PR(n).replace(/%3B/gi,";")}function m3(n){return encodeURI(n)}function ub(n){return PR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ig(n){return decodeURIComponent(n)}function yR(n){return ig(n.replace(/\+/g,"%20"))}function NR(n){return`${ub(n.path)}${g3(n.parameters)}`}function g3(n){return Object.entries(n).map(([e,t])=>`;${ub(e)}=${ub(t)}`).join("")}function y3(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${eg(t)}=${eg(i)}`).join("&"):`${eg(t)}=${eg(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var v3=/^[^\/()?;#]+/;function ib(n){let e=n.match(v3);return e?e[0]:""}var _3=/^[^\/()?;=#]+/;function w3(n){let e=n.match(_3);return e?e[0]:""}var b3=/^[^=?&#]+/;function E3(n){let e=n.match(b3);return e?e[0]:""}var I3=/^[^&#]+/;function C3(n){let e=n.match(I3);return e?e[0]:""}var db=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ut([],{}):new ut([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[je]=new ut(e,t)),r}parseSegment(){let e=ib(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ve(4009,!1);return this.capture(e),new Pc(ig(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=w3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ib(this.remaining);i&&(r=i,this.capture(r))}e[ig(t)]=ig(r)}parseQueryParam(e){let t=E3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=C3(this.remaining);s&&(r=s,this.capture(r))}let i=yR(t),o=yR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ib(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ve(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=je);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[je]:new ut([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ve(4011,!1)}};function kR(n){return n.segments.length>0?new ut([],{[je]:n}):n}function OR(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=OR(i);if(r===je&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ut(n.segments,e);return T3(t)}function T3(n){if(n.numberOfChildren===1&&n.children[je]){let e=n.children[je];return new ut(n.segments.concat(e.segments),e.children)}return n}function kc(n){return n instanceof us}function D3(n,e,t=null,r=null){let i=FR(n);return LR(i,e,t,r)}function FR(n){let e;function t(o){let s={};for(let l of o.children){let h=t(l);s[l.outlet]=h}let a=new ut(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=kR(r);return e??i}function LR(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return ob(i,i,i,t,r);let o=S3(e);if(o.toRoot())return ob(i,i,new ut([],{}),t,r);let s=A3(o,i,n),a=s.processChildren?Eh(s.segmentGroup,s.index,o.commands):UR(s.segmentGroup,s.index,o.commands);return ob(i,s.segmentGroup,a,t,r)}function og(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Th(n){return typeof n=="object"&&n!=null&&n.outlets}function ob(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,h])=>{o[l]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`});let s;n===e?s=t:s=VR(n,e,t);let a=kR(OR(s));return new us(a,o,i)}function VR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=VR(o,e,t)}),new ut(n.segments,r)}var sg=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&og(r[0]))throw new ve(4003,!1);let i=r.find(Th);if(i&&i!==SR(r))throw new ve(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function S3(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new sg(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,h])=>{a[l]=typeof h=="string"?h.split("/"):h}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new sg(t,e,r)}var Pu=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function A3(n,e,t){if(n.isAbsolute)return new Pu(e,!0,0);if(!t)return new Pu(e,!1,NaN);if(t.parent===null)return new Pu(t,!0,0);let r=og(n.commands[0])?0:1,i=t.segments.length-1+r;return x3(t,i,n.numberOfDoubleDots)}function x3(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ve(4005,!1);i=r.segments.length}return new Pu(r,!1,i-o)}function M3(n){return Th(n[0])?n[0].outlets:{[je]:n}}function UR(n,e,t){if(n??=new ut([],{}),n.segments.length===0&&n.hasChildren())return Eh(n,e,t);let r=R3(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ut(n.segments.slice(0,r.pathIndex),{});return o.children[je]=new ut(n.segments.slice(r.pathIndex),n.children),Eh(o,0,i)}else return r.match&&i.length===0?new ut(n.segments,{}):r.match&&!n.hasChildren()?hb(n,e,t):r.match?Eh(n,0,i):hb(n,e,t)}function Eh(n,e,t){if(t.length===0)return new ut(n.segments,{});{let r=M3(t),i={};if(Object.keys(r).some(o=>o!==je)&&n.children[je]&&n.numberOfChildren===1&&n.children[je].segments.length===0){let o=Eh(n.children[je],e,t);return new ut(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=UR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ut(n.segments,i)}}function R3(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Th(a))break;let l=`${a}`,h=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&h&&typeof h=="object"&&h.outlets===void 0){if(!_R(l,h,s))return o;r+=2}else{if(!_R(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function hb(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Th(o)){let l=P3(o.outlets);return new ut(r,l)}if(i===0&&og(t[0])){let l=n.segments[e];r.push(new Pc(l.path,vR(t[0]))),i++;continue}let s=Th(o)?o.outlets[je]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&og(a)?(r.push(new Pc(s,vR(a))),i+=2):(r.push(new Pc(s,{})),i++)}return new ut(r,{})}function P3(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=hb(new ut([],{}),0,r))}),e}function vR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function _R(n,e,t){return n==t.path&&ao(e,t.parameters)}var Ih="imperative",wn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(wn||{}),ei=class{constructor(e,t){this.id=e,this.url=t}},Lu=class extends ei{constructor(e,t,r="imperative",i=null){super(e,t),this.type=wn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ki=class extends ei{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=wn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Nr||{}),ag=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ag||{}),ls=class extends ei{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=wn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wa=class extends ei{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=wn.NavigationSkipped}},Dh=class extends ei{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=wn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cg=class extends ei{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=wn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fb=class extends ei{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=wn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pb=class extends ei{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=wn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mb=class extends ei{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=wn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gb=class extends ei{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=wn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yb=class{constructor(e){this.route=e,this.type=wn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vb=class{constructor(e){this.route=e,this.type=wn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_b=class{constructor(e){this.snapshot=e,this.type=wn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wb=class{constructor(e){this.snapshot=e,this.type=wn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bb=class{constructor(e){this.snapshot=e,this.type=wn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eb=class{constructor(e){this.snapshot=e,this.type=wn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lg=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=wn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Sh=class{},Vu=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function N3(n,e){return n.providers&&!n._injector&&(n._injector=Vm(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ni(n){return n.outlet||je}function k3(n,e){let t=n.filter(r=>Ni(r)===e);return t.push(...n.filter(r=>Ni(r)!==e)),t}function Oh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ib=class{get injector(){return Oh(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Fh(this.rootInjector),this.attachRef=null}},Fh=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ib(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(ue(Xn))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ug=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Cb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Cb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Tb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Tb(e,this._root).map(t=>t.value)}};function Cb(n,e){if(n===e.value)return e;for(let t of e.children){let r=Cb(n,t);if(r)return r}return null}function Tb(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Tb(n,t);if(r.length)return r.unshift(e),r}return[]}var Pr=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ru(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var dg=class extends ug{constructor(e,t){super(e),this.snapshot=t,kb(this,e)}toString(){return this.snapshot.toString()}};function jR(n){let e=O3(n),t=new mn([new Pc("",{})]),r=new mn({}),i=new mn({}),o=new mn({}),s=new mn(""),a=new ba(t,r,o,s,i,je,n,e.root);return a.snapshot=e.root,new dg(new Pr(a,[]),e)}function O3(n){let e={},t={},r={},i="",o=new Nu([],e,r,i,t,je,n,null,{});return new fg("",new Pr(o,[]))}var ba=class{constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Oe(h=>h[Nh]))??_e(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Oe(e=>Ou(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Oe(e=>Ou(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hg(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:ne(ne({},e.params),n.params),data:ne(ne({},e.data),n.data),resolve:ne(ne(ne(ne({},n.data),e.data),i?.data),n._resolvedData)}:r={params:ne({},n.params),data:ne({},n.data),resolve:ne(ne({},n.data),n._resolvedData??{})},i&&$R(i)&&(r.resolve[Nh]=i.title),r}var Nu=class{get title(){return this.data?.[Nh]}constructor(e,t,r,i,o,s,a,l,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ou(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ou(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},fg=class extends ug{constructor(e,t){super(t),this.url=e,kb(this,t)}toString(){return BR(this._root)}};function kb(n,e){e.value._routerState=n,e.children.forEach(t=>kb(n,t))}function BR(n){let e=n.children.length>0?` { ${n.children.map(BR).join(", ")} } `:"";return`${n.value}${e}`}function sb(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ao(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ao(e.params,t.params)||n.paramsSubject.next(t.params),c3(e.url,t.url)||n.urlSubject.next(t.url),ao(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Db(n,e){let t=ao(n.params,e.params)&&h3(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Db(n.parent,e.parent))}function $R(n){return typeof n.title=="string"||n.title===null}var Ob=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=je,this.activateEvents=new ht,this.deactivateEvents=new ht,this.attachEvents=new ht,this.detachEvents=new ht,this.parentContexts=Q(Fh),this.location=Q(pa),this.changeDetector=Q(ma),this.inputBinder=Q(yg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ve(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ve(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ve(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ve(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Sb(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ft({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mi]})}}return n})(),Sb=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ba?this.route:e===Fh?this.childContexts:this.parent.get(e,t)}},yg=new ce(""),wR=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=qd([r.queryParams,r.params,r.data]).pipe(sr(([o,s,a],l)=>(a=ne(ne(ne({},o),s),a),l===0?_e(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=AM(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})();function F3(n,e,t){let r=Ah(n,e._root,t?t._root:void 0);return new dg(r,e)}function Ah(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=L3(n,e,t);return new Pr(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ah(n,a)),s}}let r=V3(e.value),i=e.children.map(o=>Ah(n,o));return new Pr(r,i)}}function L3(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ah(n,r,i);return Ah(n,r)})}function V3(n){return new ba(new mn(n.url),new mn(n.params),new mn(n.queryParams),new mn(n.fragment),new mn(n.data),n.outlet,n.component,n)}var xh=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},HR="ngNavigationCancelingError";function pg(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=kc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zR(!1,Nr.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function zR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[HR]=!0,t.cancellationCode=e,t}function U3(n){return qR(n)&&kc(n.url)}function qR(n){return!!n&&n[HR]}var j3=(n,e,t,r)=>Oe(i=>(new Ab(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Ab=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),sb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ru(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ru(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ru(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ru(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Eb(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wb(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(sb(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),sb(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},mg=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ku=class{constructor(e,t){this.component=e,this.route=t}};function B3(n,e,t){let r=n._root,i=e?e._root:null;return wh(r,i,t,[r.value])}function $3(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ju(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!RS(n)?n:e.get(n):r}function wh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ru(e);return n.children.forEach(s=>{H3(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ch(a,t.getContext(s),i)),i}function H3(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=z3(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new mg(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?wh(n,e,a?a.children:null,r,i):wh(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ku(a.outlet.component,s))}else s&&Ch(e,a,i),i.canActivateChecks.push(new mg(r)),o.component?wh(n,null,a?a.children:null,r,i):wh(n,null,t,r,i);return i}function z3(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Nc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Nc(n.url,e.url)||!ao(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Db(n,e)||!ao(n.queryParams,e.queryParams);case"paramsChange":default:return!Db(n,e)}}function Ch(n,e,t){let r=Ru(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ch(s,e.children.getContext(o),t):Ch(s,null,t):Ch(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ku(e.outlet.component,i)):t.canDeactivateChecks.push(new ku(null,i)):t.canDeactivateChecks.push(new ku(null,i))}function Lh(n){return typeof n=="function"}function q3(n){return typeof n=="boolean"}function G3(n){return n&&Lh(n.canLoad)}function W3(n){return n&&Lh(n.canActivate)}function Y3(n){return n&&Lh(n.canActivateChild)}function K3(n){return n&&Lh(n.canDeactivate)}function Q3(n){return n&&Lh(n.canMatch)}function GR(n){return n instanceof Qo||n?.name==="EmptyError"}var tg=Symbol("INITIAL_VALUE");function Uu(){return sr(n=>qd(n.map(e=>e.pipe(Jo(1),S_(tg)))).pipe(Oe(e=>{for(let t of e)if(t!==!0){if(t===tg)return tg;if(t===!1||Z3(t))return t}return!0}),On(e=>e!==tg),Jo(1)))}function Z3(n){return kc(n)||n instanceof xh}function J3(n,e){return Jt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?_e($e(ne({},t),{guardsResult:!0})):X3(s,r,i,n).pipe(Jt(a=>a&&q3(a)?eH(r,o,n,e):_e(a)),Oe(a=>$e(ne({},t),{guardsResult:a})))})}function X3(n,e,t,r){return bt(n).pipe(Jt(i=>oH(i.component,i.route,t,e,r)),Ii(i=>i!==!0,!0))}function eH(n,e,t,r){return bt(e).pipe(Zo(i=>tu(nH(i.route.parent,r),tH(i.route,r),iH(n,i.path,t),rH(n,i.route,t))),Ii(i=>i!==!0,!0))}function tH(n,e){return n!==null&&e&&e(new bb(n)),_e(!0)}function nH(n,e){return n!==null&&e&&e(new _b(n)),_e(!0)}function rH(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return _e(!0);let i=r.map(o=>xp(()=>{let s=Oh(e)??t,a=ju(o,s),l=W3(a)?a.canActivate(e,n):Zr(s,()=>a(e,n));return Ia(l).pipe(Ii())}));return _e(i).pipe(Uu())}function iH(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>$3(s)).filter(s=>s!==null).map(s=>xp(()=>{let a=s.guards.map(l=>{let h=Oh(s.node)??t,y=ju(l,h),b=Y3(y)?y.canActivateChild(r,n):Zr(h,()=>y(r,n));return Ia(b).pipe(Ii())});return _e(a).pipe(Uu())}));return _e(o).pipe(Uu())}function oH(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return _e(!0);let s=o.map(a=>{let l=Oh(e)??i,h=ju(a,l),y=K3(h)?h.canDeactivate(n,e,t,r):Zr(l,()=>h(n,e,t,r));return Ia(y).pipe(Ii())});return _e(s).pipe(Uu())}function sH(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return _e(!0);let o=i.map(s=>{let a=ju(s,n),l=G3(a)?a.canLoad(e,t):Zr(n,()=>a(e,t));return Ia(l)});return _e(o).pipe(Uu(),WR(r))}function WR(n){return p_(Gt(e=>{if(typeof e!="boolean")throw pg(n,e)}),Oe(e=>e===!0))}function aH(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return _e(!0);let o=i.map(s=>{let a=ju(s,n),l=Q3(a)?a.canMatch(e,t):Zr(n,()=>a(e,t));return Ia(l)});return _e(o).pipe(Uu(),WR(r))}var Mh=class{constructor(e){this.segmentGroup=e||null}},Rh=class extends Error{constructor(e){super(),this.urlTree=e}};function Mu(n){return eu(new Mh(n))}function cH(n){return eu(new ve(4e3,!1))}function lH(n){return eu(zR(!1,Nr.GuardRejected))}var xb=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return _e(r);if(i.numberOfChildren>1||!i.children[je])return cH(`${e.redirectTo}`);i=i.children[je]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:h,routeConfig:y,url:b,outlet:C,params:T,data:P,title:z}=i,$=Zr(o,()=>a({params:T,data:P,queryParams:l,fragment:h,routeConfig:y,url:b,outlet:C,title:z}));if($ instanceof us)throw new Rh($);t=$}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Rh(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new us(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new ut(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ve(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Mb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uH(n,e,t,r,i){let o=YR(n,e,t);return o.matched?(r=N3(e,r),aH(r,e,t,i).pipe(Oe(s=>s===!0?o:ne({},Mb)))):_e(o)}function YR(n,e,t){if(e.path==="**")return dH(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?ne({},Mb):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||a3)(t,n,e);if(!i)return ne({},Mb);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?ne(ne({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function dH(n){return{matched:!0,parameters:n.length>0?SR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function bR(n,e,t,r){return t.length>0&&pH(n,t,r)?{segmentGroup:new ut(e,fH(r,new ut(t,n.children))),slicedSegments:[]}:t.length===0&&mH(n,t,r)?{segmentGroup:new ut(n.segments,hH(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ut(n.segments,n.children),slicedSegments:t}}function hH(n,e,t,r){let i={};for(let o of t)if(vg(n,e,o)&&!r[Ni(o)]){let s=new ut([],{});i[Ni(o)]=s}return ne(ne({},r),i)}function fH(n,e){let t={};t[je]=e;for(let r of n)if(r.path===""&&Ni(r)!==je){let i=new ut([],{});t[Ni(r)]=i}return t}function pH(n,e,t){return t.some(r=>vg(n,e,r)&&Ni(r)!==je)}function mH(n,e,t){return t.some(r=>vg(n,e,r))}function vg(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function gH(n,e,t){return e.length===0&&!n.children[t]}var Rb=class{};function yH(n,e,t,r,i,o,s="emptyOnly"){return new Pb(n,e,t,r,i,s,o).recognize()}var vH=31,Pb=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new xb(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ve(4002,`'${e.segmentGroup}'`)}recognize(){let e=bR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Oe(({children:t,rootSnapshot:r})=>{let i=new Pr(r,t),o=new fg("",i),s=D3(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Nu([],Object.freeze({}),Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),je,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,je,t).pipe(Oe(r=>({children:r,rootSnapshot:t})),ta(r=>{if(r instanceof Rh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Mh?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Oe(s=>s instanceof Pr?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return bt(o).pipe(Zo(s=>{let a=r.children[s],l=k3(t,s);return this.processSegmentGroup(e,l,a,s,i)}),D_((s,a)=>(s.push(...a),s)),na(null),T_(),Jt(s=>{if(s===null)return Mu(r);let a=KR(s);return _H(a),_e(a)}))}processSegment(e,t,r,i,o,s,a){return bt(t).pipe(Zo(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(ta(h=>{if(h instanceof Mh)return _e(null);throw h}))),Ii(l=>!!l),ta(l=>{if(GR(l))return gH(r,i,o)?_e(new Rb):Mu(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Ni(r)!==s&&(s===je||!vg(i,o,r))?Mu(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):Mu(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:h,consumedSegments:y,positionalParamSegments:b,remainingSegments:C}=YR(t,i,o);if(!l)return Mu(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vH&&(this.allowRedirects=!1));let T=new Nu(o,h,Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,ER(i),Ni(i),i.component??i._loadedComponent??null,i,IR(i)),P=hg(T,a,this.paramsInheritanceStrategy);T.params=Object.freeze(P.params),T.data=Object.freeze(P.data);let z=this.applyRedirects.applyRedirectCommands(y,i.redirectTo,b,T,e);return this.applyRedirects.lineralizeSegments(i,z).pipe(Jt($=>this.processSegment(e,r,t,$.concat(C),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=uH(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(sr(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(sr(({routes:h})=>{let y=r._loadedInjector??e,{parameters:b,consumedSegments:C,remainingSegments:T}=l,P=new Nu(C,b,Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,ER(r),Ni(r),r.component??r._loadedComponent??null,r,IR(r)),z=hg(P,s,this.paramsInheritanceStrategy);P.params=Object.freeze(z.params),P.data=Object.freeze(z.data);let{segmentGroup:$,slicedSegments:K}=bR(t,C,T,h);if(K.length===0&&$.hasChildren())return this.processChildren(y,h,$,P).pipe(Oe(J=>new Pr(P,J)));if(h.length===0&&K.length===0)return _e(new Pr(P,[]));let se=Ni(r)===o;return this.processSegment(y,h,$,K,se?je:o,!0,P).pipe(Oe(J=>new Pr(P,J instanceof Pr?[J]:[])))}))):Mu(t)))}getChildConfig(e,t,r){return t.children?_e({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?_e({routes:t._loadedRoutes,injector:t._loadedInjector}):sH(e,t,r,this.urlSerializer).pipe(Jt(i=>i?this.configLoader.loadChildren(e,t).pipe(Gt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):lH(t))):_e({routes:[],injector:e})}};function _H(n){n.sort((e,t)=>e.value.outlet===je?-1:t.value.outlet===je?1:e.value.outlet.localeCompare(t.value.outlet))}function wH(n){let e=n.value.routeConfig;return e&&e.path===""}function KR(n){let e=[],t=new Set;for(let r of n){if(!wH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=KR(r.children);e.push(new Pr(r.value,i))}return e.filter(r=>!t.has(r))}function ER(n){return n.data||{}}function IR(n){return n.resolve||{}}function bH(n,e,t,r,i,o){return Jt(s=>yH(n,e,t,r,s.extractedUrl,i,o).pipe(Oe(({state:a,tree:l})=>$e(ne({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function EH(n,e){return Jt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return _e(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let h of QR(l))s.add(h);let a=0;return bt(s).pipe(Zo(l=>o.has(l)?IH(l,r,n,e):(l.data=hg(l,l.parent,n).resolve,_e(void 0))),Gt(()=>a++),nu(1),Jt(l=>a===s.size?_e(t):Dr))})}function QR(n){let e=n.children.map(t=>QR(t)).flat();return[n,...e]}function IH(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!$R(i)&&(o[Nh]=i.title),CH(o,n,e,r).pipe(Oe(s=>(n._resolvedData=s,n.data=hg(n,n.parent,t).resolve,null)))}function CH(n,e,t,r){let i=lb(n);if(i.length===0)return _e({});let o={};return bt(i).pipe(Jt(s=>TH(n[s],e,t,r).pipe(Ii(),Gt(a=>{if(a instanceof xh)throw pg(new Fu,a);o[s]=a}))),nu(1),C_(o),ta(s=>GR(s)?Dr:eu(s)))}function TH(n,e,t,r){let i=Oh(e)??r,o=ju(n,i),s=o.resolve?o.resolve(e,t):Zr(i,()=>o(e,t));return Ia(s)}function ab(n){return sr(e=>{let t=n(e);return t?bt(t).pipe(Oe(()=>e)):_e(e)})}var ZR=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===je);return r}getResolvedTitleForRoute(t){return t.data[Nh]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:()=>Q(DH),providedIn:"root"})}}return n})(),DH=(()=>{class n extends ZR{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ue(pR))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vh=new ce("",{providedIn:"root",factory:()=>({})}),SH=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=vt({type:n,selectors:[["ng-component"]],standalone:!0,features:[Et],decls:1,vars:0,template:function(r,i){r&1&&Ze(0,"router-outlet")},dependencies:[Ob],encapsulation:2})}}return n})();function Fb(n){let e=n.children&&n.children.map(Fb),t=e?$e(ne({},n),{children:e}):ne({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==je&&(t.component=SH),t}var Ph=new ce(""),Lb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Q(zm)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return _e(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ia(t.loadComponent()).pipe(Oe(JR),Gt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),pc(()=>{this.componentLoaders.delete(t)})),i=new Ql(r,()=>new pn).pipe(Kl());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return _e({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=AH(r,this.compiler,t,this.onLoadEndListener).pipe(pc(()=>{this.childrenLoaders.delete(r)})),s=new Ql(o,()=>new pn).pipe(Kl());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function AH(n,e,t,r){return Ia(n.loadChildren()).pipe(Oe(JR),Jt(i=>i instanceof eh||Array.isArray(i)?_e(i):bt(e.compileModuleAsync(i))),Oe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ph,[],{optional:!0,self:!0}).flat()),{routes:s.map(Fb),injector:o}}))}function xH(n){return n&&typeof n=="object"&&"default"in n}function JR(n){return xH(n)?n.default:n}var Vb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:()=>Q(MH),providedIn:"root"})}}return n})(),MH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XR=new ce(""),e1=new ce("");function RH(n,e,t){let r=n.get(e1),i=n.get(jn);return n.get(We).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(h=>setTimeout(h));let o,s=new Promise(h=>{o=h}),a=i.startViewTransition(()=>(o(),PH(n))),{onViewTransitionCreated:l}=r;return l&&Zr(n,()=>l({transition:a,from:e,to:t})),s})}function PH(n){return new Promise(e=>{Mw({read:()=>setTimeout(e)},{injector:n})})}var NH=new ce(""),Ub=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pn,this.transitionAbortSubject=new pn,this.configLoader=Q(Lb),this.environmentInjector=Q(Xn),this.urlSerializer=Q(kh),this.rootContexts=Q(Fh),this.location=Q(Su),this.inputBindingEnabled=Q(yg,{optional:!0})!==null,this.titleStrategy=Q(ZR),this.options=Q(Vh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Q(Vb),this.createViewTransition=Q(XR,{optional:!0}),this.navigationErrorHandler=Q(NH,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>_e(void 0),this.rootComponentType=null;let t=i=>this.events.next(new yb(i)),r=i=>this.events.next(new vb(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next($e(ne(ne({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new mn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ih,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(On(o=>o.id!==0),Oe(o=>$e(ne({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),sr(o=>{let s=!1,a=!1;return _e(o).pipe(sr(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Nr.SupersededByNewNavigation),Dr;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?$e(ne({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!h&&y!=="reload"){let b="";return this.events.next(new wa(l.id,this.urlSerializer.serialize(l.rawUrl),b,ag.IgnoredSameUrlNavigation)),l.resolve(!1),Dr}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return _e(l).pipe(sr(b=>{let C=this.transitions?.getValue();return this.events.next(new Lu(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),C!==this.transitions?.getValue()?Dr:Promise.resolve(b)}),bH(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Gt(b=>{o.targetSnapshot=b.targetSnapshot,o.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation=$e(ne({},this.currentNavigation),{finalUrl:b.urlAfterRedirects});let C=new cg(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(C)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:b,extractedUrl:C,source:T,restoredState:P,extras:z}=l,$=new Lu(b,this.urlSerializer.serialize(C),T,P);this.events.next($);let K=jR(this.rootComponentType).snapshot;return this.currentTransition=o=$e(ne({},l),{targetSnapshot:K,urlAfterRedirects:C,extras:$e(ne({},z),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,_e(o)}else{let b="";return this.events.next(new wa(l.id,this.urlSerializer.serialize(l.extractedUrl),b,ag.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Dr}}),Gt(l=>{let h=new fb(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Oe(l=>(this.currentTransition=o=$e(ne({},l),{guards:B3(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),J3(this.environmentInjector,l=>this.events.next(l)),Gt(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw pg(this.urlSerializer,l.guardsResult);let h=new pb(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),On(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Nr.GuardRejected),!1)),ab(l=>{if(l.guards.canActivateChecks.length)return _e(l).pipe(Gt(h=>{let y=new mb(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}),sr(h=>{let y=!1;return _e(h).pipe(EH(this.paramsInheritanceStrategy,this.environmentInjector),Gt({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(h,"",Nr.NoDataFromResolver)}}))}),Gt(h=>{let y=new gb(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}))}),ab(l=>{let h=y=>{let b=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(y.routeConfig).pipe(Gt(C=>{y.component=C}),Oe(()=>{})));for(let C of y.children)b.push(...h(C));return b};return qd(h(l.targetSnapshot.root)).pipe(na(null),Jo(1))}),ab(()=>this.afterPreactivation()),sr(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,y=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return y?bt(y).pipe(Oe(()=>o)):_e(o)}),Oe(l=>{let h=F3(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=$e(ne({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Gt(()=>{this.events.next(new Sh)}),j3(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Jo(1),Gt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ki(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),A_(this.transitionAbortSubject.pipe(Gt(l=>{throw l}))),pc(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Nr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ta(l=>{if(a=!0,qR(l))this.events.next(new ls(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),U3(l)?this.events.next(new Vu(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let h=new Dh(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let y=Zr(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(y instanceof xh){let{message:b,cancellationCode:C}=pg(this.urlSerializer,y);this.events.next(new ls(o.id,this.urlSerializer.serialize(o.extractedUrl),b,C)),this.events.next(new Vu(y.redirectTo,y.navigationBehaviorOptions))}else{this.events.next(h);let b=t.errorHandler(l);o.resolve(!!b)}}catch(y){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(y)}}return Dr}))}))}cancelNavigationTransition(t,r,i){let o=new ls(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kH(n){return n!==Ih}var OH=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:()=>Q(FH),providedIn:"root"})}}return n})(),Nb=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},FH=(()=>{class n extends Nb{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})()}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),t1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:()=>Q(LH),providedIn:"root"})}}return n})(),LH=(()=>{class n extends t1{constructor(){super(...arguments),this.location=Q(Su),this.urlSerializer=Q(kh),this.options=Q(Vh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Q(Vb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new us,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Lu)this.stateMemento=this.createStateMemento();else if(t instanceof wa)this.rawUrlTree=r.initialUrl;else if(t instanceof cg){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Sh?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof ls&&(t.code===Nr.GuardRejected||t.code===Nr.NoDataFromResolver)?this.restoreHistory(r):t instanceof Dh?this.restoreHistory(r,!0):t instanceof ki&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof us?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=ne(ne({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=ne(ne({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})()}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(bh||{});function n1(n,e){n.events.pipe(On(t=>t instanceof ki||t instanceof ls||t instanceof Dh||t instanceof wa),Oe(t=>t instanceof ki||t instanceof wa?bh.COMPLETE:(t instanceof ls?t.code===Nr.Redirect||t.code===Nr.SupersededByNewNavigation:!1)?bh.REDIRECTING:bh.FAILED),On(t=>t!==bh.REDIRECTING),Jo(1)).subscribe(()=>{e()})}function VH(n){throw n}var UH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},At=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Q(Bm),this.stateManager=Q(t1),this.options=Q(Vh,{optional:!0})||{},this.pendingTasks=Q(ha),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Q(Ub),this.urlSerializer=Q(kh),this.location=Q(Su),this.urlHandlingStrategy=Q(Vb),this._events=new pn,this.errorHandler=this.options.errorHandler||VH,this.navigated=!1,this.routeReuseStrategy=Q(OH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Q(Ph,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Q(yg,{optional:!0}),this.eventsSubscription=new $t,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ls&&r.code!==Nr.Redirect&&r.code!==Nr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ki)this.navigated=!0;else if(r instanceof Vu){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=ne({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||kH(i.source)},s);this.scheduleNavigation(a,Ih,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}$H(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ih,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=ne({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Fb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,h=l?this.currentUrlTree.fragment:s,y=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":y=ne(ne({},this.currentUrlTree.queryParams),o);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=o||null}y!==null&&(y=this.removeEmptyProps(y));let b;try{let C=i?i.snapshot:this.routerState.snapshot.root;b=FR(C)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),b=this.currentUrlTree.root}return LR(b,t,y,h??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=kc(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ih,null,r)}navigate(t,r={skipLocationChange:!1}){return BH(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=ne({},UH):r===!1?i=ne({},jH):i=r,kc(t))return gR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return gR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,h;s?(a=s.resolve,l=s.reject,h=s.promise):h=new Promise((b,C)=>{a=b,l=C});let y=this.pendingTasks.add();return n1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(b=>Promise.reject(b))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function BH(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ve(4008,!1)}function $H(n){return!(n instanceof Sh)&&!(n instanceof Vu)}var Ea=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new pn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(h=>{h instanceof ki&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(kc(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:sx(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:kc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(Z(At),Z(ba),ow("tabindex"),Z(Pi),Z(An),Z(cs))}}static{this.\u0275dir=ft({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ge("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ac("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ga],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ga],replaceUrl:[2,"replaceUrl","replaceUrl",ga],routerLink:"routerLink"},standalone:!0,features:[Aw,Mi]})}}return n})(),r1=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ht,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof ki&&this.update()})}ngAfterContentInit(){_e(this.links.changes,_e(null)).pipe(ea()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=bt(t).pipe(ea()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=HH(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(At),Z(An),Z(Pi),Z(ma),Z(Ea,8))}}static{this.\u0275dir=ft({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&uM(o,Ea,5),r&2){let s;dM(s=hM())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Mi]})}}return n})();function HH(n){return!!n.paths}var gg=class{};var zH=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(On(t=>t instanceof ki),Zo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Vm(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return bt(i).pipe(ea())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=_e(null);let o=i.pipe(Jt(s=>s===null?_e(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return bt([o,s]).pipe(ea())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(ue(At),ue(zm),ue(Xn),ue(gg),ue(Lb))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),i1=new ce(""),qH=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Lu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ki?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof wa&&t.code===ag.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof lg&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new lg(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){bx()}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})();function o1(n,...e){return Fn([{provide:Ph,multi:!0,useValue:n},[],{provide:ba,useFactory:s1,deps:[At]},{provide:Mc,multi:!0,useFactory:a1},e.map(t=>t.\u0275providers)])}function s1(n){return n.routerState.root}function Uh(n,e){return{\u0275kind:n,\u0275providers:e}}function a1(){let n=Q(Xt);return e=>{let t=n.get(oo);if(e!==t.components[0])return;let r=n.get(At),i=n.get(c1);n.get(jb)===1&&r.initialNavigation(),n.get(l1,null,He.Optional)?.setUpPreloading(),n.get(i1,null,He.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var c1=new ce("",{factory:()=>new pn}),jb=new ce("",{providedIn:"root",factory:()=>1});function GH(){return Uh(2,[{provide:jb,useValue:0},{provide:$m,multi:!0,deps:[Xt],useFactory:e=>{let t=e.get(FM,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(At),o=e.get(c1);n1(i,()=>{r(!0)}),e.get(Ub).afterPreactivation=()=>(r(!0),o.closed?_e(void 0):o),i.initialNavigation()}))}}])}function WH(){return Uh(3,[{provide:$m,multi:!0,useFactory:()=>{let e=Q(At);return()=>{e.setUpLocationChangeListener()}}},{provide:jb,useValue:2}])}var l1=new ce("");function YH(n){return Uh(0,[{provide:l1,useExisting:zH},{provide:gg,useExisting:n}])}function KH(){return Uh(8,[wR,{provide:yg,useExisting:wR}])}function QH(n){let e=[{provide:XR,useValue:RH},{provide:e1,useValue:ne({skipNextTransition:!!n?.skipInitialTransition},n)}];return Uh(9,e)}var CR=new ce("ROUTER_FORROOT_GUARD"),ZH=[Su,{provide:kh,useClass:Fu},At,Fh,{provide:ba,useFactory:s1,deps:[At]},Lb,[]],Ca=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[ZH,[],{provide:Ph,multi:!0,useValue:t},{provide:CR,useFactory:t5,deps:[[At,new Wt,new q0]]},{provide:Vh,useValue:r||{}},r?.useHash?XH():e5(),JH(),r?.preloadingStrategy?YH(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?n5(r):[],r?.bindToComponentInputs?KH().\u0275providers:[],r?.enableViewTransitions?QH().\u0275providers:[],r5()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ph,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(ue(CR,8))}}static{this.\u0275mod=Mr({type:n})}static{this.\u0275inj=xr({})}}return n})();function JH(){return{provide:i1,useFactory:()=>{let n=Q(UM),e=Q(We),t=Q(Vh),r=Q(Ub),i=Q(kh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new qH(i,r,n,e,t)}}}function XH(){return{provide:cs,useClass:VM}}function e5(){return{provide:cs,useClass:$w}}function t5(n){return"guarded"}function n5(n){return[n.initialNavigation==="disabled"?WH().\u0275providers:[],n.initialNavigation==="enabledBlocking"?GH().\u0275providers:[]]}var TR=new ce("");function r5(){return[{provide:TR,useFactory:a1},{provide:Mc,multi:!0,useExisting:TR}]}var jh=class n{constructor(e){this.router=e}titulo="BIENVENIDO A LA CLINICA ONLINE";navegarLogin(){this.router.navigate(["/ingresar"])}navegarRegistro(){this.router.navigate(["/registro"])}static \u0275fac=function(t){return new(t||n)(Z(At))};static \u0275cmp=vt({type:n,selectors:[["app-home"]],standalone:!0,features:[Et],decls:11,vars:1,consts:[[1,"home-container"],[1,"header"],[1,"buttons-container"],[1,"btn","login-btn",3,"click"],[1,"btn","register-btn",3,"click"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"header",1)(2,"h1"),O(3),S(),M(4,"p"),O(5,"Bienvenidos a clinica UTN! Elija que desea hacer"),S()(),M(6,"div",2)(7,"button",3),ge("click",function(){return r.navegarLogin()}),O(8,"Iniciar Sesi\xF3n"),S(),M(9,"button",4),ge("click",function(){return r.navegarRegistro()}),O(10,"Registrarse"),S()()()),t&2&&(U(3),_t(r.titulo))},dependencies:[Lt,Ca],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:url(https://img.freepik.com/foto-gratis/blur-hospital_1203-7972.jpg) no-repeat center center;background-size:cover;overflow:hidden;font-family:Roboto,sans-serif}.home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:40px;text-align:center;background:#fffc;border-radius:15px;box-shadow:0 4px 15px #0003}.header[_ngcontent-%COMP%]{margin-bottom:30px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;background:linear-gradient(135deg,#34568b,#ff6f61);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#34495e}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:20px}.btn[_ngcontent-%COMP%]{padding:12px 24px;font-size:1rem;font-weight:700;border:none;border-radius:8px;cursor:pointer;transition:transform .2s,background-color .3s}.login-btn[_ngcontent-%COMP%]{background-color:#34568b;color:#fff}.login-btn[_ngcontent-%COMP%]:hover{background-color:#2c3e50;transform:translateY(-3px)}.register-btn[_ngcontent-%COMP%]{background-color:#ff6f61;color:#fff}.register-btn[_ngcontent-%COMP%]:hover{background-color:#e74c3c;transform:translateY(-3px)}"]})};var _g=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=vt({type:n,selectors:[["app-page-not-found"]],standalone:!0,features:[Et],decls:9,vars:0,consts:[[1,"page-not-found-container"],["routerLink","/home",1,"back-home-button"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"h1"),O(2,"404"),S(),M(3,"h2"),O(4,"P\xE1gina no encontrada"),S(),M(5,"p"),O(6,"Lo sentimos, la p\xE1gina que buscas no existe."),S(),M(7,"button",1),O(8,"Volver al inicio "),S()())},styles:[".page-not-found-container[_ngcontent-%COMP%]{display:flex;font-family:system-ui;flex-direction:column;align-items:center;justify-content:center;height:100vh;text-align:center;color:#333;background-color:#f8f9fa}h1[_ngcontent-%COMP%]{font-size:6rem;margin:0;color:#ff4757}h2[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}p[_ngcontent-%COMP%]{font-size:1.2rem;margin:10px 0 20px}.back-home-button[_ngcontent-%COMP%]{font-size:1rem;font:system-ui;color:#fff;background-color:#007bff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;transition:background-color .3s,transform .2s;outline:none}.back-home-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}.back-home-button[_ngcontent-%COMP%]:active{background-color:#004494;transform:translateY(0)}"]})};var _1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Z(Pi),Z(An))}}static{this.\u0275dir=ft({type:n})}}return n})(),xg=(()=>{class n extends _1{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})()}static{this.\u0275dir=ft({type:n,features:[Un]})}}return n})(),zu=new ce("");var i5={provide:zu,useExisting:lr(()=>co),multi:!0};function o5(){let n=as()?as().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var s5=new ce(""),co=(()=>{class n extends _1{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!o5())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(Pi),Z(An),Z(s5,8))}}static{this.\u0275dir=ft({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ge("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Jr([i5]),Un]})}}return n})();function Ta(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function w1(n){return n!=null&&typeof n.length=="number"}var qu=new ce(""),Gh=new ce(""),a5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,we=class{static min(e){return c5(e)}static max(e){return l5(e)}static required(e){return b1(e)}static requiredTrue(e){return u5(e)}static email(e){return d5(e)}static minLength(e){return h5(e)}static maxLength(e){return f5(e)}static pattern(e){return p5(e)}static nullValidator(e){return bg(e)}static compose(e){return S1(e)}static composeAsync(e){return x1(e)}};function c5(n){return e=>{if(Ta(e.value)||Ta(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function l5(n){return e=>{if(Ta(e.value)||Ta(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function b1(n){return Ta(n.value)?{required:!0}:null}function u5(n){return n.value===!0?null:{required:!0}}function d5(n){return Ta(n.value)||a5.test(n.value)?null:{email:!0}}function h5(n){return e=>Ta(e.value)||!w1(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function f5(n){return e=>w1(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function p5(n){if(!n)return bg;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ta(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function bg(n){return null}function E1(n){return n!=null}function I1(n){return xc(n)?bt(n):n}function C1(n){let e={};return n.forEach(t=>{e=t!=null?ne(ne({},e),t):e}),Object.keys(e).length===0?null:e}function T1(n,e){return e.map(t=>t(n))}function m5(n){return!n.validate}function D1(n){return n.map(e=>m5(e)?e:t=>e.validate(t))}function S1(n){if(!n)return null;let e=n.filter(E1);return e.length==0?null:function(t){return C1(T1(t,e))}}function A1(n){return n!=null?S1(D1(n)):null}function x1(n){if(!n)return null;let e=n.filter(E1);return e.length==0?null:function(t){let r=T1(t,e).map(I1);return I_(r).pipe(Oe(C1))}}function M1(n){return n!=null?x1(D1(n)):null}function u1(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function R1(n){return n._rawValidators}function P1(n){return n._rawAsyncValidators}function Bb(n){return n?Array.isArray(n)?n:[n]:[]}function Eg(n,e){return Array.isArray(n)?n.includes(e):n===e}function d1(n,e){let t=Bb(e);return Bb(n).forEach(i=>{Eg(t,i)||t.push(i)}),t}function h1(n,e){return Bb(e).filter(t=>!Eg(n,t))}var Ig=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=A1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=M1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},kr=class extends Ig{get formDirective(){return null}get path(){return null}},Fc=class extends Ig{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Cg=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},g5={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ere=$e(ne({},g5),{"[class.ng-submitted]":"isSubmitted"}),lo=(()=>{class n extends Cg{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(Fc,2))}}static{this.\u0275dir=ft({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&en("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Un]})}}return n})(),Sa=(()=>{class n extends Cg{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(kr,10))}}static{this.\u0275dir=ft({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&en("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Un]})}}return n})();var Bh="VALID",wg="INVALID",Bu="PENDING",$h="DISABLED",Da=class{},Tg=class extends Da{constructor(e,t){super(),this.value=e,this.source=t}},Hh=class extends Da{constructor(e,t){super(),this.pristine=e,this.source=t}},zh=class extends Da{constructor(e,t){super(),this.touched=e,this.source=t}},$u=class extends Da{constructor(e,t){super(),this.status=e,this.source=t}},$b=class extends Da{constructor(e){super(),this.source=e}},Hb=class extends Da{constructor(e){super(),this.source=e}};function Wb(n){return(Mg(n)?n.validators:n)||null}function y5(n){return Array.isArray(n)?A1(n):n||null}function Yb(n,e){return(Mg(e)?e.asyncValidators:n)||null}function v5(n){return Array.isArray(n)?M1(n):n||null}function Mg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function N1(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ve(1e3,"");if(!r[t])throw new ve(1001,"")}function k1(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ve(1002,"")})}var Hu=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=dh(()=>this.statusReactive()),this.statusReactive=lh(void 0),this._pristine=dh(()=>this.pristineReactive()),this.pristineReactive=lh(!0),this._touched=dh(()=>this.touchedReactive()),this.touchedReactive=lh(!1),this._events=new pn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return os(this.statusReactive)}set status(e){os(()=>this.statusReactive.set(e))}get valid(){return this.status===Bh}get invalid(){return this.status===wg}get pending(){return this.status==Bu}get disabled(){return this.status===$h}get enabled(){return this.status!==$h}get pristine(){return os(this.pristineReactive)}set pristine(e){os(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return os(this.touchedReactive)}set touched(e){os(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(d1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(d1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(h1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(h1(e,this._rawAsyncValidators))}hasValidator(e){return Eg(this._rawValidators,e)}hasAsyncValidator(e){return Eg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($e(ne({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new zh(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new zh(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($e(ne({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Hh(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Hh(!0,r))}markAsPending(e={}){this.status=Bu;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $u(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($e(ne({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=$h,this.errors=null,this._forEachChild(i=>{i.disable($e(ne({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tg(this.value,r)),this._events.next(new $u(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($e(ne({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Bh,this._forEachChild(r=>{r.enable($e(ne({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($e(ne({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bh||this.status===Bu)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tg(this.value,t)),this._events.next(new $u(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($e(ne({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$h:Bh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Bu,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=I1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new $u(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ht,this.statusChanges=new ht}_calculateStatus(){return this._allControlsDisabled()?$h:this.errors?wg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bu)?Bu:this._anyControlsHaveStatus(wg)?wg:Bh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Hh(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new zh(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=y5(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=v5(this._rawAsyncValidators)}},Dg=class extends Hu{constructor(e,t,r){super(Wb(t),Yb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){k1(this,!0,e),Object.keys(e).forEach(r=>{N1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var zb=class extends Dg{};var Rg=new ce("CallSetDisabledState",{providedIn:"root",factory:()=>Pg}),Pg="always";function Ng(n,e){return[...e.path,n]}function qb(n,e,t=Pg){Kb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),w5(n,e),E5(n,e),b5(n,e),_5(n,e)}function f1(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ag(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Sg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _5(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Kb(n,e){let t=R1(n);e.validator!==null?n.setValidators(u1(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=P1(n);e.asyncValidator!==null?n.setAsyncValidators(u1(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Sg(e._rawValidators,i),Sg(e._rawAsyncValidators,i)}function Ag(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=R1(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=P1(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Sg(e._rawValidators,r),Sg(e._rawAsyncValidators,r),t}function w5(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&O1(n,e)})}function b5(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&O1(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function O1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function E5(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function I5(n,e){n==null,Kb(n,e)}function C5(n,e){return Ag(n,e)}function F1(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function T5(n){return Object.getPrototypeOf(n.constructor)===xg}function D5(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function L1(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===co?t=o:T5(o)?r=o:i=o}),i||r||t||null}function S5(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function p1(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function m1(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var qh=class extends Hu{constructor(e=null,t,r){super(Wb(t),Yb(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(m1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){p1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){p1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){m1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var A5=n=>n instanceof qh,x5=(()=>{class n extends kr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ng(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})()}static{this.\u0275dir=ft({type:n,features:[Un]})}}return n})();var M5={provide:Fc,useExisting:lr(()=>Qb)},g1=Promise.resolve(),Qb=(()=>{class n extends Fc{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new qh,this._registered=!1,this.name="",this.update=new ht,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=L1(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),F1(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){qb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){g1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ga(r);g1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Ng(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(Z(kr,9),Z(qu,10),Z(Gh,10),Z(zu,10),Z(ma,8),Z(Rg,8))}}static{this.\u0275dir=ft({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jr([M5]),Un,Mi]})}}return n})(),Aa=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ft({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),R5={provide:zu,useExisting:lr(()=>Wh),multi:!0},Wh=(()=>{class n extends xg{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})()}static{this.\u0275dir=ft({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ge("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Jr([R5]),Un]})}}return n})();var V1=new ce("");var P5={provide:kr,useExisting:lr(()=>uo)},uo=(()=>{class n extends kr{get submitted(){return os(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=dh(()=>this._submittedReactive()),this._submittedReactive=lh(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ht,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ag(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return qb(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){f1(t.control||null,t,!1),S5(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),D5(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new $b(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Hb(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(f1(r||null,t),A5(i)&&(qb(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);I5(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&C5(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kb(this.form,this),this._oldForm&&Ag(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(Z(qu,10),Z(Gh,10),Z(Rg,8))}}static{this.\u0275dir=ft({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ge("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jr([P5]),Un,Mi]})}}return n})(),N5={provide:kr,useExisting:lr(()=>kg)},kg=(()=>{class n extends x5{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){U1(this._parent)}static{this.\u0275fac=function(r){return new(r||n)(Z(kr,13),Z(qu,10),Z(Gh,10))}}static{this.\u0275dir=ft({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Jr([N5]),Un]})}}return n})(),k5={provide:kr,useExisting:lr(()=>Gu)},Gu=(()=>{class n extends kr{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ng(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){U1(this._parent)}static{this.\u0275fac=function(r){return new(r||n)(Z(kr,13),Z(qu,10),Z(Gh,10))}}static{this.\u0275dir=ft({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Jr([k5]),Un]})}}return n})();function U1(n){return!(n instanceof kg)&&!(n instanceof uo)&&!(n instanceof Gu)}var O5={provide:Fc,useExisting:lr(()=>ds)},ds=(()=>{class n extends Fc{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ht,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=L1(this,o)}ngOnChanges(t){this._added||this._setUpControl(),F1(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ng(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(Z(kr,13),Z(qu,10),Z(Gh,10),Z(zu,10),Z(V1,8))}}static{this.\u0275dir=ft({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Jr([O5]),Un,Mi]})}}return n})(),F5={provide:zu,useExisting:lr(()=>xa),multi:!0};function j1(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function L5(n){return n.split(":")[0]}var xa=(()=>{class n extends xg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=j1(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=L5(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})()}static{this.\u0275dir=ft({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ge("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Jr([F5]),Un]})}}return n})(),Ma=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(j1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Z(An),Z(Pi),Z(xa,9))}}static{this.\u0275dir=ft({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),V5={provide:zu,useExisting:lr(()=>B1),multi:!0};function y1(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function U5(n){return n.split(":")[0]}var B1=(()=>{class n extends xg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],h=this._getOptionValue(l.value);i.push(h)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let h=this._getOptionValue(l.value);i.push(h)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=U5(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})()}static{this.\u0275dir=ft({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ge("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Jr([V5]),Un]})}}return n})(),Ra=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(y1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(y1(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Z(An),Z(Pi),Z(B1,9))}}static{this.\u0275dir=ft({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var j5=(()=>{class n{constructor(){this._validator=bg}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ft({type:n,features:[Mi]})}}return n})();var B5={provide:qu,useExisting:lr(()=>hs),multi:!0};var hs=(()=>{class n extends j5{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ga,this.createValidator=t=>b1}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})()}static{this.\u0275dir=ft({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ac("required",i._enabled?"":null)},inputs:{required:"required"},features:[Jr([B5]),Un]})}}return n})();var $1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mr({type:n})}static{this.\u0275inj=xr({})}}return n})(),Gb=class extends Hu{constructor(e,t,r){super(Wb(t),Yb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){k1(this,!1,e),e.forEach((r,i)=>{N1(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function v1(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var ho=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return v1(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Dg(i,o)}record(t,r=null){let i=this._reduceControls(t);return new zb(i,r)}control(t,r,i){let o={};return this.useNonNullable?(v1(r)?o=r:(o.validators=r,o.asyncValidators=i),new qh(t,$e(ne({},o),{nonNullable:!0}))):new qh(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Gb(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof qh)return t;if(t instanceof Hu)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fo=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Rg,useValue:t.callSetDisabledState??Pg}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mr({type:n})}static{this.\u0275inj=xr({imports:[$1]})}}return n})(),$n=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:V1,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Rg,useValue:t.callSetDisabledState??Pg}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mr({type:n})}static{this.\u0275inj=xr({imports:[$1]})}}return n})();var z1=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},$5=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},q1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,h=l?n[i+2]:0,y=o>>2,b=(o&3)<<4|a>>4,C=(a&15)<<2|h>>6,T=h&63;l||(T=64,s||(C=64)),r.push(t[y],t[b],t[C],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(z1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$5(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let h=i<n.length?t[n.charAt(i)]:64;++i;let b=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||h==null||b==null)throw new Jb;let C=o<<2|a>>4;if(r.push(C),h!==64){let T=a<<4&240|h>>2;if(r.push(T),b!==64){let P=h<<6&192|b;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Jb=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},H5=function(n){let e=z1(n);return q1.encodeByteArray(e,!0)},Yh=function(n){return H5(n).replace(/\./g,"")},eE=function(n){try{return q1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function z5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var q5=()=>z5().__FIREBASE_DEFAULTS__,G5=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},W5=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&eE(n[1]);return e&&JSON.parse(e)},Fg=()=>{try{return q5()||G5()||W5()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tE=n=>{var e,t;return(t=(e=Fg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Lg=n=>{let e=tE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},nE=()=>{var n;return(n=Fg())===null||n===void 0?void 0:n.config},rE=n=>{var e;return(e=Fg())===null||e===void 0?void 0:e[`_${n}`]};var Og=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Vg(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yh(JSON.stringify(t)),Yh(JSON.stringify(s)),""].join(".")}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function Y5(){var n;let e=(n=Fg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y1(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function K1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q1(){let n=bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Z1(){return!Y5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iE(){try{return typeof indexedDB=="object"}catch{return!1}}function J1(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var K5="FirebaseError",er=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=K5,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fs.prototype.create)}},fs=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Q5(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new er(i,a,r)}};function Q5(n,e){return n.replace(Z5,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Z5=/\{\$([^}]+)}/g;function X1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Lc(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(H1(o)&&H1(s)){if(!Lc(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function H1(n){return n!==null&&typeof n=="object"}function Kh(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yu(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ku(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function eP(n,e){let t=new Xb(n,e);return t.subscribe.bind(t)}var Xb=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");J5(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Zb),i.error===void 0&&(i.error=Zb),i.complete===void 0&&(i.complete=Zb);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function J5(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Zb(){}var Tre=4*60*60*1e3;function Tt(n){return n&&n._delegate?n._delegate:n}var ur=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Vc="[DEFAULT]";var oE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Og;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ez(e))try{this.getOrInitializeService({instanceIdentifier:Vc})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Vc){return this.instances.has(e)}getOptions(e=Vc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X5(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vc){return this.component?this.component.multipleInstances?e:Vc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function X5(n){return n===Vc?void 0:n}function ez(n){return n.instantiationMode==="EAGER"}var Ug=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new oE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var tz=[],Ye=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ye||{}),nz={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},rz=Ye.INFO,iz={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},oz=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=iz[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Pa=class{constructor(e){this.name=e,this._logLevel=rz,this._logHandler=oz,this._userLogHandler=null,tz.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}};var sz=(n,e)=>e.some(t=>n instanceof t),tP,nP;function az(){return tP||(tP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cz(){return nP||(nP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var rP=new WeakMap,aE=new WeakMap,iP=new WeakMap,sE=new WeakMap,lE=new WeakMap;function lz(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(po(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&rP.set(t,n)}).catch(()=>{}),lE.set(e,n),e}function uz(n){if(aE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});aE.set(n,e)}var cE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return aE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iP.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return po(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function oP(n){cE=n(cE)}function dz(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(jg(this),e,...t);return iP.set(r,e.sort?e.sort():[e]),po(r)}:cz().includes(n)?function(...e){return n.apply(jg(this),e),po(rP.get(this))}:function(...e){return po(n.apply(jg(this),e))}}function hz(n){return typeof n=="function"?dz(n):(n instanceof IDBTransaction&&uz(n),sz(n,az())?new Proxy(n,cE):n)}function po(n){if(n instanceof IDBRequest)return lz(n);if(sE.has(n))return sE.get(n);let e=hz(n);return e!==n&&(sE.set(n,e),lE.set(e,n)),e}var jg=n=>lE.get(n);function aP(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=po(s);return r&&s.addEventListener("upgradeneeded",l=>{r(po(s.result),l.oldVersion,l.newVersion,po(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}var fz=["get","getKey","getAll","getAllKeys","count"],pz=["put","add","delete","clear"],uE=new Map;function sP(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uE.get(e))return uE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=pz.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fz.includes(t)))return;let o=function(s,...a){return D(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),h=l.store;return r&&(h=h.index(a.shift())),(yield Promise.all([h[t](...a),i&&l.done]))[0]})};return uE.set(e,o),o}oP(n=>$e(ne({},n),{get:(e,t,r)=>sP(e,t)||n.get(e,t,r),has:(e,t)=>!!sP(e,t)||n.has(e,t)}));var hE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mz(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function mz(n){let e=n.getComponent();return e?.type==="VERSION"}var fE="@firebase/app",cP="0.10.13";var ps=new Pa("@firebase/app"),gz="@firebase/app-compat",yz="@firebase/analytics-compat",vz="@firebase/analytics",_z="@firebase/app-check-compat",wz="@firebase/app-check",bz="@firebase/auth",Ez="@firebase/auth-compat",Iz="@firebase/database",Cz="@firebase/data-connect",Tz="@firebase/database-compat",Dz="@firebase/functions",Sz="@firebase/functions-compat",Az="@firebase/installations",xz="@firebase/installations-compat",Mz="@firebase/messaging",Rz="@firebase/messaging-compat",Pz="@firebase/performance",Nz="@firebase/performance-compat",kz="@firebase/remote-config",Oz="@firebase/remote-config-compat",Fz="@firebase/storage",Lz="@firebase/storage-compat",Vz="@firebase/firestore",Uz="@firebase/vertexai-preview",jz="@firebase/firestore-compat",Bz="firebase",$z="10.14.1";var pE="[DEFAULT]",Hz={[fE]:"fire-core",[gz]:"fire-core-compat",[vz]:"fire-analytics",[yz]:"fire-analytics-compat",[wz]:"fire-app-check",[_z]:"fire-app-check-compat",[bz]:"fire-auth",[Ez]:"fire-auth-compat",[Iz]:"fire-rtdb",[Cz]:"fire-data-connect",[Tz]:"fire-rtdb-compat",[Dz]:"fire-fn",[Sz]:"fire-fn-compat",[Az]:"fire-iid",[xz]:"fire-iid-compat",[Mz]:"fire-fcm",[Rz]:"fire-fcm-compat",[Pz]:"fire-perf",[Nz]:"fire-perf-compat",[kz]:"fire-rc",[Oz]:"fire-rc-compat",[Fz]:"fire-gcs",[Lz]:"fire-gcs-compat",[Vz]:"fire-fst",[jz]:"fire-fst-compat",[Uz]:"fire-vertex","fire-js":"fire-js",[Bz]:"fire-js-all"};var Qh=new Map,zz=new Map,mE=new Map;function lP(n,e){try{n.container.addComponent(e)}catch(t){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mo(n){let e=n.name;if(mE.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;mE.set(e,n);for(let t of Qh.values())lP(t,n);for(let t of zz.values())lP(t,n);return!0}function Uc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fi(n){return n.settings!==void 0}var qz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new fs("app","Firebase",qz);var gE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}};var go=$z;function _E(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:pE,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Na.create("bad-app-name",{appName:String(i)});if(t||(t=nE()),!t)throw Na.create("no-options");let o=Qh.get(i);if(o){if(Lc(t,o.options)&&Lc(r,o.config))return o;throw Na.create("duplicate-app",{appName:i})}let s=new Ug(i);for(let l of mE.values())s.addComponent(l);let a=new gE(t,r,s);return Qh.set(i,a),a}function ka(n=pE){let e=Qh.get(n);if(!e&&n===pE&&nE())return _E();if(!e)throw Na.create("no-app",{appName:n});return e}function Bg(){return Array.from(Qh.values())}function xt(n,e,t){var r;let i=(r=Hz[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(a.join(" "));return}mo(new ur(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Gz="firebase-heartbeat-database",Wz=1,Zh="firebase-heartbeat-store",dE=null;function fP(){return dE||(dE=aP(Gz,Wz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Na.create("idb-open",{originalErrorMessage:n.message})})),dE}function Yz(n){return D(this,null,function*(){try{let t=(yield fP()).transaction(Zh),r=yield t.objectStore(Zh).get(pP(n));return yield t.done,r}catch(e){if(e instanceof er)ps.warn(e.message);else{let t=Na.create("idb-get",{originalErrorMessage:e?.message});ps.warn(t.message)}}})}function uP(n,e){return D(this,null,function*(){try{let r=(yield fP()).transaction(Zh,"readwrite");yield r.objectStore(Zh).put(e,pP(n)),yield r.done}catch(t){if(t instanceof er)ps.warn(t.message);else{let r=Na.create("idb-set",{originalErrorMessage:t?.message});ps.warn(r.message)}}})}function pP(n){return`${n.name}!${n.options.appId}`}var Kz=1024,Qz=30*24*60*60*1e3,yE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new vE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=dP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=Qz}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ps.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=dP(),{heartbeatsToSend:r,unsentEntries:i}=Zz(this._heartbeatsCache.heartbeats),o=Yh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ps.warn(t),""}})}};function dP(){return new Date().toISOString().substring(0,10)}function Zz(n,e=Kz){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),hP(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),hP(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var vE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return iE()?J1().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Yz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function hP(n){return Yh(JSON.stringify({version:2,heartbeats:n})).length}function Jz(n){mo(new ur("platform-logger",e=>new hE(e),"PRIVATE")),mo(new ur("heartbeat",e=>new yE(e),"PRIVATE")),xt(fE,cP,n),xt(fE,cP,"esm2017"),xt("fire-js","")}Jz("");var Xz="firebase",eq="10.14.1";xt(Xz,eq,"app");var ms=new rs("ANGULARFIRE2_VERSION");function Zu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Bc=(n,e)=>{let t=e?[e]:Bg(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Oa=class{constructor(){return Bc(tq)}},tq="app-check";function Qu(){}var $g=class{zone;delegate;constructor(e,t=w_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},wE=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qu,{},Qu,Qu)),t.pipe(Gt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Fa=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new $g(Zone.current)),this.insideAngular=t.run(()=>new $g(Zone.current,__)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ue(We))};static \u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hg(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function nq(n){return Hg().ngZone.runOutsideAngular(()=>n())}function jc(n){return Hg().ngZone.run(()=>n())}function rq(n){return iq(Hg())(n)}function iq(n){return function(t){return t=t.lift(new wE(n.ngZone)),t.pipe(Xs(n.outsideAngular),Js(n.insideAngular))}}var oq=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),jc(()=>n.apply(void 0,r))},Mt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=jc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qu,{},Qu,Qu))),r[o]=oq(r[o],t));let i=nq(()=>n.apply(this,r));if(!e)if(i instanceof qe){let o=Hg();return i.pipe(Xs(o.outsideAngular),Js(o.insideAngular))}else return jc(()=>i);return i instanceof qe?i.pipe(rq):i instanceof Promise?jc(()=>new Promise((o,s)=>i.then(a=>jc(()=>o(a)),a=>jc(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:jc(()=>i)};var Li=class{constructor(e){return e}},gs=class{constructor(){return Bg()}};function sq(n){return n&&n.length===1?n[0]:new Li(ka())}var bE=new ce("angularfire2._apps"),aq={provide:Li,useFactory:sq,deps:[[new Wt,bE]]},cq={provide:gs,deps:[[new Wt,bE]]};function lq(n){return(e,t)=>{let r=t.get(Vn);xt("angularfire",ms.full,"core"),xt("angularfire",ms.full,"app"),xt("angular",_M.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Li(i)}}function mP(n,...e){return Fn([aq,cq,{provide:bE,useFactory:lq(n),multi:!0,deps:[We,Xt,Fa,...e]}])}var gP=Mt(_E,!0);function NP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var kP=NP,OP=new fs("auth","Firebase",NP());var Kg=new Pa("@firebase/auth");function uq(n,...e){Kg.logLevel<=Ye.WARN&&Kg.warn(`Auth (${go}): ${n}`,...e)}function qg(n,...e){Kg.logLevel<=Ye.ERROR&&Kg.error(`Auth (${go}): ${n}`,...e)}function vo(n,...e){throw zE(n,...e)}function $c(n,...e){return zE(n,...e)}function FP(n,e,t){let r=Object.assign(Object.assign({},kP()),{[e]:t});return new fs("auth","Firebase",r).create(e,{appName:n.name})}function _s(n){return FP(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OP.create(n,...e)}function Ee(n,e,...t){if(!n)throw zE(e,...t)}function ys(n){let e="INTERNAL ASSERTION FAILED: "+n;throw qg(e),new Error(e)}function Va(n,e){n||ys(e)}function TE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function dq(){return yP()==="http:"||yP()==="https:"}function yP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function hq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dq()||Y1()||"connection"in navigator)?navigator.onLine:!0}function fq(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Hc=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Va(t>e,"Short delay should be less than long delay!"),this.isMobile=G1()||K1()}get(){return hq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function qE(n,e){Va(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Qg=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var pq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var mq=new Hc(3e4,6e4);function ws(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function bs(o,s,a,l){return D(this,arguments,function*(n,e,t,r,i={}){return LP(n,i,()=>D(this,null,function*(){let h={},y={};r&&(e==="GET"?y=r:h={body:JSON.stringify(r)});let b=Kh(Object.assign({key:n.config.apiKey},y)).slice(1),C=yield n._getAdditionalHeaders();C["Content-Type"]="application/json",n.languageCode&&(C["X-Firebase-Locale"]=n.languageCode);let T=Object.assign({method:e,headers:C},h);return W1()||(T.referrerPolicy="no-referrer"),Qg.fetch()(VP(n,n.config.apiHost,t,b),T)}))})}function LP(n,e,t){return D(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},pq),e);try{let i=new DE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw zg(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,h]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw zg(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw zg(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw zg(n,"user-disabled",s);let y=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw FP(n,y,h);vo(n,y)}}catch(i){if(i instanceof er)throw i;vo(n,"network-request-failed",{message:String(i)})}})}function sf(o,s,a,l){return D(this,arguments,function*(n,e,t,r,i={}){let h=yield bs(n,e,t,r,i);return"mfaPendingCredential"in h&&vo(n,"multi-factor-auth-required",{_serverResponse:h}),h})}function VP(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?qE(n.config,i):`${n.config.apiScheme}://${i}`}function gq(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var DE=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($c(this.auth,"network-request-failed")),mq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function zg(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=$c(n,e,r);return i.customData._tokenResponse=t,i}function vP(n){return n!==void 0&&n.enterprise!==void 0}var SE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gq(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function yq(n,e){return D(this,null,function*(){return bs(n,"GET","/v2/recaptchaConfig",ws(n,e))})}function vq(n,e){return D(this,null,function*(){return bs(n,"POST","/v1/accounts:delete",e)})}function UP(n,e){return D(this,null,function*(){return bs(n,"POST","/v1/accounts:lookup",e)})}function Jh(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function GE(n,e=!1){return D(this,null,function*(){let t=Tt(n),r=yield t.getIdToken(e),i=WE(r);Ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Jh(EE(i.auth_time)),issuedAtTime:Jh(EE(i.iat)),expirationTime:Jh(EE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function EE(n){return Number(n)*1e3}function WE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return qg("JWT malformed, contained fewer than 3 sections"),null;try{let i=eE(t);return i?JSON.parse(i):(qg("Failed to decode base64 JWT payload"),null)}catch(i){return qg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function _P(n){let e=WE(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ef(n,e,t=!1){return D(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof er&&_q(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function _q({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var AE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),t)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var tf=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jh(this.lastLoginAt),this.creationTime=Jh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Zg(n){return D(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield ef(n,UP(t,{idToken:r}));Ee(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jP(o.providerUserInfo):[],a=wq(n.providerData,s),l=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!a?.length,y=l?h:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tf(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,b)})}function YE(n){return D(this,null,function*(){let e=Tt(n);yield Zg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function wq(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jP(n){return n.map(e=>{var{providerId:t}=e,r=b_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function bq(n,e){return D(this,null,function*(){let t=yield LP(n,{},()=>D(this,null,function*(){let r=Kh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=VP(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Qg.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Eq(n,e){return D(this,null,function*(){return bs(n,"POST","/v2/accounts:revokeToken",ws(n,e))})}var Xh=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_P(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");let t=_P(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return D(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield bq(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ys("not implemented")}};function La(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ju=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=b_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tf(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let t=yield ef(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return GE(this,e)}reload(){return YE(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Zg(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(Fi(this.auth.app))return Promise.reject(_s(this.auth));let e=yield this.getIdToken();return yield ef(this,vq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,h,y;let b=(r=t.displayName)!==null&&r!==void 0?r:void 0,C=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,P=(s=t.photoURL)!==null&&s!==void 0?s:void 0,z=(a=t.tenantId)!==null&&a!==void 0?a:void 0,$=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,K=(h=t.createdAt)!==null&&h!==void 0?h:void 0,se=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:J,emailVerified:ee,isAnonymous:Ie,providerData:pe,stsTokenManager:F}=t;Ee(J&&F,e,"internal-error");let A=Xh.fromJSON(this.name,F);Ee(typeof J=="string",e,"internal-error"),La(b,e.name),La(C,e.name),Ee(typeof ee=="boolean",e,"internal-error"),Ee(typeof Ie=="boolean",e,"internal-error"),La(T,e.name),La(P,e.name),La(z,e.name),La($,e.name),La(K,e.name),La(se,e.name);let N=new n({uid:J,auth:e,email:C,emailVerified:ee,displayName:b,isAnonymous:Ie,photoURL:P,phoneNumber:T,tenantId:z,stsTokenManager:A,createdAt:K,lastLoginAt:se});return pe&&Array.isArray(pe)&&(N.providerData=pe.map(L=>Object.assign({},L))),$&&(N._redirectEventId=$),N}static _fromIdTokenResponse(e,t,r=!1){return D(this,null,function*(){let i=new Xh;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zg(o),o})}static _fromGetAccountInfoResponse(e,t,r){return D(this,null,function*(){let i=t.users[0];Ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?jP(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Xh;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new tf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,h),l})}};var wP=new Map;function vs(n){Va(n instanceof Function,"Expected a class definition");let e=wP.get(n);return e?(Va(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,wP.set(n,e),e)}var Iq=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(t,r){return D(this,null,function*(){this.storage[t]=r})}_get(t){return D(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return D(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),xE=Iq;function Gg(n,e,t){return`firebase:${n}:${e}:${t}`}var Jg=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Gg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gg("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ju._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return D(this,null,function*(){if(!t.length)return new n(vs(xE),e,r);let i=(yield Promise.all(t.map(h=>D(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),o=i[0]||vs(xE),s=Gg(r,e.config.apiKey,e.name),a=null;for(let h of t)try{let y=yield h._get(s);if(y){let b=Ju._fromJSON(e,y);h!==o&&(a=b),o=h;break}}catch{}let l=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(h=>D(this,null,function*(){if(h!==o)try{yield h._remove(s)}catch{}}))),new n(o,e,r))})}};function bP(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GP(e))return"Blackberry";if(WP(e))return"Webos";if($P(e))return"Safari";if((e.includes("chrome/")||HP(e))&&!e.includes("edge/"))return"Chrome";if(qP(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function BP(n=bn()){return/firefox\//i.test(n)}function $P(n=bn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HP(n=bn()){return/crios\//i.test(n)}function zP(n=bn()){return/iemobile/i.test(n)}function qP(n=bn()){return/android/i.test(n)}function GP(n=bn()){return/blackberry/i.test(n)}function WP(n=bn()){return/webos/i.test(n)}function KE(n=bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Cq(n=bn()){var e;return KE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Tq(){return Q1()&&document.documentMode===10}function YP(n=bn()){return KE(n)||qP(n)||WP(n)||GP(n)||/windows phone/i.test(n)||zP(n)}function KP(n,e=[]){let t;switch(n){case"Browser":t=bP(bn());break;case"Worker":t=`${bP(bn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${go}/${r}`}var ME=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Dq(t){return D(this,arguments,function*(n,e={}){return bs(n,"GET","/v2/passwordPolicy",ws(n,e))})}var Sq=6,RE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Sq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var PE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xg(this),this.idTokenSubscription=new Xg(this),this.beforeStateQueue=new ME(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vs(t)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Jg.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let t=yield UP(this,{idToken:e}),r=yield Ju._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var t;if(Fi(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield Zg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=fq()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(Fi(this.app))return Promise.reject(_s(this));let t=e?Tt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return D(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return Fi(this.app)?Promise.reject(_s(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Fi(this.app)?Promise.reject(_s(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(vs(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield Dq(this),t=new RE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Eq(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&vs(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=yield Jg.create(this,[vs(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return D(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&uq(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function qc(n){return Tt(n)}var Xg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=eP(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var sy={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Aq(n){sy=n}function QP(n){return sy.loadJS(n)}function xq(){return sy.recaptchaEnterpriseScript}function Mq(){return sy.gapiScript}function ZP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Rq="recaptcha-enterprise",Pq="NO_RECAPTCHA",NE=class{constructor(e){this.type=Rq,this.auth=qc(e)}verify(e="verify",t=!1){return D(this,null,function*(){function r(o){return D(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>D(this,null,function*(){yq(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let h=new SE(l);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,s(h.siteKey)}}).catch(l=>{a(l)})}))})}function i(o,s,a){let l=window.grecaptcha;vP(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(h=>{s(h)}).catch(()=>{s(Pq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&vP(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=xq();l.length!==0&&(l+=a),QP(l).then(()=>{i(a,o,s)}).catch(h=>{s(h)})}}).catch(a=>{s(a)})})})}};function EP(n,e,t,r=!1){return D(this,null,function*(){let i=new NE(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function kE(n,e,t,r){return D(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield EP(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>D(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield EP(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function QE(n,e){let t=Uc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Lc(o,e??{}))return i;vo(i,"already-initialized")}return t.initialize({options:e})}function Nq(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(vs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function ZE(n,e,t){let r=qc(n);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=JP(e),{host:s,port:a}=kq(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Oq()}function JP(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function kq(n){let e=JP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:IP(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:IP(s)}}}function IP(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Oq(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var nf=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,t){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}};function Fq(n,e){return D(this,null,function*(){return bs(n,"POST","/v1/accounts:signUp",e)})}function Lq(n,e){return D(this,null,function*(){return sf(n,"POST","/v1/accounts:signInWithPassword",ws(n,e))})}function Vq(n,e){return D(this,null,function*(){return bs(n,"POST","/v1/accounts:sendOobCode",ws(n,e))})}function Uq(n,e){return D(this,null,function*(){return Vq(n,e)})}function jq(n,e){return D(this,null,function*(){return sf(n,"POST","/v1/accounts:signInWithEmailLink",ws(n,e))})}function Bq(n,e){return D(this,null,function*(){return sf(n,"POST","/v1/accounts:signInWithEmailLink",ws(n,e))})}var rf=class n extends nf{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return D(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kE(e,t,"signInWithPassword",Lq);case"emailLink":return jq(e,{email:this._email,oobCode:this._password});default:vo(e,"internal-error")}})}_linkToIdToken(e,t){return D(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kE(e,r,"signUpPassword",Fq);case"emailLink":return Bq(e,{idToken:t,email:this._email,oobCode:this._password});default:vo(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function IE(n,e){return D(this,null,function*(){return sf(n,"POST","/v1/accounts:signInWithIdp",ws(n,e))})}function $q(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Hq(n){let e=Yu(Ku(n)).link,t=e?Yu(Ku(e)).deep_link_id:null,r=Yu(Ku(n)).deep_link_id;return(r?Yu(Ku(r)).link:null)||r||t||e||n}var ey=class n{constructor(e){var t,r,i,o,s,a;let l=Yu(Ku(e)),h=(t=l.apiKey)!==null&&t!==void 0?t:null,y=(r=l.oobCode)!==null&&r!==void 0?r:null,b=$q((i=l.mode)!==null&&i!==void 0?i:null);Ee(h&&y&&b,"argument-error"),this.apiKey=h,this.operation=b,this.code=y,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=Hq(e);try{return new n(t)}catch{return null}}};var XP=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return rf._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=ey.parseLink(r);return Ee(i,"argument-error"),rf._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),ty=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var OE=class extends ty{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function zq(n,e){return D(this,null,function*(){return sf(n,"POST","/v1/accounts:signUp",ws(n,e))})}var Xu=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return D(this,null,function*(){let o=yield Ju._fromIdTokenResponse(e,r,i),s=CP(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return D(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=CP(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function CP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var FE=class n extends er{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function eN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?FE._fromErrorAndOperation(n,o,e,r):o})}function qq(n,e,t=!1){return D(this,null,function*(){let r=yield ef(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Xu._forOperation(n,"link",r)})}function Gq(n,e,t=!1){return D(this,null,function*(){let{auth:r}=n;if(Fi(r.app))return Promise.reject(_s(r));let i="reauthenticate";try{let o=yield ef(n,eN(r,i,e,n),t);Ee(o.idToken,r,"internal-error");let s=WE(o.idToken);Ee(s,r,"internal-error");let{sub:a}=s;return Ee(n.uid===a,r,"user-mismatch"),Xu._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&vo(r,"user-mismatch"),o}})}function tN(n,e,t=!1){return D(this,null,function*(){if(Fi(n.app))return Promise.reject(_s(n));let r="signIn",i=yield eN(n,r,e),o=yield Xu._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function JE(n,e){return D(this,null,function*(){return tN(qc(n),e)})}function Wq(n,e,t){var r;Ee(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),Ee(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Ee(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Ee(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function nN(n){return D(this,null,function*(){let e=qc(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function XE(n,e,t){return D(this,null,function*(){if(Fi(n.app))return Promise.reject(_s(n));let r=qc(n),s=yield kE(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zq).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&nN(n),l}),a=yield Xu._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function eI(n,e,t){return Fi(n.app)?Promise.reject(_s(n)):JE(Tt(n),XP.credential(e,t)).catch(r=>D(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&nN(n),r}))}function tI(n,e){return D(this,null,function*(){let t=Tt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&Wq(t.auth,i,e);let{email:o}=yield Uq(t.auth,i);o!==n.email&&(yield n.reload())})}function nI(n,e,t,r){return Tt(n).onIdTokenChanged(e,t,r)}function rI(n,e,t){return Tt(n).beforeAuthStateChanged(e,t)}function iI(n){return Tt(n).signOut()}var ny="__sak";var ry=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ny,"1"),this.storage.removeItem(ny),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Yq=1e3,Kq=10,Qq=(()=>{class n extends ry{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,l,h)=>{this.notifyListeners(a,h)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Tq()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Kq):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Yq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return D(this,null,function*(){yield Qs(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return D(this,null,function*(){let r=yield Qs(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return D(this,null,function*(){yield Qs(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),rN=Qq;var Zq=(()=>{class n extends ry{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),oI=Zq;function Jq(n){return Promise.all(n.map(e=>D(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Xq=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return D(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let l=Array.from(a).map(y=>D(this,null,function*(){return y(r.origin,s)})),h=yield Jq(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:h})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function iN(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var LE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return D(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let h=iN("",20);i.port1.start();let y=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(b){let C=b;if(C.data.eventId===h)switch(C.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(C.data.response);break;default:clearTimeout(y),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function yo(){return window}function e6(n){yo().location.href=n}function oN(){return typeof yo().WorkerGlobalScope<"u"&&typeof yo().importScripts=="function"}function t6(){return D(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function n6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function r6(){return oN()?self:null}var sN="firebaseLocalStorageDb",i6=1,iy="firebaseLocalStorage",aN="fbase_key",zc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ay(n,e){return n.transaction([iy],e?"readwrite":"readonly").objectStore(iy)}function o6(){let n=indexedDB.deleteDatabase(sN);return new zc(n).toPromise()}function VE(){let n=indexedDB.open(sN,i6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(iy,{keyPath:aN})}catch(i){t(i)}}),n.addEventListener("success",()=>D(this,null,function*(){let r=n.result;r.objectStoreNames.contains(iy)?e(r):(r.close(),yield o6(),e(yield VE()))}))})}function TP(n,e,t){return D(this,null,function*(){let r=ay(n,!0).put({[aN]:e,value:t});return new zc(r).toPromise()})}function s6(n,e){return D(this,null,function*(){let t=ay(n,!1).get(e),r=yield new zc(t).toPromise();return r===void 0?null:r.value})}function DP(n,e){let t=ay(n,!0).delete(e);return new zc(t).toPromise()}var a6=800,c6=3,l6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return D(this,null,function*(){return this.db?this.db:(this.db=yield VE(),this.db)})}_withRetries(t){return D(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>c6)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return D(this,null,function*(){return oN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return D(this,null,function*(){this.receiver=Xq._getInstance(r6()),this.receiver._subscribe("keyChanged",(t,r)=>D(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>D(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return D(this,null,function*(){var t,r;if(this.activeServiceWorker=yield t6(),!this.activeServiceWorker)return;this.sender=new LE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return D(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||n6()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return D(this,null,function*(){try{if(!indexedDB)return!1;let t=yield VE();return yield TP(t,ny,"1"),yield DP(t,ny),!0}catch{}return!1})}_withPendingWrite(t){return D(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(i=>TP(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return D(this,null,function*(){let r=yield this._withRetries(i=>s6(i,t));return this.localCache[t]=r,r})}_remove(t){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(r=>DP(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return D(this,null,function*(){let t=yield this._withRetries(o=>{let s=ay(o,!1).getAll();return new zc(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>D(this,null,function*(){return this._poll()}),a6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),cN=l6;var vie=ZP("rcb"),_ie=new Hc(3e4,6e4);function u6(n,e){return e?vs(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var of=class extends nf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return IE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return IE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return IE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function d6(n){return tN(n.auth,new of(n),n.bypassAuthState)}function h6(n){let{auth:e,user:t}=n;return Ee(t,e,"internal-error"),Gq(t,new of(n),n.bypassAuthState)}function f6(n){return D(this,null,function*(){let{auth:e,user:t}=n;return Ee(t,e,"internal-error"),qq(t,new of(n),n.bypassAuthState)})}var UE=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>D(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return D(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d6;case"linkViaPopup":case"linkViaRedirect":return f6;case"reauthViaPopup":case"reauthViaRedirect":return h6;default:vo(this.auth,"internal-error")}}resolve(e){Va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var wie=new Hc(2e3,1e4);var p6="pendingRedirect",Wg=new Map,jE=class n extends UE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return D(this,null,function*(){let e=Wg.get(this.auth._key());if(!e){try{let r=(yield m6(this.resolver,this.auth))?yield Qs(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Wg.set(this.auth._key(),e)}return this.bypassAuthState||Wg.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return D(this,null,function*(){if(e.type==="signInViaRedirect")return Qs(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Qs(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return D(this,null,function*(){})}cleanUp(){}};function m6(n,e){return D(this,null,function*(){let t=v6(e),r=y6(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function g6(n,e){Wg.set(n._key(),e)}function y6(n){return vs(n._redirectPersistence)}function v6(n){return Gg(p6,n.config.apiKey,n.name)}function _6(n,e,t=!1){return D(this,null,function*(){if(Fi(n.app))return Promise.reject(_s(n));let r=qc(n),i=u6(r,e),s=yield new jE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var w6=10*60*1e3,BE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!lN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError($c(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w6&&this.cachedEventUids.clear(),this.cachedEventUids.has(SP(e))}saveEventToCache(e){this.cachedEventUids.add(SP(e)),this.lastProcessedEventTime=Date.now()}};function SP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function lN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function b6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lN(n);default:return!1}}function E6(t){return D(this,arguments,function*(n,e={}){return bs(n,"GET","/v1/projects",e)})}var I6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C6=/^https?/;function T6(n){return D(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield E6(n);for(let t of e)try{if(D6(t))return}catch{}vo(n,"unauthorized-domain")})}function D6(n){let e=TE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!C6.test(t))return!1;if(I6.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var S6=new Hc(3e4,6e4);function AP(){let n=yo().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function A6(n){return new Promise((e,t)=>{var r,i,o;function s(){AP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AP(),t($c(n,"network-request-failed"))},timeout:S6.get()})}if(!((i=(r=yo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=yo().gapi)===null||o===void 0)&&o.load)s();else{let a=ZP("iframefcb");return yo()[a]=()=>{gapi.load?s():t($c(n,"network-request-failed"))},QP(`${Mq()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Yg=null,e})}var Yg=null;function x6(n){return Yg=Yg||A6(n),Yg}var M6=new Hc(5e3,15e3),R6="__/auth/iframe",P6="emulator/auth/iframe",N6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O6(n){let e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?qE(e,P6):`https://${n.config.authDomain}/${R6}`,r={apiKey:e.apiKey,appName:n.name,v:go},i=k6.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Kh(r).slice(1)}`}function F6(n){return D(this,null,function*(){let e=yield x6(n),t=yo().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:O6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N6,dontclear:!0},r=>new Promise((i,o)=>D(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=$c(n,"network-request-failed"),a=yo().setTimeout(()=>{o(s)},M6.get());function l(){yo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})})))})}var L6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V6=500,U6=600,j6="_blank",B6="http://localhost",oy=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $6(n,e,t,r=V6,i=U6){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},L6),{width:r.toString(),height:i.toString(),top:o,left:s}),h=bn().toLowerCase();t&&(a=HP(h)?j6:t),BP(h)&&(e=e||B6,l.scrollbars="yes");let y=Object.entries(l).reduce((C,[T,P])=>`${C}${T}=${P},`,"");if(Cq(h)&&a!=="_self")return H6(e||"",a),new oy(null);let b=window.open(e||"",a,y);Ee(b,n,"popup-blocked");try{b.focus()}catch{}return new oy(b)}function H6(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var z6="__/auth/handler",q6="emulator/auth/handler",G6=encodeURIComponent("fac");function xP(n,e,t,r,i,o){return D(this,null,function*(){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:go,eventId:i};if(e instanceof ty){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",X1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[y,b]of Object.entries(o||{}))s[y]=b}if(e instanceof OE){let y=e.getScopes().filter(b=>b!=="");y.length>0&&(s.scopes=y.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let y of Object.keys(a))a[y]===void 0&&delete a[y];let l=yield n._getAppCheckToken(),h=l?`#${G6}=${encodeURIComponent(l)}`:"";return`${W6(n)}?${Kh(a).slice(1)}${h}`})}function W6({config:n}){return n.emulator?qE(n,q6):`https://${n.authDomain}/${z6}`}var CE="webStorageSupport",$E=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oI,this._completeRedirectFn=_6,this._overrideRedirectResult=g6}_openPopup(e,t,r,i){return D(this,null,function*(){var o;Va((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield xP(e,t,r,TE(),i);return $6(e,s,iN())})}_openRedirect(e,t,r,i){return D(this,null,function*(){yield this._originValidation(e);let o=yield xP(e,t,r,TE(),i);return e6(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Va(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return D(this,null,function*(){let t=yield F6(e),r=new BE(e);return t.register("authEvent",i=>(Ee(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(CE,{type:CE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[CE];s!==void 0&&t(!!s),vo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=T6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YP()||$P()||KE()}},uN=$E;var MP="@firebase/auth",RP="1.7.9";var HE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Y6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K6(n){mo(new ur("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KP(n)},h=new PE(r,i,o,l);return Nq(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),mo(new ur("auth-internal",e=>{let t=qc(e.getProvider("auth").getImmediate());return(r=>new HE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xt(MP,RP,Y6(n)),xt(MP,RP,"esm2017")}var Q6=5*60,Z6=rE("authIdTokenMaxAge")||Q6,PP=null,J6=n=>e=>D(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Z6)return;let i=t?.token;PP!==i&&(PP=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function sI(n=ka()){let e=Uc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=QE(n,{popupRedirectResolver:uN,persistence:[cN,rN,oI]}),r=rE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=J6(o.toString());rI(t,s,()=>s(t.currentUser)),nI(t,a=>s(a))}}let i=tE("auth");return i&&ZE(t,`http://${i}`),t}function X6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Aq({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=$c("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",X6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K6("Browser");var dN="auth",Es=class{constructor(e){return e}},Gc=class{constructor(){return Bc(dN)}};var aI=new ce("angularfire2.auth-instances");function $G(n,e){let t=Zu(dN,n,e);return t&&new Es(t)}function HG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Es(r)}}var zG={provide:Gc,deps:[[new Wt,aI]]},qG={provide:Es,useFactory:$G,deps:[[new Wt,aI],Li]};function hN(n,...e){return xt("angularfire",ms.full,"auth"),Fn([qG,zG,{provide:aI,useFactory:HG(n),multi:!0,deps:[We,Xt,Fa,gs,[new Wt,Oa],...e]}])}var fN=Mt(XE,!0);var pN=Mt(sI,!0);var mN=Mt(tI,!0);var gN=Mt(eI,!0);var yN=Mt(iI,!0);var _N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wN={};var Ua,cI;(function(){var n;function e(F,A){function N(){}N.prototype=A.prototype,F.D=A.prototype,F.prototype=new N,F.prototype.constructor=F,F.C=function(L,V,B){for(var R=Array(arguments.length-2),Gn=2;Gn<arguments.length;Gn++)R[Gn-2]=arguments[Gn];return A.prototype[V].apply(L,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,A,N){N||(N=0);var L=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)L[V]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(V=0;16>V;++V)L[V]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=F.g[0],N=F.g[1],V=F.g[2];var B=F.g[3],R=A+(B^N&(V^B))+L[0]+3614090360&4294967295;A=N+(R<<7&4294967295|R>>>25),R=B+(V^A&(N^V))+L[1]+3905402710&4294967295,B=A+(R<<12&4294967295|R>>>20),R=V+(N^B&(A^N))+L[2]+606105819&4294967295,V=B+(R<<17&4294967295|R>>>15),R=N+(A^V&(B^A))+L[3]+3250441966&4294967295,N=V+(R<<22&4294967295|R>>>10),R=A+(B^N&(V^B))+L[4]+4118548399&4294967295,A=N+(R<<7&4294967295|R>>>25),R=B+(V^A&(N^V))+L[5]+1200080426&4294967295,B=A+(R<<12&4294967295|R>>>20),R=V+(N^B&(A^N))+L[6]+2821735955&4294967295,V=B+(R<<17&4294967295|R>>>15),R=N+(A^V&(B^A))+L[7]+4249261313&4294967295,N=V+(R<<22&4294967295|R>>>10),R=A+(B^N&(V^B))+L[8]+1770035416&4294967295,A=N+(R<<7&4294967295|R>>>25),R=B+(V^A&(N^V))+L[9]+2336552879&4294967295,B=A+(R<<12&4294967295|R>>>20),R=V+(N^B&(A^N))+L[10]+4294925233&4294967295,V=B+(R<<17&4294967295|R>>>15),R=N+(A^V&(B^A))+L[11]+2304563134&4294967295,N=V+(R<<22&4294967295|R>>>10),R=A+(B^N&(V^B))+L[12]+1804603682&4294967295,A=N+(R<<7&4294967295|R>>>25),R=B+(V^A&(N^V))+L[13]+4254626195&4294967295,B=A+(R<<12&4294967295|R>>>20),R=V+(N^B&(A^N))+L[14]+2792965006&4294967295,V=B+(R<<17&4294967295|R>>>15),R=N+(A^V&(B^A))+L[15]+1236535329&4294967295,N=V+(R<<22&4294967295|R>>>10),R=A+(V^B&(N^V))+L[1]+4129170786&4294967295,A=N+(R<<5&4294967295|R>>>27),R=B+(N^V&(A^N))+L[6]+3225465664&4294967295,B=A+(R<<9&4294967295|R>>>23),R=V+(A^N&(B^A))+L[11]+643717713&4294967295,V=B+(R<<14&4294967295|R>>>18),R=N+(B^A&(V^B))+L[0]+3921069994&4294967295,N=V+(R<<20&4294967295|R>>>12),R=A+(V^B&(N^V))+L[5]+3593408605&4294967295,A=N+(R<<5&4294967295|R>>>27),R=B+(N^V&(A^N))+L[10]+38016083&4294967295,B=A+(R<<9&4294967295|R>>>23),R=V+(A^N&(B^A))+L[15]+3634488961&4294967295,V=B+(R<<14&4294967295|R>>>18),R=N+(B^A&(V^B))+L[4]+3889429448&4294967295,N=V+(R<<20&4294967295|R>>>12),R=A+(V^B&(N^V))+L[9]+568446438&4294967295,A=N+(R<<5&4294967295|R>>>27),R=B+(N^V&(A^N))+L[14]+3275163606&4294967295,B=A+(R<<9&4294967295|R>>>23),R=V+(A^N&(B^A))+L[3]+4107603335&4294967295,V=B+(R<<14&4294967295|R>>>18),R=N+(B^A&(V^B))+L[8]+1163531501&4294967295,N=V+(R<<20&4294967295|R>>>12),R=A+(V^B&(N^V))+L[13]+2850285829&4294967295,A=N+(R<<5&4294967295|R>>>27),R=B+(N^V&(A^N))+L[2]+4243563512&4294967295,B=A+(R<<9&4294967295|R>>>23),R=V+(A^N&(B^A))+L[7]+1735328473&4294967295,V=B+(R<<14&4294967295|R>>>18),R=N+(B^A&(V^B))+L[12]+2368359562&4294967295,N=V+(R<<20&4294967295|R>>>12),R=A+(N^V^B)+L[5]+4294588738&4294967295,A=N+(R<<4&4294967295|R>>>28),R=B+(A^N^V)+L[8]+2272392833&4294967295,B=A+(R<<11&4294967295|R>>>21),R=V+(B^A^N)+L[11]+1839030562&4294967295,V=B+(R<<16&4294967295|R>>>16),R=N+(V^B^A)+L[14]+4259657740&4294967295,N=V+(R<<23&4294967295|R>>>9),R=A+(N^V^B)+L[1]+2763975236&4294967295,A=N+(R<<4&4294967295|R>>>28),R=B+(A^N^V)+L[4]+1272893353&4294967295,B=A+(R<<11&4294967295|R>>>21),R=V+(B^A^N)+L[7]+4139469664&4294967295,V=B+(R<<16&4294967295|R>>>16),R=N+(V^B^A)+L[10]+3200236656&4294967295,N=V+(R<<23&4294967295|R>>>9),R=A+(N^V^B)+L[13]+681279174&4294967295,A=N+(R<<4&4294967295|R>>>28),R=B+(A^N^V)+L[0]+3936430074&4294967295,B=A+(R<<11&4294967295|R>>>21),R=V+(B^A^N)+L[3]+3572445317&4294967295,V=B+(R<<16&4294967295|R>>>16),R=N+(V^B^A)+L[6]+76029189&4294967295,N=V+(R<<23&4294967295|R>>>9),R=A+(N^V^B)+L[9]+3654602809&4294967295,A=N+(R<<4&4294967295|R>>>28),R=B+(A^N^V)+L[12]+3873151461&4294967295,B=A+(R<<11&4294967295|R>>>21),R=V+(B^A^N)+L[15]+530742520&4294967295,V=B+(R<<16&4294967295|R>>>16),R=N+(V^B^A)+L[2]+3299628645&4294967295,N=V+(R<<23&4294967295|R>>>9),R=A+(V^(N|~B))+L[0]+4096336452&4294967295,A=N+(R<<6&4294967295|R>>>26),R=B+(N^(A|~V))+L[7]+1126891415&4294967295,B=A+(R<<10&4294967295|R>>>22),R=V+(A^(B|~N))+L[14]+2878612391&4294967295,V=B+(R<<15&4294967295|R>>>17),R=N+(B^(V|~A))+L[5]+4237533241&4294967295,N=V+(R<<21&4294967295|R>>>11),R=A+(V^(N|~B))+L[12]+1700485571&4294967295,A=N+(R<<6&4294967295|R>>>26),R=B+(N^(A|~V))+L[3]+2399980690&4294967295,B=A+(R<<10&4294967295|R>>>22),R=V+(A^(B|~N))+L[10]+4293915773&4294967295,V=B+(R<<15&4294967295|R>>>17),R=N+(B^(V|~A))+L[1]+2240044497&4294967295,N=V+(R<<21&4294967295|R>>>11),R=A+(V^(N|~B))+L[8]+1873313359&4294967295,A=N+(R<<6&4294967295|R>>>26),R=B+(N^(A|~V))+L[15]+4264355552&4294967295,B=A+(R<<10&4294967295|R>>>22),R=V+(A^(B|~N))+L[6]+2734768916&4294967295,V=B+(R<<15&4294967295|R>>>17),R=N+(B^(V|~A))+L[13]+1309151649&4294967295,N=V+(R<<21&4294967295|R>>>11),R=A+(V^(N|~B))+L[4]+4149444226&4294967295,A=N+(R<<6&4294967295|R>>>26),R=B+(N^(A|~V))+L[11]+3174756917&4294967295,B=A+(R<<10&4294967295|R>>>22),R=V+(A^(B|~N))+L[2]+718787259&4294967295,V=B+(R<<15&4294967295|R>>>17),R=N+(B^(V|~A))+L[9]+3951481745&4294967295,F.g[0]=F.g[0]+A&4294967295,F.g[1]=F.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,F.g[2]=F.g[2]+V&4294967295,F.g[3]=F.g[3]+B&4294967295}r.prototype.u=function(F,A){A===void 0&&(A=F.length);for(var N=A-this.blockSize,L=this.B,V=this.h,B=0;B<A;){if(V==0)for(;B<=N;)i(this,F,B),B+=this.blockSize;if(typeof F=="string"){for(;B<A;)if(L[V++]=F.charCodeAt(B++),V==this.blockSize){i(this,L),V=0;break}}else for(;B<A;)if(L[V++]=F[B++],V==this.blockSize){i(this,L),V=0;break}}this.h=V,this.o+=A},r.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var A=1;A<F.length-8;++A)F[A]=0;var N=8*this.o;for(A=F.length-8;A<F.length;++A)F[A]=N&255,N/=256;for(this.u(F),F=Array(16),A=N=0;4>A;++A)for(var L=0;32>L;L+=8)F[N++]=this.g[A]>>>L&255;return F};function o(F,A){var N=a;return Object.prototype.hasOwnProperty.call(N,F)?N[F]:N[F]=A(F)}function s(F,A){this.h=A;for(var N=[],L=!0,V=F.length-1;0<=V;V--){var B=F[V]|0;L&&B==A||(N[V]=B,L=!1)}this.g=N}var a={};function l(F){return-128<=F&&128>F?o(F,function(A){return new s([A|0],0>A?-1:0)}):new s([F|0],0>F?-1:0)}function h(F){if(isNaN(F)||!isFinite(F))return b;if(0>F)return $(h(-F));for(var A=[],N=1,L=0;F>=N;L++)A[L]=F/N|0,N*=4294967296;return new s(A,0)}function y(F,A){if(F.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(F.charAt(0)=="-")return $(y(F.substring(1),A));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=h(Math.pow(A,8)),L=b,V=0;V<F.length;V+=8){var B=Math.min(8,F.length-V),R=parseInt(F.substring(V,V+B),A);8>B?(B=h(Math.pow(A,B)),L=L.j(B).add(h(R))):(L=L.j(N),L=L.add(h(R)))}return L}var b=l(0),C=l(1),T=l(16777216);n=s.prototype,n.m=function(){if(z(this))return-$(this).m();for(var F=0,A=1,N=0;N<this.g.length;N++){var L=this.i(N);F+=(0<=L?L:4294967296+L)*A,A*=4294967296}return F},n.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(P(this))return"0";if(z(this))return"-"+$(this).toString(F);for(var A=h(Math.pow(F,6)),N=this,L="";;){var V=ee(N,A).g;N=K(N,V.j(A));var B=((0<N.g.length?N.g[0]:N.h)>>>0).toString(F);if(N=V,P(N))return B+L;for(;6>B.length;)B="0"+B;L=B+L}},n.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function P(F){if(F.h!=0)return!1;for(var A=0;A<F.g.length;A++)if(F.g[A]!=0)return!1;return!0}function z(F){return F.h==-1}n.l=function(F){return F=K(this,F),z(F)?-1:P(F)?0:1};function $(F){for(var A=F.g.length,N=[],L=0;L<A;L++)N[L]=~F.g[L];return new s(N,~F.h).add(C)}n.abs=function(){return z(this)?$(this):this},n.add=function(F){for(var A=Math.max(this.g.length,F.g.length),N=[],L=0,V=0;V<=A;V++){var B=L+(this.i(V)&65535)+(F.i(V)&65535),R=(B>>>16)+(this.i(V)>>>16)+(F.i(V)>>>16);L=R>>>16,B&=65535,R&=65535,N[V]=R<<16|B}return new s(N,N[N.length-1]&-2147483648?-1:0)};function K(F,A){return F.add($(A))}n.j=function(F){if(P(this)||P(F))return b;if(z(this))return z(F)?$(this).j($(F)):$($(this).j(F));if(z(F))return $(this.j($(F)));if(0>this.l(T)&&0>F.l(T))return h(this.m()*F.m());for(var A=this.g.length+F.g.length,N=[],L=0;L<2*A;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<F.g.length;V++){var B=this.i(L)>>>16,R=this.i(L)&65535,Gn=F.i(V)>>>16,Rn=F.i(V)&65535;N[2*L+2*V]+=R*Rn,se(N,2*L+2*V),N[2*L+2*V+1]+=B*Rn,se(N,2*L+2*V+1),N[2*L+2*V+1]+=R*Gn,se(N,2*L+2*V+1),N[2*L+2*V+2]+=B*Gn,se(N,2*L+2*V+2)}for(L=0;L<A;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=A;L<2*A;L++)N[L]=0;return new s(N,0)};function se(F,A){for(;(F[A]&65535)!=F[A];)F[A+1]+=F[A]>>>16,F[A]&=65535,A++}function J(F,A){this.g=F,this.h=A}function ee(F,A){if(P(A))throw Error("division by zero");if(P(F))return new J(b,b);if(z(F))return A=ee($(F),A),new J($(A.g),$(A.h));if(z(A))return A=ee(F,$(A)),new J($(A.g),A.h);if(30<F.g.length){if(z(F)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var N=C,L=A;0>=L.l(F);)N=Ie(N),L=Ie(L);var V=pe(N,1),B=pe(L,1);for(L=pe(L,2),N=pe(N,2);!P(L);){var R=B.add(L);0>=R.l(F)&&(V=V.add(N),B=R),L=pe(L,1),N=pe(N,1)}return A=K(F,V.j(A)),new J(V,A)}for(V=b;0<=F.l(A);){for(N=Math.max(1,Math.floor(F.m()/A.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),B=h(N),R=B.j(A);z(R)||0<R.l(F);)N-=L,B=h(N),R=B.j(A);P(B)&&(B=C),V=V.add(B),F=K(F,R)}return new J(V,F)}n.A=function(F){return ee(this,F).h},n.and=function(F){for(var A=Math.max(this.g.length,F.g.length),N=[],L=0;L<A;L++)N[L]=this.i(L)&F.i(L);return new s(N,this.h&F.h)},n.or=function(F){for(var A=Math.max(this.g.length,F.g.length),N=[],L=0;L<A;L++)N[L]=this.i(L)|F.i(L);return new s(N,this.h|F.h)},n.xor=function(F){for(var A=Math.max(this.g.length,F.g.length),N=[],L=0;L<A;L++)N[L]=this.i(L)^F.i(L);return new s(N,this.h^F.h)};function Ie(F){for(var A=F.g.length+1,N=[],L=0;L<A;L++)N[L]=F.i(L)<<1|F.i(L-1)>>>31;return new s(N,F.h)}function pe(F,A){var N=A>>5;A%=32;for(var L=F.g.length-N,V=[],B=0;B<L;B++)V[B]=0<A?F.i(B+N)>>>A|F.i(B+N+1)<<32-A:F.i(B+N);return new s(V,F.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cI=wN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=y,Ua=wN.Integer=s}).apply(typeof _N<"u"?_N:typeof self<"u"?self:typeof window<"u"?window:{});var cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Is={};var lI,GG,ed,uI,af,ly,dI,hI,fI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cy=="object"&&cy];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function i(u,m){if(m)e:{var _=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var j=u[I];if(!(j in _))break e;_=_[j]}u=u[u.length-1],I=_[u],m=m(I),m!=I&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function o(u,m){u instanceof String&&(u+="");var _=0,I=!1,j={next:function(){if(!I&&_<u.length){var H=_++;return{value:m(H,u[H]),done:!1}}return I=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(u){return u||function(){return o(this,function(m,_){return _})}});var s=s||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function h(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function b(u,m,_){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,I),u.apply(m,j)}}return function(){return u.apply(m,arguments)}}function C(u,m,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,C.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function P(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(I,j,H){for(var ie=Array(arguments.length-2),it=2;it<arguments.length;it++)ie[it-2]=arguments[it];return m.prototype[j].apply(I,ie)}}function z(u){let m=u.length;if(0<m){let _=Array(m);for(let I=0;I<m;I++)_[I]=u[I];return _}return[]}function $(u,m){for(let _=1;_<arguments.length;_++){let I=arguments[_];if(l(I)){let j=u.length||0,H=I.length||0;u.length=j+H;for(let ie=0;ie<H;ie++)u[j+ie]=I[ie]}else u.push(I)}}class K{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function se(u){return/^[\s\xa0]*$/.test(u)}function J(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function ee(u){return ee[" "](u),u}ee[" "]=function(){};var Ie=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function pe(u,m,_){for(let I in u)m.call(_,u[I],I,u)}function F(u,m){for(let _ in u)m.call(void 0,u[_],_,u)}function A(u){let m={};for(let _ in u)m[_]=u[_];return m}let N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(u,m){let _,I;for(let j=1;j<arguments.length;j++){I=arguments[j];for(_ in I)u[_]=I[_];for(let H=0;H<N.length;H++)_=N[H],Object.prototype.hasOwnProperty.call(I,_)&&(u[_]=I[_])}}function V(u){var m=1;u=u.split(":");let _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function B(u){a.setTimeout(()=>{throw u},0)}function R(){var u=Vr;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Gn{constructor(){this.h=this.g=null}add(m,_){let I=Rn.get();I.set(m,_),this.h?this.h.next=I:this.g=I,this.h=I}}var Rn=new K(()=>new ni,u=>u.reset());class ni{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let pr,sn=!1,Vr=new Gn,ri=()=>{let u=a.Promise.resolve(void 0);pr=()=>{u.then(Ya)}};var Ya=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){B(_)}var m=Rn;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}sn=!1};function an(){this.s=this.s,this.C=this.C}an.prototype.s=!1,an.prototype.ma=function(){this.s||(this.s=!0,this.N())},an.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var xs=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return u}();function xo(u,m){if(ae.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Ie){e:{try{ee(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mr[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xo.aa.h.call(this)}}P(xo,ae);var mr={2:"touch",3:"pen",4:"mouse"};xo.prototype.h=function(){xo.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),gr=0;function Ad(u,m,_,I,j){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!I,this.ha=j,this.key=++gr,this.da=this.fa=!1}function cn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zi(u){this.src=u,this.g={},this.h=0}zi.prototype.add=function(u,m,_,I,j){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var ie=Rs(u,m,I,j);return-1<ie?(m=u[ie],_||(m.fa=!1)):(m=new Ad(m,this.src,H,!!I,j),m.fa=_,u.push(m)),m};function Ms(u,m){var _=m.type;if(_ in u.g){var I=u.g[_],j=Array.prototype.indexOf.call(I,m,void 0),H;(H=0<=j)&&Array.prototype.splice.call(I,j,1),H&&(cn(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Rs(u,m,_,I){for(var j=0;j<u.length;++j){var H=u[j];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==I)return j}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),Pn={};function yr(u,m,_,I,j){if(I&&I.once)return st(u,m,_,I,j);if(Array.isArray(m)){for(var H=0;H<m.length;H++)yr(u,m[H],_,I,j);return null}return _=oi(_),u&&u[Ut]?u.K(m,_,h(I)?!!I.capture:!!I,j):ii(u,m,_,!1,I,j)}function ii(u,m,_,I,j,H){if(!m)throw Error("Invalid event type");var ie=h(j)?!!j.capture:!!j,it=Kt(u);if(it||(u[Be]=it=new zi(u)),_=it.add(m,_,I,ie,H),_.proxy)return _;if(I=jt(),_.proxy=I,I.src=u,I.listener=_,u.addEventListener)xs||(j=ie),j===void 0&&(j=!1),u.addEventListener(m.toString(),I,j);else if(u.attachEvent)u.attachEvent(gn(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jt(){function u(_){return m.call(u.src,u.listener,_)}let m=sl;return u}function st(u,m,_,I,j){if(Array.isArray(m)){for(var H=0;H<m.length;H++)st(u,m[H],_,I,j);return null}return _=oi(_),u&&u[Ut]?u.L(m,_,h(I)?!!I.capture:!!I,j):ii(u,m,_,!0,I,j)}function Mo(u,m,_,I,j){if(Array.isArray(m))for(var H=0;H<m.length;H++)Mo(u,m[H],_,I,j);else I=h(I)?!!I.capture:!!I,_=oi(_),u&&u[Ut]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],_=Rs(H,_,I,j),-1<_&&(cn(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Kt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rs(m,_,I,j)),(_=-1<u?m[u]:null)&&qi(_))}function qi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ut])Ms(m.i,u);else{var _=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(_,I,u.capture):m.detachEvent?m.detachEvent(gn(_),I):m.addListener&&m.removeListener&&m.removeListener(I),(_=Kt(m))?(Ms(_,u),_.h==0&&(_.src=null,m[Be]=null)):cn(u)}}}function gn(u){return u in Pn?Pn[u]:Pn[u]="on"+u}function sl(u,m){if(u.da)u=!0;else{m=new xo(m,this);var _=u.listener,I=u.ha||u.src;u.fa&&qi(u),u=_.call(I,m)}return u}function Kt(u){return u=u[Be],u instanceof zi?u:null}var Ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function oi(u){return typeof u=="function"?u:(u[Ro]||(u[Ro]=function(m){return u.handleEvent(m)}),u[Ro])}function Nt(){an.call(this),this.i=new zi(this),this.M=this,this.F=null}P(Nt,an),Nt.prototype[Ut]=!0,Nt.prototype.removeEventListener=function(u,m,_,I){Mo(this,u,m,_,I)};function Pe(u,m){var _,I=u.F;if(I)for(_=[];I;I=I.F)_.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new ae(m,u);else if(m instanceof ae)m.target=m.target||u;else{var j=m;m=new ae(I,u),L(m,j)}if(j=!0,_)for(var H=_.length-1;0<=H;H--){var ie=m.g=_[H];j=xe(ie,I,!0,m)&&j}if(ie=m.g=u,j=xe(ie,I,!0,m)&&j,j=xe(ie,I,!1,m)&&j,_)for(H=0;H<_.length;H++)ie=m.g=_[H],j=xe(ie,I,!1,m)&&j}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],I=0;I<_.length;I++)cn(_[I]);delete u.g[m],u.h--}}this.F=null},Nt.prototype.K=function(u,m,_,I){return this.i.add(String(u),m,!1,_,I)},Nt.prototype.L=function(u,m,_,I){return this.i.add(String(u),m,!0,_,I)};function xe(u,m,_,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,H=0;H<m.length;++H){var ie=m[H];if(ie&&!ie.da&&ie.capture==_){var it=ie.listener,Ot=ie.ha||ie.src;ie.fa&&Ms(u.i,ie),j=it.call(Ot,I)!==!1&&j}}return j&&!I.defaultPrevented}function Ka(u,m,_){if(typeof u=="function")_&&(u=C(u,_));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Po(u){u.g=Ka(()=>{u.g=null,u.i&&(u.i=!1,Po(u))},u.l);let m=u.h;u.h=null,u.m.apply(null,m)}class Ps extends an{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Po(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(u){an.call(this),this.h=u,this.g={}}P(Ur,an);var si=[];function Wn(u){pe(u.g,function(m,_){this.g.hasOwnProperty(_)&&qi(m)},u),u.g={}}Ur.prototype.N=function(){Ur.aa.N.call(this),Wn(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qa=a.JSON.stringify,Ns=a.JSON.parse,xd=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ai(){}ai.prototype.h=null;function ci(u){return u.h||(u.h=u.i())}function Gi(){}var jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function le(){ae.call(this,"d")}P(le,ae);function li(){ae.call(this,"c")}P(li,ae);var ui={},nr=null;function ln(){return nr=nr||new Nt}ui.La="serverreachability";function Le(u){ae.call(this,ui.La,u)}P(Le,ae);function vr(u){let m=ln();Pe(m,new Le(m))}ui.STAT_EVENT="statevent";function rt(u,m){ae.call(this,ui.STAT_EVENT,u),this.stat=m}P(rt,ae);function kt(u){let m=ln();Pe(m,new rt(m,u))}ui.Ma="timingevent";function al(u,m){ae.call(this,ui.Ma,u),this.size=m}P(al,ae);function Br(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function St(){this.g=!0}St.prototype.xa=function(){this.g=!1};function _r(u,m,_,I,j,H){u.info(function(){if(u.g)if(H)for(var ie="",it=H.split("&"),Ot=0;Ot<it.length;Ot++){var ze=it[Ot].split("=");if(1<ze.length){var Me=ze[0];ze=ze[1];var Qt=Me.split("_");ie=2<=Qt.length&&Qt[1]=="type"?ie+(Me+"="+ze+"&"):ie+(Me+"=redacted&")}}else ie=null;else ie=H;return"XMLHTTP REQ ("+I+") [attempt "+j+"]: "+m+`
`+_+`
`+ie})}function rr(u,m,_,I,j,H,ie){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+j+"]: "+m+`
`+_+`
`+H+" "+ie})}function mt(u,m,_,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+wr(u,_)+(I?" "+I:"")})}function Yn(u,m){u.info(function(){return"TIMEOUT: "+m})}St.prototype.info=function(){};function wr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var I=_[u];if(!(2>I.length)){var j=I[1];if(Array.isArray(j)&&!(1>j.length)){var H=j[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ie=1;ie<j.length;ie++)j[ie]=""}}}}return Qa(_)}catch{return m}}var ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ks={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function br(){}P(br,ai),br.prototype.g=function(){return new XMLHttpRequest},br.prototype.i=function(){return{}},di=new br;function Nn(u,m,_,I){this.j=u,this.i=m,this.l=_,this.R=I||1,this.U=new Ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new un}function un(){this.i=null,this.g="",this.h=!1}var hi={},fi={};function Os(u,m,_){u.L=1,u.v=Vs(Kn(m)),u.m=_,u.P=!0,Za(u,null)}function Za(u,m){u.F=Date.now(),gt(u),u.A=Kn(u.v);var _=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),_l(_.i,"t",I),u.C=0,_=u.j.J,u.h=new un,u.g=Nl(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Ps(C(u.Y,u,u.g),u.O)),m=u.U,_=u.g,I=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(si[0]=j.toString()),j=si);for(var H=0;H<j.length;H++){var ie=yr(_,j[H],I||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),vr(),_r(u.i,u.u,u.A,u.l,u.R,u.m)}Nn.prototype.ca=function(u){u=u.target;let m=this.M;m&&Bt(u)==3?m.j():this.Y(u)},Nn.prototype.Y=function(u){try{if(u==this.g)e:{let Qt=Bt(this.g);var m=this.g.Ba();let Cr=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||Tl(this.g)))){this.J||Qt!=4||m==7||(m==8||0>=Cr?vr(3):vr(2)),Ja(this);var _=this.g.Z();this.X=_;t:if(cl(this)){var I=Tl(this.g);u="";var j=I.length,H=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$r(this),pi(this);var ie="";break t}this.h.i=new a.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(H&&m==j-1)});I.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,rr(this.i,this.u,this.A,this.l,this.R,Qt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var it,Ot=this.g;if((it=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(it)){var ze=it;break t}}ze=null}if(_=ze)mt(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xa(this,_);else{this.o=!1,this.s=3,kt(12),$r(this),pi(this);break e}}if(this.P){_=!0;let kn;for(;!this.J&&this.C<ie.length;)if(kn=Md(this,ie),kn==fi){Qt==4&&(this.s=4,kt(14),_=!1),mt(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==hi){this.s=4,kt(15),mt(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else mt(this.i,this.l,kn,null),Xa(this,kn);if(cl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||ie.length!=0||this.h.h||(this.s=1,kt(16),_=!1),this.o=this.o&&_,!_)mt(this.i,this.l,ie,"[Invalid Chunked Response]"),$r(this),pi(this);else if(0<ie.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),_i(Me),Me.M=!0,kt(11))}}else mt(this.i,this.l,ie,null),Xa(this,ie);Qt==4&&$r(this),this.o&&!this.J&&(Qt==4?wi(this.j,this):(this.o=!1,gt(this)))}else Dl(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),$r(this),pi(this)}}}catch{}finally{}};function cl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Md(u,m){var _=u.C,I=m.indexOf(`
`,_);return I==-1?fi:(_=Number(m.substring(_,I)),isNaN(_)?hi:(I+=1,I+_>m.length?fi:(m=m.slice(I,I+_),u.C=I+_,m)))}Nn.prototype.cancel=function(){this.J=!0,$r(this)};function gt(u){u.S=Date.now()+u.I,No(u,u.I)}function No(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Br(C(u.ba,u),m)}function Ja(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Nn.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Yn(this.i,this.A),this.L!=2&&(vr(),kt(17)),$r(this),this.s=2,pi(this)):No(this,this.S-u)};function pi(u){u.j.G==0||u.J||wi(u.j,u)}function $r(u){Ja(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Wn(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Xa(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||ec(_.h,u))){if(!u.K&&ec(_.h,u)&&_.G==3){try{var I=_.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var j=I;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ho(_),In(_);else break e;oc(_),kt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Br(C(_.Za,_),6e3));if(1>=dl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Gr(_,11)}else if((u.K||_.g==u)&&Ho(_),!se(m))for(j=_.Da.g.parse(m),m=0;m<j.length;m++){let ze=j[m];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];let Me=ze[3];Me!=null&&(_.la=Me,_.j.info("VER="+_.la));let Qt=ze[4];Qt!=null&&(_.Aa=Qt,_.j.info("SVER="+_.Aa));let Cr=ze[5];Cr!=null&&typeof Cr=="number"&&0<Cr&&(I=1.5*Cr,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;let kn=u.g;if(kn){let zs=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var H=I.h;H.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ko(H,H.h),H.h=null))}if(I.D){let sc=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;sc&&(I.ya=sc,dt(I.I,I.D,sc))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var ie=u;if(I.qa=Pl(I,I.J?I.ia:null,I.W),ie.K){Fs(I.h,ie);var it=ie,Ot=I.L;Ot&&(it.I=Ot),it.B&&(Ja(it),gt(it)),I.g=ie}else xl(I);0<_.i.length&&$s(_)}else ze[0]!="stop"&&ze[0]!="close"||Gr(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Gr(_,7):yi(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}vr(4)}catch{}}var Rd=class{constructor(u,m){this.g=u,this.map=m}};function ll(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ul(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function dl(u){return u.h?1:u.g?u.g.size:0}function ec(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ko(u,m){u.g?u.g.add(m):u.h=m}function Fs(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ll.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function hl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(let _ of u.g.values())m=m.concat(_.D);return m}return z(u.i)}function Pd(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],_=u.length,I=0;I<_;I++)m.push(u[I]);return m}m=[],_=0;for(I in u)m[_++]=u[I];return m}function Nd(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(let I in u)m[_++]=I;return m}}}function Ls(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Nd(u),I=Pd(u),j=I.length,H=0;H<j;H++)m.call(void 0,I[H],_&&_[H],u)}var fl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oo(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var I=u[_].indexOf("="),j=null;if(0<=I){var H=u[_].substring(0,I);j=u[_].substring(I+1)}else H=u[_];m(H,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function dn(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof dn){this.h=u.h,Hr(this,u.j),this.o=u.o,this.g=u.g,yn(this,u.s),this.l=u.l;var m=u.i,_=new Uo;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),tc(this,_),this.m=u.m}else u&&(m=String(u).match(fl))?(this.h=!1,Hr(this,m[1]||"",!0),this.o=Fo(m[2]||""),this.g=Fo(m[3]||"",!0),yn(this,m[4]),this.l=Fo(m[5]||"",!0),tc(this,m[6]||"",!0),this.m=Fo(m[7]||"")):(this.h=!1,this.i=new Uo(null,this.h))}dn.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Lo(m,pl,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Lo(m,pl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Lo(_,_.charAt(0)=="/"?nc:Vo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Lo(_,gl)),u.join("")};function Kn(u){return new dn(u)}function Hr(u,m,_){u.j=_?Fo(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function yn(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function tc(u,m,_){m instanceof Uo?(u.i=m,Od(u.i,u.h)):(_||(m=Lo(m,ml)),u.i=new Uo(m,u.h))}function dt(u,m,_){u.i.set(m,_)}function Vs(u){return dt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Fo(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lo(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,kd),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kd(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pl=/[#\/\?@]/g,Vo=/[#\?:]/g,nc=/[#\?]/g,ml=/[#\?@]/g,gl=/#/g;function Uo(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function zr(u){u.g||(u.g=new Map,u.h=0,u.i&&Oo(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=Uo.prototype,n.add=function(u,m){zr(this),this.i=null,u=Wi(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function yl(u,m){zr(u),m=Wi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vl(u,m){return zr(u),m=Wi(u,m),u.g.has(m)}n.forEach=function(u,m){zr(this),this.g.forEach(function(_,I){_.forEach(function(j){u.call(m,j,I,this)},this)},this)},n.na=function(){zr(this);let u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let I=0;I<m.length;I++){let j=u[I];for(let H=0;H<j.length;H++)_.push(m[I])}return _},n.V=function(u){zr(this);let m=[];if(typeof u=="string")vl(this,u)&&(m=m.concat(this.g.get(Wi(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},n.set=function(u,m){return zr(this),this.i=null,u=Wi(this,u),vl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function _l(u,m,_){yl(u,m),0<_.length&&(u.i=null,u.g.set(Wi(u,m),z(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var I=m[_];let H=encodeURIComponent(String(I)),ie=this.V(I);for(I=0;I<ie.length;I++){var j=H;ie[I]!==""&&(j+="="+encodeURIComponent(String(ie[I]))),u.push(j)}}return this.i=u.join("&")};function Wi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Od(u,m){m&&!u.j&&(zr(u),u.i=null,u.g.forEach(function(_,I){var j=I.toLowerCase();I!=j&&(yl(this,I),_l(this,j,_))},u)),u.j=m}function Fd(u,m){let _=new St;if(a.Image){let I=new Image;I.onload=T(qr,_,"TestLoadImage: loaded",!0,m,I),I.onerror=T(qr,_,"TestLoadImage: error",!1,m,I),I.onabort=T(qr,_,"TestLoadImage: abort",!1,m,I),I.ontimeout=T(qr,_,"TestLoadImage: timeout",!1,m,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function wl(u,m){let _=new St,I=new AbortController,j=setTimeout(()=>{I.abort(),qr(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(H=>{clearTimeout(j),H.ok?qr(_,"TestPingServer: ok",!0,m):qr(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),qr(_,"TestPingServer: error",!1,m)})}function qr(u,m,_,I,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),I(_)}catch{}}function Us(){this.g=new xd}function Ld(u,m,_){let I=_||"";try{Ls(u,function(j,H){let ie=j;h(j)&&(ie=Qa(j)),m.push(I+H+"="+encodeURIComponent(ie))})}catch(j){throw m.push(I+"type="+encodeURIComponent("_badmap")),j}}function jo(u){this.l=u.Ub||null,this.j=u.eb||!1}P(jo,ai),jo.prototype.g=function(){return new js(this.l,this.j)},jo.prototype.i=function(u){return function(){return u}}({});function js(u,m){Nt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(js,Nt),n=js.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,gi(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yi(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yi(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?mi(this):gi(this),this.readyState==3&&Yi(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,mi(this))},n.Qa=function(u){this.g&&(this.response=u,mi(this))},n.ga=function(){this.g&&mi(this)};function mi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,gi(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function gi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bl(u){let m="";return pe(u,function(_,I){m+=I,m+=":",m+=_,m+=`\r
`}),m}function Bo(u,m,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=bl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):dt(u,m,_))}function yt(u){Nt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(yt,Nt);var El=/^https?$/i,Vd=["POST","PUT"];n=yt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?ci(this.o):ci(di),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Il(this,H);return}if(u=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var j in I)_.set(j,I[j]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(let H of I.keys())_.set(H,I.get(H));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),j=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Vd,m,void 0))||I||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[H,ie]of _)this.g.setRequestHeader(H,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ki(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Il(this,H)}};function Il(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Cl(u),lt(u)}function Cl(u){u.A||(u.A=!0,Pe(u,"complete"),Pe(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Pe(this,"complete"),Pe(this,"abort"),lt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lt(this,!0)),yt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?rc(this):this.bb())},n.bb=function(){rc(this)};function rc(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Bt(u)!=4||u.Z()!=2)){if(u.u&&Bt(u)==4)Ka(u.Ea,0,u);else if(Pe(u,"readystatechange"),Bt(u)==4){u.h=!1;try{let ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var I;if(I=ie===0){var j=String(u.D).match(fl)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),I=!El.test(j?j.toLowerCase():"")}_=I}if(_)Pe(u,"complete"),Pe(u,"success");else{u.m=6;try{var H=2<Bt(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Cl(u)}}finally{lt(u)}}}}function lt(u,m){if(u.g){Ki(u);let _=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Pe(u,"ready");try{_.onreadystatechange=I}catch{}}}function Ki(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Bt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ns(m)}};function Tl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Dl(u){let m={};u=(u.g&&2<=Bt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(se(u[I]))continue;var _=V(u[I]);let j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();let H=m[j]||[];m[j]=H,H.push(_)}F(m,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $o(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ic(u){this.Aa=0,this.i=[],this.j=new St,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$o("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$o("baseRetryDelayMs",5e3,u),this.cb=$o("retryDelaySeedMs",1e4,u),this.Wa=$o("forwardChannelMaxRetries",2,u),this.wa=$o("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ll(u&&u.concurrentRequestLimit),this.Da=new Us,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ic.prototype,n.la=8,n.G=1,n.connect=function(u,m,_,I){kt(0),this.W=u,this.H=m||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=Pl(this,null,this.W),$s(this)};function yi(u){if(Bs(u),u.G==3){var m=u.U++,_=Kn(u.I);if(dt(_,"SID",u.K),dt(_,"RID",m),dt(_,"TYPE","terminate"),vi(u,_),m=new Nn(u,u.j,m),m.L=2,m.v=Vs(Kn(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=Nl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),gt(m)}Rl(u)}function In(u){u.g&&(_i(u),u.g.cancel(),u.g=null)}function Bs(u){In(u),u.u&&(a.clearTimeout(u.u),u.u=null),Ho(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function $s(u){if(!ul(u.h)&&!u.s){u.s=!0;var m=u.Ga;pr||ri(),sn||(pr(),sn=!0),Vr.add(m,u),u.B=0}}function Er(u,m){return dl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Br(C(u.Ga,u,m),Ml(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let j=new Nn(this,this.j,u),H=this.o;if(this.S&&(H?(H=A(H),L(H,this.S)):H=this.S),this.m!==null||this.O||(j.H=H,H=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Al(this,j,m),_=Kn(this.I),dt(_,"RID",u),dt(_,"CVER",22),this.D&&dt(_,"X-HTTP-Session-Id",this.D),vi(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(bl(H)))+"&"+m:this.m&&Bo(_,this.m,H)),ko(this.h,j),this.Ua&&dt(_,"TYPE","init"),this.P?(dt(_,"$req",m),dt(_,"SID","null"),j.T=!0,Os(j,_,null)):Os(j,_,m),this.G=2}}else this.G==3&&(u?Sl(this,u):this.i.length==0||ul(this.h)||Sl(this))};function Sl(u,m){var _;m?_=m.l:_=u.U++;let I=Kn(u.I);dt(I,"SID",u.K),dt(I,"RID",_),dt(I,"AID",u.T),vi(u,I),u.m&&u.o&&Bo(I,u.m,u.o),_=new Nn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Al(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ko(u.h,_),Os(_,I,m)}function vi(u,m){u.H&&pe(u.H,function(_,I){dt(m,I,_)}),u.l&&Ls({},function(_,I){dt(m,I,_)})}function Al(u,m,_){_=Math.min(u.i.length,_);var I=u.l?C(u.l.Na,u.l,u):null;e:{var j=u.i;let H=-1;for(;;){let ie=["count="+_];H==-1?0<_?(H=j[0].g,ie.push("ofs="+H)):H=0:ie.push("ofs="+H);let it=!0;for(let Ot=0;Ot<_;Ot++){let ze=j[Ot].g,Me=j[Ot].map;if(ze-=H,0>ze)H=Math.max(0,j[Ot].g-100),it=!1;else try{Ld(Me,ie,"req"+ze+"_")}catch{I&&I(Me)}}if(it){I=ie.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,I}function xl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;pr||ri(),sn||(pr(),sn=!0),Vr.add(m,u),u.v=0}}function oc(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Br(C(u.Fa,u),Ml(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Qi(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Br(C(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),In(this),Qi(this))};function _i(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Qi(u){u.g=new Nn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Kn(u.qa);dt(m,"RID","rpc"),dt(m,"SID",u.K),dt(m,"AID",u.T),dt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&dt(m,"TO",u.ja),dt(m,"TYPE","xmlhttp"),vi(u,m),u.m&&u.o&&Bo(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Vs(Kn(m)),_.m=null,_.P=!0,Za(_,u)}n.Za=function(){this.C!=null&&(this.C=null,In(this),oc(this),kt(19))};function Ho(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function wi(u,m){var _=null;if(u.g==m){Ho(u),_i(u),u.g=null;var I=2}else if(ec(u.h,m))_=m.D,Fs(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var j=u.B;I=ln(),Pe(I,new al(I,_)),$s(u)}else xl(u);else if(j=m.s,j==3||j==0&&0<m.X||!(I==1&&Er(u,m)||I==2&&oc(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),j){case 1:Gr(u,5);break;case 4:Gr(u,10);break;case 3:Gr(u,6);break;default:Gr(u,2)}}}function Ml(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Gr(u,m){if(u.j.info("Error code "+m),m==2){var _=C(u.fb,u),I=u.Xa;let j=!I;I=new dn(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Hr(I,"https"),Vs(I),j?Fd(I.toString(),_):wl(I.toString(),_)}else kt(2);u.G=0,u.l&&u.l.sa(m),Rl(u),Bs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Rl(u){if(u.G=0,u.ka=[],u.l){let m=hl(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function Pl(u,m,_){var I=_ instanceof dn?Kn(_):new dn(_);if(I.g!="")m&&(I.g=m+"."+I.g),yn(I,I.s);else{var j=a.location;I=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var H=new dn(null);I&&Hr(H,I),m&&(H.g=m),j&&yn(H,j),_&&(H.l=_),I=H}return _=u.D,m=u.ya,_&&m&&dt(I,_,m),dt(I,"VER",u.la),vi(u,I),I}function Nl(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new yt(new jo({eb:_})):new yt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kl(){}n=kl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Hs(){}Hs.prototype.g=function(u,m){return new vn(u,m)};function vn(u,m){Nt.call(this),this.g=new ic(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!se(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!se(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new bi(this)}P(vn,Nt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){yi(this.g)},vn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Qa(u),u=_);m.i.push(new Rd(m.Ya++,u)),m.G==3&&$s(m)},vn.prototype.N=function(){this.g.l=null,delete this.j,yi(this.g),delete this.g,vn.aa.N.call(this)};function Ol(u){le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(let _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}P(Ol,le);function Ir(){li.call(this),this.status=1}P(Ir,li);function bi(u){this.g=u}P(bi,kl),bi.prototype.ua=function(){Pe(this.g,"a")},bi.prototype.ta=function(u){Pe(this.g,new Ol(u))},bi.prototype.sa=function(u){Pe(this.g,new Ir)},bi.prototype.ra=function(){Pe(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,fI=Is.createWebChannelTransport=function(){return new Hs},hI=Is.getStatEventTarget=function(){return ln()},dI=Is.Event=ui,ly=Is.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,af=Is.ErrorCode=ir,ks.COMPLETE="complete",uI=Is.EventType=ks,Gi.EventType=jr,jr.OPEN="a",jr.CLOSE="b",jr.ERROR="c",jr.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,ed=Is.WebChannel=Gi,GG=Is.FetchXmlHttpFactory=jo,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,lI=Is.XhrIo=yt}).apply(typeof cy<"u"?cy:typeof self<"u"?self:typeof window<"u"?window:{});var bN="@firebase/firestore";var En=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");var bd="10.14.0";var Qc=new Pa("@firebase/firestore");function cf(){return Qc.logLevel}function ye(n,...e){if(Qc.logLevel<=Ye.DEBUG){let t=e.map(QC);Qc.debug(`Firestore (${bd}): ${n}`,...t)}}function Ts(n,...e){if(Qc.logLevel<=Ye.ERROR){let t=e.map(QC);Qc.error(`Firestore (${bd}): ${n}`,...t)}}function ad(n,...e){if(Qc.logLevel<=Ye.WARN){let t=e.map(QC);Qc.warn(`Firestore (${bd}): ${n}`,...t)}}function QC(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function De(n="Unexpected state"){let e=`FIRESTORE (${bd}) INTERNAL ASSERTION FAILED: `+n;throw Ts(e),new Error(e)}function pt(n,e){n||De()}function Re(n,e){return n}var Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fe=class extends er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Vi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var py=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},vI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(En.UNAUTHENTICATED))}shutdown(){}},_I=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},wI=class{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pt(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vi,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>D(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vi)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string"),new py(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string"),new En(e)}},bI=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},EI=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new bI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}},II=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},CI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){pt(this.o===void 0);let r=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pt(typeof t.token=="string"),this.R=t.token,new II(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function WG(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var my=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=WG(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function ct(n,e){return n<e?-1:n>e?1:0}function cd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var xn=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Fe=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new xn(0,0))}static max(){return new n(new xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var gy=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&De(),r===void 0?r=e.length-t:r>e.length-t&&De(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Vt=class n extends gy{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new fe(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},YG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fr=class n extends gy{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return YG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new fe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new fe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var be=class n{constructor(e){this.path=e}static fromPath(e){return new n(Vt.fromString(e))}static fromName(e){return new n(Vt.fromString(e).popFirst(5))}static empty(){return new n(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Vt(e.slice()))}};var TI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};TI.UNKNOWN_ID=-1;function KG(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new xn(t+1,0):new xn(t,r));return new Zc(i,be.empty(),e)}function QG(n){return new Zc(n.readTime,n.key,-1)}var Zc=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Fe.min(),be.empty(),-1)}static max(){return new n(Fe.max(),be.empty(),-1)}};function ZG(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:ct(n.largestBatchId,e.largestBatchId))}var JG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",DI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Df(n){return D(this,null,function*(){if(n.code!==Y.FAILED_PRECONDITION||n.message!==JG)throw n;ye("LocalStore","Unexpectedly lost primary lease")})}var re=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let h=l;t(e[h]).next(y=>{s[h]=y,++a,a===o&&r(s)},y=>i(y))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function XG(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sf(n){return n.name==="IndexedDbTransactionError"}var tk=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Yy(n){return n==null}function pf(n){return n===0&&1/n==-1/0}function e8(n){return typeof n=="number"&&Number.isInteger(n)&&!pf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var t8=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],moe=[...t8,"documentOverlays"],n8=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],r8=n8,i8=[...r8,"indexConfiguration","indexState","indexEntries"];var goe=[...i8,"globals"];function EN(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rl(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nk(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var zt=class n{constructor(e,t){this.comparator=e,this.root=t||wo.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wo.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new id(this.root,e,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new id(this.root,e,this.comparator,!0)}},id=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wo=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();let e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}};wo.EMPTY=null,wo.RED=!0,wo.BLACK=!1;wo.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,t,r,i,o){return this}insert(e,t,r){return new wo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var zn=class n{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yy(this.data.getIterator())}getIteratorFrom(e){return new yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},yy=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ti=class n{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new n([])}unionWith(e){let t=new zn(Fr.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cd(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var vy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var qn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vy("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qn.EMPTY_BYTE_STRING=new qn("");var o8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(pt(!!n),typeof n=="string"){let e=0,t=o8.exec(n);if(pt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ba(n){return typeof n=="string"?qn.fromBase64String(n):qn.fromUint8Array(n)}function ZC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function JC(n){let e=n.mapValue.fields.__previous_value__;return ZC(e)?JC(e):e}function mf(n){let e=Ds(n.mapValue.fields.__local_write_time__.timestampValue);return new xn(e.seconds,e.nanos)}var SI=class{constructor(e,t,r,i,o,s,a,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h}},_y=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var uy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ZC(n)?4:ik(n)?9007199254740991:rk(n)?10:11:De()}function Io(n,e){if(n===e)return!0;let t=Jc(n);if(t!==Jc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mf(n).isEqual(mf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ds(i.timestampValue),a=Ds(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ba(i.bytesValue).isEqual(Ba(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Rt(i.geoPointValue.latitude)===Rt(o.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Rt(i.integerValue)===Rt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Rt(i.doubleValue),a=Rt(o.doubleValue);return s===a?pf(s)===pf(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return cd(n.arrayValue.values||[],e.arrayValue.values||[],Io);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(EN(s)!==EN(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Io(s[l],a[l])))return!1;return!0}(n,e);default:return De()}}function gf(n,e){return(n.values||[]).find(t=>Io(t,e))!==void 0}function ld(n,e){if(n===e)return 0;let t=Jc(n),r=Jc(e);if(t!==r)return ct(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ct(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Rt(o.integerValue||o.doubleValue),l=Rt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return IN(n.timestampValue,e.timestampValue);case 4:return IN(mf(n),mf(e));case 5:return ct(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Ba(o),l=Ba(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let h=0;h<a.length&&h<l.length;h++){let y=ct(a[h],l[h]);if(y!==0)return y}return ct(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ct(Rt(o.latitude),Rt(s.latitude));return a!==0?a:ct(Rt(o.longitude),Rt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return CN(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,h,y;let b=o.fields||{},C=s.fields||{},T=(a=b.value)===null||a===void 0?void 0:a.arrayValue,P=(l=C.value)===null||l===void 0?void 0:l.arrayValue,z=ct(((h=T?.values)===null||h===void 0?void 0:h.length)||0,((y=P?.values)===null||y===void 0?void 0:y.length)||0);return z!==0?z:CN(T,P)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===uy.mapValue&&s===uy.mapValue)return 0;if(o===uy.mapValue)return 1;if(s===uy.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),h=s.fields||{},y=Object.keys(h);l.sort(),y.sort();for(let b=0;b<l.length&&b<y.length;++b){let C=ct(l[b],y[b]);if(C!==0)return C;let T=ld(a[l[b]],h[y[b]]);if(T!==0)return T}return ct(l.length,y.length)}(n.mapValue,e.mapValue);default:throw De()}}function IN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ct(n,e);let t=Ds(n),r=Ds(e),i=ct(t.seconds,r.seconds);return i!==0?i:ct(t.nanos,r.nanos)}function CN(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ld(t[i],r[i]);if(o)return o}return ct(t.length,r.length)}function ud(n){return AI(n)}function AI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Ds(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ba(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=AI(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${AI(t.fields[s])}`;return i+"}"}(n.mapValue):De()}function TN(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xI(n){return!!n&&"integerValue"in n}function XC(n){return!!n&&"arrayValue"in n}function DN(n){return!!n&&"nullValue"in n}function SN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hy(n){return!!n&&"mapValue"in n}function rk(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function uf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return rl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uf(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ik(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Or=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uf(t)}setAll(e){let t=Fr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=uf(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());hy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Io(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];hy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){rl(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(uf(this.value))}};function ok(n){let e=[];return rl(n.fields,(t,r)=>{let i=new Fr([t]);if(hy(r)){let o=ok(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new ti(e)}var Ui=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Fe.min(),Fe.min(),Fe.min(),Or.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Fe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Fe.min(),Fe.min(),Or.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Fe.min(),Fe.min(),Or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var dd=class{constructor(e,t){this.position=e,this.inclusive=t}};function AN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=be.comparator(be.fromName(s.referenceValue),t.key):r=ld(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function xN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Io(n.position[t],e.position[t]))return!1;return!0}var hd=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function s8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var wy=class{},rn=class n extends wy{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new RI(e,t,r):t==="array-contains"?new kI(e,r):t==="in"?new OI(e,r):t==="not-in"?new FI(e,r):t==="array-contains-any"?new LI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new PI(e,r):new NI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ld(t,this.value)):t!==null&&Jc(this.value)===Jc(t)&&this.matchesComparison(ld(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ji=class n extends wy{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return sk(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function sk(n){return n.op==="and"}function ak(n){return a8(n)&&sk(n)}function a8(n){for(let e of n.filters)if(e instanceof ji)return!1;return!0}function MI(n){if(n instanceof rn)return n.field.canonicalString()+n.op.toString()+ud(n.value);if(ak(n))return n.filters.map(e=>MI(e)).join(",");{let e=n.filters.map(t=>MI(t)).join(",");return`${n.op}(${e})`}}function ck(n,e){return n instanceof rn?function(r,i){return i instanceof rn&&r.op===i.op&&r.field.isEqual(i.field)&&Io(r.value,i.value)}(n,e):n instanceof ji?function(r,i){return i instanceof ji&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&ck(s,i.filters[a]),!0):!1}(n,e):void De()}function lk(n){return n instanceof rn?function(t){return`${t.field.canonicalString()} ${t.op} ${ud(t.value)}`}(n):n instanceof ji?function(t){return t.op.toString()+" {"+t.getFilters().map(lk).join(" ,")+"}"}(n):"Filter"}var RI=class extends rn{constructor(e,t,r){super(e,t,r),this.key=be.fromName(r.referenceValue)}matches(e){let t=be.comparator(e.key,this.key);return this.matchesComparison(t)}},PI=class extends rn{constructor(e,t){super(e,"in",t),this.keys=uk("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},NI=class extends rn{constructor(e,t){super(e,"not-in",t),this.keys=uk("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function uk(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>be.fromName(r.referenceValue))}var kI=class extends rn{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return XC(t)&&gf(t.arrayValue,this.value)}},OI=class extends rn{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&gf(this.value.arrayValue,t)}},FI=class extends rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(gf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!gf(this.value.arrayValue,t)}},LI=class extends rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!XC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gf(this.value.arrayValue,r))}};var VI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function MN(n,e=null,t=[],r=[],i=null,o=null,s=null){return new VI(n,e,t,r,i,o,s)}function eT(n){let e=Re(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>MI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Yy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ud(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ud(r)).join(",")),e.ue=t}return e.ue}function tT(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!s8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ck(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xN(n.startAt,e.startAt)&&xN(n.endAt,e.endAt)}function UI(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Xc=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function c8(n,e,t,r,i,o,s,a){return new Xc(n,e,t,r,i,o,s,a)}function nT(n){return new Xc(n)}function RN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dk(n){return n.collectionGroup!==null}function df(n){let e=Re(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new zn(Fr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new hd(o,r))}),t.has(Fr.keyField().canonicalString())||e.ce.push(new hd(Fr.keyField(),r))}return e.ce}function bo(n){let e=Re(n);return e.le||(e.le=l8(e,df(n))),e.le}function l8(n,e){if(n.limitType==="F")return MN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new hd(i.field,o)});let t=n.endAt?new dd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new dd(n.startAt.position,n.startAt.inclusive):null;return MN(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function jI(n,e){let t=n.filters.concat([e]);return new Xc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function BI(n,e,t){return new Xc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ky(n,e){return tT(bo(n),bo(e))&&n.limitType===e.limitType}function hk(n){return`${eT(bo(n))}|lt:${n.limitType}`}function td(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lk(i)).join(", ")}]`),Yy(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ud(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ud(i)).join(",")),`Target(${r})`}(bo(n))}; limitType=${n.limitType})`}function Qy(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of df(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let h=AN(s,a,l);return s.inclusive?h<=0:h<0}(r.startAt,df(r),i)||r.endAt&&!function(s,a,l){let h=AN(s,a,l);return s.inclusive?h>=0:h>0}(r.endAt,df(r),i))}(n,e)}function u8(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fk(n){return(e,t)=>{let r=!1;for(let i of df(n)){let o=d8(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function d8(n,e,t){let r=n.field.isKeyField()?be.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),h=a.data.field(o);return l!==null&&h!==null?ld(l,h):De()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return De()}}var $a=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rl(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return nk(this.inner)}size(){return this.innerSize}};var h8=new zt(be.comparator);function Ss(){return h8}var pk=new zt(be.comparator);function lf(...n){let e=pk;for(let t of n)e=e.insert(t.key,t);return e}function mk(n){let e=pk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Wc(){return hf()}function gk(){return hf()}function hf(){return new $a(n=>n.toString(),(n,e)=>n.isEqual(e))}var f8=new zt(be.comparator),p8=new zn(be.comparator);function Ke(...n){let e=p8;for(let t of n)e=e.add(t);return e}var m8=new zn(ct);function g8(){return m8}function rT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function yk(n){return{integerValue:""+n}}function y8(n,e){return e8(e)?yk(e):rT(n,e)}var fd=class{constructor(){this._=void 0}};function v8(n,e,t){return n instanceof pd?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ZC(o)&&(o=JC(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof el?_k(n,e):n instanceof tl?wk(n,e):function(i,o){let s=vk(i,o),a=PN(s)+PN(i.Pe);return xI(s)&&xI(i.Pe)?yk(a):rT(i.serializer,a)}(n,e)}function _8(n,e,t){return n instanceof el?_k(n,e):n instanceof tl?wk(n,e):t}function vk(n,e){return n instanceof md?function(r){return xI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var pd=class extends fd{},el=class extends fd{constructor(e){super(),this.elements=e}};function _k(n,e){let t=bk(e);for(let r of n.elements)t.some(i=>Io(i,r))||t.push(r);return{arrayValue:{values:t}}}var tl=class extends fd{constructor(e){super(),this.elements=e}};function wk(n,e){let t=bk(e);for(let r of n.elements)t=t.filter(i=>!Io(i,r));return{arrayValue:{values:t}}}var md=class extends fd{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function PN(n){return Rt(n.integerValue||n.doubleValue)}function bk(n){return XC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function w8(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof el&&i instanceof el||r instanceof tl&&i instanceof tl?cd(r.elements,i.elements,Io):r instanceof md&&i instanceof md?Io(r.Pe,i.Pe):r instanceof pd&&i instanceof pd}(n.transform,e.transform)}var $I=class{constructor(e,t){this.version=e,this.transformResults=t}},Cs=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function fy(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var gd=class{};function Ek(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new by(n.key,Cs.none()):new nl(n.key,n.data,Cs.none());{let t=n.data,r=Or.empty(),i=new zn(Fr.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Co(n.key,r,new ti(i.toArray()),Cs.none())}}function b8(n,e,t){n instanceof nl?function(i,o,s){let a=i.value.clone(),l=kN(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Co?function(i,o,s){if(!fy(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=kN(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Ik(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function ff(n,e,t,r){return n instanceof nl?function(o,s,a,l){if(!fy(o.precondition,s))return a;let h=o.value.clone(),y=ON(o.fieldTransforms,l,s);return h.setAll(y),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Co?function(o,s,a,l){if(!fy(o.precondition,s))return a;let h=ON(o.fieldTransforms,l,s),y=s.data;return y.setAll(Ik(o)),y.setAll(h),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,r):function(o,s,a){return fy(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function E8(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=vk(r.transform,i||null);o!=null&&(t===null&&(t=Or.empty()),t.set(r.field,o))}return t||null}function NN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cd(r,i,(o,s)=>w8(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var nl=class extends gd{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Co=class extends gd{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Ik(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function kN(n,e,t){let r=new Map;pt(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,_8(s,a,t[i]))}return r}function ON(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,v8(o,s,e))}return r}var by=class extends gd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},HI=class extends gd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var zI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&b8(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=ff(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=ff(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=gk();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=Ek(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ke())}isEqual(e){return this.batchId===e.batchId&&cd(this.mutations,e.mutations,(t,r)=>NN(t,r))&&cd(this.baseMutations,e.baseMutations,(t,r)=>NN(t,r))}},qI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pt(e.mutations.length===r.length);let i=function(){return f8}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var GI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var WI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var tn,nt;function I8(n){switch(n){default:return De();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function Ck(n){if(n===void 0)return Ts("GRPC error has no .code"),Y.UNKNOWN;switch(n){case tn.OK:return Y.OK;case tn.CANCELLED:return Y.CANCELLED;case tn.UNKNOWN:return Y.UNKNOWN;case tn.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case tn.INTERNAL:return Y.INTERNAL;case tn.UNAVAILABLE:return Y.UNAVAILABLE;case tn.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case tn.NOT_FOUND:return Y.NOT_FOUND;case tn.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case tn.ABORTED:return Y.ABORTED;case tn.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case tn.DATA_LOSS:return Y.DATA_LOSS;default:return De()}}(nt=tn||(tn={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";var FN=null;function C8(){return new TextEncoder}var T8=new Ua([4294967295,4294967295],0);function LN(n){let e=C8().encode(n),t=new cI;return t.update(e),new Uint8Array(t.digest())}function VN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ua([t,r],0),new Ua([i,o],0)]}var YI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Yc(`Invalid padding: ${t}`);if(r<0)throw new Yc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Yc(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ua.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Ua.fromNumber(r)));return i.compare(T8)===1&&(i=new Ua([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=LN(e),[r,i]=VN(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=LN(e),[r,i]=VN(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Yc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ey=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,yf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Fe.min(),i,new zt(ct),Ss(),Ke())}},yf=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ke(),Ke(),Ke())}};var od=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Iy=class{constructor(e,t){this.targetId=e,this.me=t}},Cy=class{constructor(e,t,r=qn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Ty=class{constructor(){this.fe=0,this.ge=jN(),this.pe=qn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ke(),t=Ke(),r=Ke();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:De()}}),new yf(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=jN()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},KI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ss(),this.qe=UN(),this.Qe=new zt(ct)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(UI(o))if(r===0){let s=new be(o.path);this.Ue(t,s,Ui.newNoDocument(s,Fe.min()))}else pt(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(t);let h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,h)}FN?.et(function(y,b,C,T,P){var z,$,K,se,J,ee;let Ie={localCacheCount:y,existenceFilterCount:b.count,databaseId:C.database,projectId:C.projectId},pe=b.unchangedNames;return pe&&(Ie.bloomFilter={applied:P===0,hashCount:(z=pe?.hashCount)!==null&&z!==void 0?z:0,bitmapLength:(se=(K=($=pe?.bits)===null||$===void 0?void 0:$.bitmap)===null||K===void 0?void 0:K.length)!==null&&se!==void 0?se:0,padding:(ee=(J=pe?.bits)===null||J===void 0?void 0:J.padding)!==null&&ee!==void 0?ee:0,mightContain:F=>{var A;return(A=T?.mightContain(F))!==null&&A!==void 0&&A}}),Ie}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ba(r).toUint8Array()}catch(l){if(l instanceof vy)return ad("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new YI(s,i,o)}catch(l){return ad(l instanceof Yc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&UI(a.target)){let l=new be(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Ui.newNoDocument(l,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Ke();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let h=this.Je(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Ey(e,t,this.Qe,this.ke,r);return this.ke=Ss(),this.qe=UN(),this.Qe=new zt(ct),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Ty,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new zn(ct),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ty),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function UN(){return new zt(be.comparator)}function jN(){return new zt(be.comparator)}var D8={asc:"ASCENDING",desc:"DESCENDING"},S8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A8={and:"AND",or:"OR"},QI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function ZI(n,e){return n.useProto3Json||Yy(e)?e:{value:e}}function Dy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function x8(n,e){return Dy(n,e.toTimestamp())}function Eo(n){return pt(!!n),Fe.fromTimestamp(function(t){let r=Ds(t);return new xn(r.seconds,r.nanos)}(n))}function iT(n,e){return JI(n,e).canonicalString()}function JI(n,e){let t=function(i){return new Vt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Dk(n){let e=Vt.fromString(n);return pt(Rk(e)),e}function XI(n,e){return iT(n.databaseId,e.path)}function pI(n,e){let t=Dk(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(Ak(t))}function Sk(n,e){return iT(n.databaseId,e)}function M8(n){let e=Dk(n);return e.length===4?Vt.emptyPath():Ak(e)}function eC(n){return new Vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ak(n){return pt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function BN(n,e,t){return{name:XI(n,e),fields:t.value.mapValue.fields}}function R8(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,y){return h.useProto3Json?(pt(y===void 0||typeof y=="string"),qn.fromBase64String(y||"")):(pt(y===void 0||y instanceof Buffer||y instanceof Uint8Array),qn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(h){let y=h.code===void 0?Y.UNKNOWN:Ck(h.code);return new fe(y,h.message||"")}(s);t=new Cy(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=pI(n,r.document.name),o=Eo(r.document.updateTime),s=r.document.createTime?Eo(r.document.createTime):Fe.min(),a=new Or({mapValue:{fields:r.document.fields}}),l=Ui.newFoundDocument(i,o,s,a),h=r.targetIds||[],y=r.removedTargetIds||[];t=new od(h,y,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=pI(n,r.document),o=r.readTime?Eo(r.readTime):Fe.min(),s=Ui.newNoDocument(i,o),a=r.removedTargetIds||[];t=new od([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=pI(n,r.document),o=r.removedTargetIds||[];t=new od([],o,i,null)}else{if(!("filter"in e))return De();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new WI(i,o),a=r.targetId;t=new Iy(a,s)}}return t}function P8(n,e){let t;if(e instanceof nl)t={update:BN(n,e.key,e.value)};else if(e instanceof by)t={delete:XI(n,e.key)};else if(e instanceof Co)t={update:BN(n,e.key,e.data),updateMask:B8(e.fieldMask)};else{if(!(e instanceof HI))return De();t={verify:XI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof pd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof el)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof md)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw De()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:x8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:De()}(n,e.precondition)),t}function N8(n,e){return n&&n.length>0?(pt(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Eo(i.updateTime):Eo(o);return s.isEqual(Fe.min())&&(s=Eo(o)),new $I(s,i.transformResults||[])}(t,e))):[]}function k8(n,e){return{documents:[Sk(n,e.path)]}}function O8(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Sk(n,i);let o=function(h){if(h.length!==0)return Mk(ji.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(h){if(h.length!==0)return h.map(y=>function(C){return{field:nd(C.field),direction:V8(C.dir)}}(y))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=ZI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:t,parent:i}}function F8(n){let e=M8(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){pt(r===1);let y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(b){let C=xk(b);return C instanceof ji&&ak(C)?C.getFilters():[C]}(t.where));let s=[];t.orderBy&&(s=function(b){return b.map(C=>function(P){return new hd(rd(P.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(C))}(t.orderBy));let a=null;t.limit&&(a=function(b){let C;return C=typeof b=="object"?b.value:b,Yy(C)?null:C}(t.limit));let l=null;t.startAt&&(l=function(b){let C=!!b.before,T=b.values||[];return new dd(T,C)}(t.startAt));let h=null;return t.endAt&&(h=function(b){let C=!b.before,T=b.values||[];return new dd(T,C)}(t.endAt)),c8(e,i,s,o,a,"F",l,h)}function L8(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=rd(t.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=rd(t.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=rd(t.unaryFilter.field);return rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=rd(t.unaryFilter.field);return rn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):n.fieldFilter!==void 0?function(t){return rn.create(rd(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ji.create(t.compositeFilter.filters.map(r=>xk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De()}}(t.compositeFilter.op))}(n):De()}function V8(n){return D8[n]}function U8(n){return S8[n]}function j8(n){return A8[n]}function nd(n){return{fieldPath:n.canonicalString()}}function rd(n){return Fr.fromServerFormat(n.fieldPath)}function Mk(n){return n instanceof rn?function(t){if(t.op==="=="){if(SN(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NAN"}};if(DN(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(SN(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NOT_NAN"}};if(DN(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(t.field),op:U8(t.op),value:t.value}}}(n):n instanceof ji?function(t){let r=t.getFilters().map(i=>Mk(i));return r.length===1?r[0]:{compositeFilter:{op:j8(t.op),filters:r}}}(n):De()}function B8(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Rk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var vf=class n{constructor(e,t,r,i,o=Fe.min(),s=Fe.min(),a=qn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var tC=class{constructor(e){this.ct=e}};function $8(n){let e=F8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?BI(e,e.limit,"L"):e}var Sy=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Rt(e.integerValue));else if("doubleValue"in e){let r=Rt(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),pf(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Ds(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Ba(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?ik(e)?this.dt(t,Number.MAX_SAFE_INTEGER):rk(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):De()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Rt(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),be.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Sy.vt=new Sy;var nC=class{constructor(){this.un=new rC}addToCollectionParentIndex(e,t){return this.un.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Zc.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Zc.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}},rC=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new zn(Vt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zn(Vt.comparator)).toArray()}};var voe=new Uint8Array(0);var _o=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};_o.DEFAULT_COLLECTION_PERCENTILE=10,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_o.DEFAULT=new _o(41943040,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_o.DISABLED=new _o(-1,0,0);var _f=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var iC=class{constructor(){this.changes=new $a(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ui.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var oC=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var sC=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ff(r.mutation,i,ti.empty(),xn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ke()){let i=Wc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=lf();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Wc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ke()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ss(),s=hf(),a=function(){return hf()}();return t.forEach((l,h)=>{let y=r.get(h.key);i.has(h.key)&&(y===void 0||y.mutation instanceof Co)?o=o.insert(h.key,h):y!==void 0?(s.set(h.key,y.mutation.getFieldMask()),ff(y.mutation,h,y.mutation.getFieldMask(),xn.now())):s.set(h.key,ti.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((h,y)=>s.set(h,y)),t.forEach((h,y)=>{var b;return a.set(h,new oC(y,(b=s.get(h))!==null&&b!==void 0?b:null))}),a))}recalculateAndSaveOverlays(e,t){let r=hf(),i=new zt((s,a)=>s-a),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let h=t.get(l);if(h===null)return;let y=r.get(l)||ti.empty();y=a.applyToLocalView(h,y),r.set(l,y);let b=(i.get(a.batchId)||Ke()).add(l);i=i.insert(a.batchId,b)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),h=l.key,y=l.value,b=gk();y.forEach(C=>{if(!o.has(C)){let T=Ek(t.get(C),r.get(C));T!==null&&b.set(C,T),o=o.add(C)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,b))}return re.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):re.resolve(Wc()),a=-1,l=o;return s.next(h=>re.forEach(h,(y,b)=>(a<b.largestBatchId&&(a=b.largestBatchId),o.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next(C=>{l=l.insert(y,C)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,l,h,Ke())).next(y=>({batchId:a,changes:mk(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(r=>{let i=lf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=lf();return this.indexManager.getCollectionParents(e,o).next(a=>re.forEach(a,l=>{let h=function(b,C){return new Xc(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(y=>{y.forEach((b,C)=>{s=s.insert(b,C)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,h)=>{let y=h.getKey();s.get(y)===null&&(s=s.insert(y,Ui.newInvalidDocument(y)))});let a=lf();return s.forEach((l,h)=>{let y=o.get(l);y!==void 0&&ff(y.mutation,h,ti.empty(),xn.now()),Qy(t,h)&&(a=a.insert(l,h))}),a})}};var aC=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return re.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Eo(i.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:$8(i.bundledQuery),readTime:Eo(i.readTime)}}(t)),re.resolve()}};var cC=class{constructor(){this.overlays=new zt(be.comparator),this.Ir=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Wc();return re.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),re.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){let i=Wc(),o=t.length+1,s=new be(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,h=l.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return re.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new zt((h,y)=>h-y),s=this.overlays.getIterator();for(;s.hasNext();){let h=s.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let y=o.get(h.largestBatchId);y===null&&(y=Wc(),o=o.insert(h.largestBatchId,y)),y.set(h.getKey(),h)}}let a=Wc(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,y)=>a.set(h,y)),!(a.size()>=i)););return re.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new GI(t,r));let o=this.Ir.get(t);o===void 0&&(o=Ke(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var lC=class{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}};var wf=class{constructor(){this.Tr=new zn(nn.Er),this.dr=new zn(nn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new nn(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new nn(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new be(new Vt([])),r=new nn(t,e),i=new nn(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new be(new Vt([])),r=new nn(t,e),i=new nn(t,e+1),o=Ke();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new nn(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},nn=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return be.comparator(e.key,t.key)||ct(e.wr,t.wr)}static Ar(e,t){return ct(e.wr,t.wr)||be.comparator(e.key,t.key)}};var uC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new zn(nn.Er)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new zI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new nn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return re.resolve(s)}lookupMutationBatch(e,t){return re.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new nn(t,0),i=new nn(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zn(ct);return t.forEach(i=>{let o=new nn(i,0),s=new nn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),re.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;be.isDocumentKey(o)||(o=o.child(""));let s=new nn(new be(o),0),a=new zn(ct);return this.br.forEachWhile(l=>{let h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(l.wr)),!0)},s),re.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){pt(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return re.forEach(t.mutations,i=>{let o=new nn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new nn(t,0),i=this.br.firstAfterOrEqual(r);return re.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var dC=class{constructor(e){this.Mr=e,this.docs=function(){return new zt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():Ui.newInvalidDocument(t))}getEntries(e,t){let r=Ss();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ui.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ss(),s=t.path,a=new be(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:h,value:{document:y}}=l.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||ZG(QG(y),r)<=0||(i.has(y.key)||Qy(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,t,r,i){De()}Or(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hC(this)}getSize(e){return re.resolve(this.size)}},hC=class extends iC{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var fC=class{constructor(e){this.persistence=e,this.Nr=new $a(t=>eT(t),tT),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new wf,this.targetCount=0,this.kr=_f.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),re.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new _f(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Kn(t),re.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),re.waitFor(o).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),re.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.Br.containsKey(t))}};var pC=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new tk(0),this.Kr=!1,this.Kr=!0,this.$r=new lC,this.referenceDelegate=e(this),this.Ur=new fC(this),this.indexManager=new nC,this.remoteDocumentCache=function(i){return new dC(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new tC(t),this.Gr=new aC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new uC(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);let i=new mC(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return re.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},mC=class extends DI{constructor(e){super(),this.currentSequenceNumber=e}},gC=class n{constructor(e){this.persistence=e,this.Jr=new wf,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw De()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),re.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Xr,r=>{let i=be.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,Fe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return re.or([()=>re.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var yC=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Ke(),i=Ke();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var vC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var _C=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Z1()?8:XG(bn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new vC;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(cf()<=Ye.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",td(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),re.resolve()):(cf()<=Ye.DEBUG&&ye("QueryEngine","Query:",td(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(cf()<=Ye.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",td(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bo(t))):re.resolve())}Yi(e,t){if(RN(t))return re.resolve(null);let r=bo(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=BI(t,null,"F"),r=bo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ke(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let h=this.ts(t,a);return this.ns(t,h,s,l.readTime)?this.Yi(e,BI(t,null,"F")):this.rs(e,h,t,l)}))})))}Zi(e,t,r,i){return RN(t)||i.isEqual(Fe.min())?re.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?re.resolve(null):(cf()<=Ye.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),td(t)),this.rs(e,s,t,KG(i,-1)).next(a=>a))})}ts(e,t){let r=new zn(fk(e));return t.forEach((i,o)=>{Qy(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return cf()<=Ye.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",td(t)),this.Ji.getDocumentsMatchingQuery(e,t,Zc.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var wC=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new zt(ct),this._s=new $a(o=>eT(o),tT),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function H8(n,e,t,r){return new wC(n,e,t,r)}function Pk(n,e){return D(this,null,function*(){let t=Re(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=Ke();for(let h of i){s.push(h.batchId);for(let y of h.mutations)l=l.add(y.key)}for(let h of o){a.push(h.batchId);for(let y of h.mutations)l=l.add(y.key)}return t.localDocuments.getDocuments(r,l).next(h=>({hs:h,removedBatchIds:s,addedBatchIds:a}))})})})}function z8(n,e){let t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,h,y){let b=h.batch,C=b.keys(),T=re.resolve();return C.forEach(P=>{T=T.next(()=>y.getEntry(l,P)).next(z=>{let $=h.docVersions.get(P);pt($!==null),z.version.compareTo($)<0&&(b.applyToRemoteDocument(z,h),z.isValidDocument()&&(z.setReadTime(h.commitVersion),y.addEntry(z)))})}),T.next(()=>a.mutationQueue.removeMutationBatch(l,b))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ke();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(l=l.add(a.batch.mutations[h].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Nk(n){let e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function q8(n,e){let t=Re(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((y,b)=>{let C=i.get(b);if(!C)return;a.push(t.Ur.removeMatchingKeys(o,y.removedDocuments,b).next(()=>t.Ur.addMatchingKeys(o,y.addedDocuments,b)));let T=C.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?T=T.withResumeToken(qn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),i=i.insert(b,T),function(z,$,K){return z.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(C,T,y)&&a.push(t.Ur.updateTargetData(o,T))});let l=Ss(),h=Ke();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),a.push(G8(o,s,e.documentUpdates).next(y=>{l=y.Ps,h=y.Is})),!r.isEqual(Fe.min())){let y=t.Ur.getLastRemoteSnapshotVersion(o).next(b=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(y)}return re.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,h)).next(()=>l)}).then(o=>(t.os=i,o))}function G8(n,e,t){let r=Ke(),i=Ke();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ss();return t.forEach((a,l)=>{let h=o.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Fe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ye("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function W8(n,e){let t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y8(n,e){let t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,re.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new vf(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function bC(n,e,t){return D(this,null,function*(){let r=Re(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Sf(s))throw s;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function $N(n,e,t){let r=Re(n),i=Fe.min(),o=Ke();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,h,y){let b=Re(l),C=b._s.get(y);return C!==void 0?re.resolve(b.os.get(C)):b.Ur.getTargetData(h,y)}(r,s,bo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:Fe.min(),t?o:Ke())).next(a=>(K8(r,u8(e),a),{documents:a,Ts:o})))}function K8(n,e,t){let r=n.us.get(e)||Fe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Ay=class{constructor(){this.activeTargetIds=g8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var EC=class{constructor(){this.so=new Ay,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ay,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var IC=class{_o(e){}shutdown(){}};var xy=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var dy=null;function mI(){return dy===null?dy=function(){return 268435456+Math.round(2147483648*Math.random())}():dy++,"0x"+dy.toString(16)}var Q8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var CC=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Hn="WebChannelConnection",TC=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=mI(),l=this.xo(t,r.toUriEncodedString());ye("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);let h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,o,s),this.No(t,l,h,i).then(y=>(ye("RestConnection",`Received RPC '${t}' ${a}: `,y),y),y=>{throw ad("RestConnection",`RPC '${t}' ${a} failed with error: `,y,"url: ",l,"request:",i),y})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bd}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=Q8[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=mI();return new Promise((s,a)=>{let l=new lI;l.setWithCredentials(!0),l.listenOnce(uI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case af.NO_ERROR:let y=l.getResponseJson();ye(Hn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),s(y);break;case af.TIMEOUT:ye(Hn,`RPC '${e}' ${o} timed out`),a(new fe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:let b=l.getStatus();if(ye(Hn,`RPC '${e}' ${o} failed with status:`,b,"response text:",l.getResponseText()),b>0){let C=l.getResponseJson();Array.isArray(C)&&(C=C[0]);let T=C?.error;if(T&&T.status&&T.message){let P=function($){let K=$.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(K)>=0?K:Y.UNKNOWN}(T.status);a(new fe(P,T.message))}else a(new fe(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new fe(Y.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{ye(Hn,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(i);ye(Hn,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",h,r,15)})}Bo(e,t,r){let i=mI(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fI(),a=hI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let y=o.join("");ye(Hn,`Creating RPC '${e}' stream ${i}: ${y}`,l);let b=s.createWebChannel(y,l),C=!1,T=!1,P=new CC({Io:$=>{T?ye(Hn,`Not sending because RPC '${e}' stream ${i} is closed:`,$):(C||(ye(Hn,`Opening RPC '${e}' stream ${i} transport.`),b.open(),C=!0),ye(Hn,`RPC '${e}' stream ${i} sending:`,$),b.send($))},To:()=>b.close()}),z=($,K,se)=>{$.listen(K,J=>{try{se(J)}catch(ee){setTimeout(()=>{throw ee},0)}})};return z(b,ed.EventType.OPEN,()=>{T||(ye(Hn,`RPC '${e}' stream ${i} transport opened.`),P.yo())}),z(b,ed.EventType.CLOSE,()=>{T||(T=!0,ye(Hn,`RPC '${e}' stream ${i} transport closed`),P.So())}),z(b,ed.EventType.ERROR,$=>{T||(T=!0,ad(Hn,`RPC '${e}' stream ${i} transport errored:`,$),P.So(new fe(Y.UNAVAILABLE,"The operation could not be completed")))}),z(b,ed.EventType.MESSAGE,$=>{var K;if(!T){let se=$.data[0];pt(!!se);let J=se,ee=J.error||((K=J[0])===null||K===void 0?void 0:K.error);if(ee){ye(Hn,`RPC '${e}' stream ${i} received error:`,ee);let Ie=ee.status,pe=function(N){let L=tn[N];if(L!==void 0)return Ck(L)}(Ie),F=ee.message;pe===void 0&&(pe=Y.INTERNAL,F="Unknown error status: "+Ie+" with message "+ee.message),T=!0,P.So(new fe(pe,F)),b.close()}else ye(Hn,`RPC '${e}' stream ${i} received:`,se),P.bo(se)}}),z(a,dI.STAT_EVENT,$=>{$.stat===ly.PROXY?ye(Hn,`RPC '${e}' stream ${i} detected buffering proxy`):$.stat===ly.NOPROXY&&ye(Hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.wo()},0),P}};function gI(){return typeof document<"u"?document:null}function Zy(n){return new QI(n,!0)}var My=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Ry=class{constructor(e,t,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new My(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return D(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return D(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return D(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Ts(t.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new fe(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>D(this,null,function*(){this.state=0,this.start()}))}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},DC=class extends Ry{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=R8(this.serializer,e),r=function(o){if(!("targetChange"in o))return Fe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?Eo(s.readTime):Fe.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=eC(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=UI(l)?{documents:k8(o,l)}:{query:O8(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Tk(o,s.resumeToken);let h=ZI(o,s.expectedCount);h!==null&&(a.expectedCount=h)}else if(s.snapshotVersion.compareTo(Fe.min())>0){a.readTime=Dy(o,s.snapshotVersion.toTimestamp());let h=ZI(o,s.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,e);let r=L8(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=eC(this.serializer),t.removeTarget=e,this.a_(t)}},SC=class extends Ry{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return pt(!!e.streamToken),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=N8(e.writeResults,e.commitTime),r=Eo(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=eC(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>P8(this.serializer,r))};this.a_(t)}};var AC=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,JI(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(Y.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,JI(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(Y.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},xC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ts(t),this.D_=!1):ye("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var MC=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>D(this,null,function*(){il(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),yield function(l){return D(this,null,function*(){let h=Re(l);h.L_.add(4),yield Af(h),h.q_.set("Unknown"),h.L_.delete(4),yield Jy(h)})}(this))}))}),this.q_=new xC(r,i)}};function Jy(n){return D(this,null,function*(){if(il(n))for(let e of n.B_)yield e(!0)})}function Af(n){return D(this,null,function*(){for(let e of n.B_)yield e(!1)})}function kk(n,e){let t=Re(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),cT(t)?aT(t):Ed(t).r_()&&sT(t,e))}function oT(n,e){let t=Re(n),r=Ed(t);t.N_.delete(e),r.r_()&&Ok(t,e),t.N_.size===0&&(r.r_()?r.o_():il(t)&&t.q_.set("Unknown"))}function sT(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ed(n).A_(e)}function Ok(n,e){n.Q_.xe(e),Ed(n).R_(e)}function aT(n){n.Q_=new KI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ed(n).start(),n.q_.v_()}function cT(n){return il(n)&&!Ed(n).n_()&&n.N_.size>0}function il(n){return Re(n).L_.size===0}function Fk(n){n.Q_=void 0}function Z8(n){return D(this,null,function*(){n.q_.set("Online")})}function J8(n){return D(this,null,function*(){n.N_.forEach((e,t)=>{sT(n,e)})})}function X8(n,e){return D(this,null,function*(){Fk(n),cT(n)?(n.q_.M_(e),aT(n)):n.q_.set("Unknown")})}function eW(n,e,t){return D(this,null,function*(){if(n.q_.set("Online"),e instanceof Cy&&e.state===2&&e.cause)try{yield function(i,o){return D(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Py(n,r)}else if(e instanceof od?n.Q_.Ke(e):e instanceof Iy?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Fe.min()))try{let r=yield Nk(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){let y=o.N_.get(h);y&&o.N_.set(h,y.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,h)=>{let y=o.N_.get(l);if(!y)return;o.N_.set(l,y.withResumeToken(qn.EMPTY_BYTE_STRING,y.snapshotVersion)),Ok(o,l);let b=new vf(y.target,l,h,y.sequenceNumber);sT(o,b)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ye("RemoteStore","Failed to raise snapshot:",r),yield Py(n,r)}})}function Py(n,e,t){return D(this,null,function*(){if(!Sf(e))throw e;n.L_.add(1),yield Af(n),n.q_.set("Offline"),t||(t=()=>Nk(n.localStore)),n.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){ye("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Jy(n)}))})}function Lk(n,e){return e().catch(t=>Py(n,t,e))}function Xy(n){return D(this,null,function*(){let e=Re(n),t=Ha(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;tW(e);)try{let i=yield W8(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,nW(e,i)}catch(i){yield Py(e,i)}Vk(e)&&Uk(e)})}function tW(n){return il(n)&&n.O_.length<10}function nW(n,e){n.O_.push(e);let t=Ha(n);t.r_()&&t.V_&&t.m_(e.mutations)}function Vk(n){return il(n)&&!Ha(n).n_()&&n.O_.length>0}function Uk(n){Ha(n).start()}function rW(n){return D(this,null,function*(){Ha(n).p_()})}function iW(n){return D(this,null,function*(){let e=Ha(n);for(let t of n.O_)e.m_(t.mutations)})}function oW(n,e,t){return D(this,null,function*(){let r=n.O_.shift(),i=qI.from(r,e,t);yield Lk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Xy(n)})}function sW(n,e){return D(this,null,function*(){e&&Ha(n).V_&&(yield function(r,i){return D(this,null,function*(){if(function(s){return I8(s)&&s!==Y.ABORTED}(i.code)){let o=r.O_.shift();Ha(r).s_(),yield Lk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Xy(r)}})}(n,e)),Vk(n)&&Uk(n)})}function HN(n,e){return D(this,null,function*(){let t=Re(n);t.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");let r=il(t);t.L_.add(3),yield Af(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Jy(t)})}function aW(n,e){return D(this,null,function*(){let t=Re(n);e?(t.L_.delete(2),yield Jy(t)):e||(t.L_.add(2),yield Af(t),t.q_.set("Unknown"))})}function Ed(n){return n.K_||(n.K_=function(t,r,i){let o=Re(t);return o.w_(),new DC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Z8.bind(null,n),Ro:J8.bind(null,n),mo:X8.bind(null,n),d_:eW.bind(null,n)}),n.B_.push(e=>D(this,null,function*(){e?(n.K_.s_(),cT(n)?aT(n):n.q_.set("Unknown")):(yield n.K_.stop(),Fk(n))}))),n.K_}function Ha(n){return n.U_||(n.U_=function(t,r,i){let o=Re(t);return o.w_(),new SC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:rW.bind(null,n),mo:sW.bind(null,n),f_:iW.bind(null,n),g_:oW.bind(null,n)}),n.B_.push(e=>D(this,null,function*(){e?(n.U_.s_(),yield Xy(n)):(yield n.U_.stop(),n.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var RC=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function lT(n,e){if(Ts("AsyncQueue",`${e}: ${n}`),Sf(n))return new fe(Y.UNAVAILABLE,`${e}: ${n}`);throw n}var Ny=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||be.comparator(t.key,r.key):(t,r)=>be.comparator(t.key,r.key),this.keyedMap=lf(),this.sortedSet=new zt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var ky=class{constructor(){this.W_=new zt(be.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):De():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},yd=class n{constructor(e,t,r,i,o,s,a,l,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Ny.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ky(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var PC=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},NC=class{constructor(){this.queries=zN(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=Re(t),o=i.queries;i.queries=zN(),o.forEach((s,a)=>{for(let l of a.j_)l.onError(r)})})(this,new fe(Y.ABORTED,"Firestore shutting down"))}};function zN(){return new $a(n=>hk(n),Ky)}function jk(n,e){return D(this,null,function*(){let t=Re(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new PC,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=lT(s,`Initialization of query '${td(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&uT(t)})}function Bk(n,e){return D(this,null,function*(){let t=Re(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function cW(n,e){let t=Re(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&uT(t)}function lW(n,e,t){let r=Re(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function uT(n){n.Y_.forEach(e=>{e.next()})}var kC,qN;(qN=kC||(kC={})).ea="default",qN.Cache="cache";var Oy=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new yd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=yd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==kC.Cache}};var Fy=class{constructor(e){this.key=e}},Ly=class{constructor(e){this.key=e}},OC=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ke(),this.mutatedKeys=Ke(),this.Aa=fk(e),this.Ra=new Ny(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new ky,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,b)=>{let C=i.get(y),T=Qy(this.query,b)?b:null,P=!!C&&this.mutatedKeys.has(C.key),z=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations),$=!1;C&&T?C.data.isEqual(T.data)?P!==z&&(r.track({type:3,doc:T}),$=!0):this.ga(C,T)||(r.track({type:2,doc:T}),$=!0,(l&&this.Aa(T,l)>0||h&&this.Aa(T,h)<0)&&(a=!0)):!C&&T?(r.track({type:0,doc:T}),$=!0):C&&!T&&(r.track({type:1,doc:C}),$=!0,(l||h)&&(a=!0)),$&&(T?(s=s.add(T),o=z?o.add(y):o.delete(y)):(s=s.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let y=this.query.limitType==="F"?s.last():s.first();s=s.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((y,b)=>function(T,P){let z=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return z(T)-z(P)}(y.type,b.type)||this.Aa(y.doc,b.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,h=l!==this.Ea;return this.Ea=l,s.length!==0||h?{snapshot:new yd(this.query,e.Ra,o,s,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ky,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ke(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Ly(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Fy(r))}),t}ba(e){this.Ta=e.Ts,this.da=Ke();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return yd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},FC=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},LC=class{constructor(e){this.key=e,this.va=!1}},VC=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new $a(a=>hk(a),Ky),this.Ma=new Map,this.xa=new Set,this.Oa=new zt(be.comparator),this.Na=new Map,this.La=new wf,this.Ba={},this.ka=new Map,this.qa=_f.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function uW(n,e,t=!0){return D(this,null,function*(){let r=Wk(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield $k(r,e,t,!0),i})}function dW(n,e){return D(this,null,function*(){let t=Wk(n);yield $k(t,e,!0,!1)})}function $k(n,e,t,r){return D(this,null,function*(){let i=yield Y8(n.localStore,bo(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield hW(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&kk(n.remoteStore,i),a})}function hW(n,e,t,r,i){return D(this,null,function*(){n.Ka=(b,C,T)=>function(z,$,K,se){return D(this,null,function*(){let J=$.view.ma(K);J.ns&&(J=yield $N(z.localStore,$.query,!1).then(({documents:F})=>$.view.ma(F,J)));let ee=se&&se.targetChanges.get($.targetId),Ie=se&&se.targetMismatches.get($.targetId)!=null,pe=$.view.applyChanges(J,z.isPrimaryClient,ee,Ie);return WN(z,$.targetId,pe.wa),pe.snapshot})}(n,b,C,T);let o=yield $N(n.localStore,e,!0),s=new OC(e,o.Ts),a=s.ma(o.documents),l=yf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=s.applyChanges(a,n.isPrimaryClient,l);WN(n,t,h.wa);let y=new FC(e,t,s);return n.Fa.set(e,y),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),h.snapshot})}function fW(n,e,t){return D(this,null,function*(){let r=Re(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Ky(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield bC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&oT(r.remoteStore,i.targetId),UC(r,i.targetId)}).catch(Df))):(UC(r,i.targetId),yield bC(r.localStore,i.targetId,!0))})}function pW(n,e){return D(this,null,function*(){let t=Re(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),oT(t.remoteStore,r.targetId))})}function mW(n,e,t){return D(this,null,function*(){let r=EW(n);try{let i=yield function(s,a){let l=Re(s),h=xn.now(),y=a.reduce((T,P)=>T.add(P.key),Ke()),b,C;return l.persistence.runTransaction("Locally write mutations","readwrite",T=>{let P=Ss(),z=Ke();return l.cs.getEntries(T,y).next($=>{P=$,P.forEach((K,se)=>{se.isValidDocument()||(z=z.add(K))})}).next(()=>l.localDocuments.getOverlayedDocuments(T,P)).next($=>{b=$;let K=[];for(let se of a){let J=E8(se,b.get(se.key).overlayedDocument);J!=null&&K.push(new Co(se.key,J,ok(J.value.mapValue),Cs.exists(!0)))}return l.mutationQueue.addMutationBatch(T,h,K,a)}).next($=>{C=$;let K=$.applyToLocalDocumentSet(b,z);return l.documentOverlayCache.saveOverlays(T,$.batchId,K)})}).then(()=>({batchId:C.batchId,changes:mk(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let h=s.Ba[s.currentUser.toKey()];h||(h=new zt(ct)),h=h.insert(a,l),s.Ba[s.currentUser.toKey()]=h}(r,i.batchId,t),yield xf(r,i.changes),yield Xy(r.remoteStore)}catch(i){let o=lT(i,"Failed to persist write");t.reject(o)}})}function Hk(n,e){return D(this,null,function*(){let t=Re(n);try{let r=yield q8(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?pt(s.va):i.removedDocuments.size>0&&(pt(s.va),s.va=!1))}),yield xf(t,r,e)}catch(r){yield Df(r)}})}function GN(n,e,t){let r=Re(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=Re(s);l.onlineState=a;let h=!1;l.queries.forEach((y,b)=>{for(let C of b.j_)C.Z_(a)&&(h=!0)}),h&&uT(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gW(n,e,t){return D(this,null,function*(){let r=Re(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new zt(be.comparator);s=s.insert(o,Ui.newNoDocument(o,Fe.min()));let a=Ke().add(o),l=new Ey(Fe.min(),new Map,new zt(ct),s,a);yield Hk(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),dT(r)}else yield bC(r.localStore,e,!1).then(()=>UC(r,e,t)).catch(Df)})}function yW(n,e){return D(this,null,function*(){let t=Re(n),r=e.batch.batchId;try{let i=yield z8(t.localStore,e);qk(t,r,null),zk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xf(t,i)}catch(i){yield Df(i)}})}function vW(n,e,t){return D(this,null,function*(){let r=Re(n);try{let i=yield function(s,a){let l=Re(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let y;return l.mutationQueue.lookupMutationBatch(h,a).next(b=>(pt(b!==null),y=b.keys(),l.mutationQueue.removeMutationBatch(h,b))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,y,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,y)).next(()=>l.localDocuments.getDocuments(h,y))})}(r.localStore,e);qk(r,e,t),zk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xf(r,i)}catch(i){yield Df(i)}})}function zk(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function qk(n,e,t){let r=Re(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function UC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||Gk(n,r)})}function Gk(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(oT(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),dT(n))}function WN(n,e,t){for(let r of t)r instanceof Fy?(n.La.addReference(r.key,e),_W(n,r)):r instanceof Ly?(ye("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||Gk(n,r.key)):De()}function _W(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(ye("SyncEngine","New document in limbo: "+t),n.xa.add(r),dT(n))}function dT(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new be(Vt.fromString(e)),r=n.qa.next();n.Na.set(r,new LC(t)),n.Oa=n.Oa.insert(t,r),kk(n.remoteStore,new vf(bo(nT(t.path)),r,"TargetPurposeLimboResolution",tk.oe))}}function xf(n,e,t){return D(this,null,function*(){let r=Re(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,t).then(h=>{var y;if((h||t)&&r.isPrimaryClient){let b=h?!h.fromCache:(y=t?.targetChanges.get(l.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(l.targetId,b?"current":"not-current")}if(h){i.push(h);let b=yC.Wi(l.targetId,h);o.push(b)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(l,h){return D(this,null,function*(){let y=Re(l);try{yield y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>re.forEach(h,C=>re.forEach(C.$i,T=>y.persistence.referenceDelegate.addReference(b,C.targetId,T)).next(()=>re.forEach(C.Ui,T=>y.persistence.referenceDelegate.removeReference(b,C.targetId,T)))))}catch(b){if(!Sf(b))throw b;ye("LocalStore","Failed to update sequence numbers: "+b)}for(let b of h){let C=b.targetId;if(!b.fromCache){let T=y.os.get(C),P=T.snapshotVersion,z=T.withLastLimboFreeSnapshotVersion(P);y.os=y.os.insert(C,z)}}})}(r.localStore,o))})}function wW(n,e){return D(this,null,function*(){let t=Re(n);if(!t.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());let r=yield Pk(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new fe(Y.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xf(t,r.hs)}})}function bW(n,e){let t=Re(n),r=t.Na.get(e);if(r&&r.va)return Ke().add(r.key);{let i=Ke(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function Wk(n){let e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gW.bind(null,e),e.Ca.d_=cW.bind(null,e.eventManager),e.Ca.$a=lW.bind(null,e.eventManager),e}function EW(n){let e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vW.bind(null,e),e}var YN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return D(this,null,function*(){this.serializer=Zy(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return H8(this.persistence,new _C,t.initialUser,this.serializer)}Ga(t){return new pC(gC.Zr,this.serializer)}Wa(t){return new EC}terminate(){return D(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var IW=(()=>{class n{initialize(t,r){return D(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>GN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=wW.bind(null,this.syncEngine),yield aW(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new NC}()}createDatastore(t){let r=Zy(t.databaseInfo.databaseId),i=function(s){return new TC(s)}(t.databaseInfo);return function(s,a,l,h){return new AC(s,a,l,h)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,l){return new MC(i,o,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>GN(this.syncEngine,r,0),function(){return xy.D()?new xy:new IC}())}createSyncEngine(t,r){return function(o,s,a,l,h,y,b){let C=new VC(o,s,a,l,h,y);return b&&(C.Qa=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return D(this,null,function*(){var t,r;yield function(o){return D(this,null,function*(){let s=Re(o);ye("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Af(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Vy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var jC=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=En.UNAUTHENTICATED,this.clientId=my.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>D(this,null,function*(){ye("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(ye("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=lT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function yI(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield Pk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function KN(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield CW(n);ye("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>HN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>HN(e.remoteStore,i)),n._onlineComponents=e})}function CW(n){return D(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ad("Error using user provided cache. Falling back to memory cache: "+t),yield yI(n,new YN)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),yield yI(n,new YN);return n._offlineComponents})}function Yk(n){return D(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),yield KN(n,n._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),yield KN(n,new IW))),n._onlineComponents})}function TW(n){return Yk(n).then(e=>e.syncEngine)}function Kk(n){return D(this,null,function*(){let e=yield Yk(n),t=e.eventManager;return t.onListen=uW.bind(null,e.syncEngine),t.onUnlisten=fW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pW.bind(null,e.syncEngine),t})}function DW(n,e,t={}){let r=new Vi;return n.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(o,s,a,l,h){let y=new Vy({next:C=>{y.Za(),s.enqueueAndForget(()=>Bk(o,b));let T=C.docs.has(a);!T&&C.fromCache?h.reject(new fe(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&C.fromCache&&l&&l.source==="server"?h.reject(new fe(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(C)},error:C=>h.reject(C)}),b=new Oy(nT(a.path),y,{includeMetadataChanges:!0,_a:!0});return jk(o,b)}(yield Kk(n),n.asyncQueue,e,t,r)})),r.promise}function SW(n,e,t={}){let r=new Vi;return n.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(o,s,a,l,h){let y=new Vy({next:C=>{y.Za(),s.enqueueAndForget(()=>Bk(o,b)),C.fromCache&&l.source==="server"?h.reject(new fe(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(C)},error:C=>h.reject(C)}),b=new Oy(a,y,{includeMetadataChanges:!0,_a:!0});return jk(o,b)}(yield Kk(n),n.asyncQueue,e,t,r)})),r.promise}function Qk(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var QN=new Map;function Zk(n,e,t){if(!t)throw new fe(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AW(n,e,t,r){if(e===!0&&r===!0)throw new fe(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ZN(n){if(!be.isDocumentKey(n))throw new fe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JN(n){if(be.isDocumentKey(n))throw new fe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ev(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De()}function To(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ev(n);throw new fe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Uy=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},vd=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vI;switch(r.type){case"firstParty":return new EI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return D(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=QN.get(t);r&&(ye("ComponentProvider","Removing Datastore"),QN.delete(t),r.terminate())}(this),Promise.resolve()}};function Jk(n,e,t,r={}){var i;let o=(n=To(n,vd))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ad("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=En.MOCK_USER;else{a=Vg(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new fe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new En(h)}n._authCredentials=new _I(new py(a,l))}}var _d=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},tr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ja=class n extends _d{constructor(e,t,r){super(e,t,nT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new be(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Xk(n,e,...t){if(n=Tt(n),Zk("collection","path",e),n instanceof vd){let r=Vt.fromString(e,...t);return JN(r),new ja(n,null,r)}{if(!(n instanceof tr||n instanceof ja))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Vt.fromString(e,...t));return JN(r),new ja(n.firestore,null,r)}}function hT(n,e,...t){if(n=Tt(n),arguments.length===1&&(e=my.newId()),Zk("doc","path",e),n instanceof vd){let r=Vt.fromString(e,...t);return ZN(r),new tr(n,null,new be(r))}{if(!(n instanceof tr||n instanceof ja))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Vt.fromString(e,...t));return ZN(r),new tr(n.firestore,n instanceof ja?n.converter:null,new be(r))}}var jy=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new My(this,"async_queue_retry"),this.Vu=()=>{let r=gI();r&&ye("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=gI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=gI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Vi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return D(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sf(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ts("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=RC.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&De()}verifyOperationInProgress(){}wu(){return D(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var za=class extends vd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new jy,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return D(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new jy(e),this._firestoreClient=void 0,yield e}})}};function eO(n,e){let t=typeof n=="object"?n:ka(),r=typeof n=="string"?n:e||"(default)",i=Uc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Lg("firestore");o&&Jk(i,...o)}return i}function fT(n){if(n._terminated)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xW(n),n._firestoreClient}function xW(n){var e,t,r;let i=n._freezeSettings(),o=function(a,l,h,y){return new SI(a,l,h,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Qk(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new jC(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var bf=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(qn.fromBase64String(e))}catch(t){throw new fe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var wd=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ef=class{constructor(e){this._methodName=e}};var If=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}};var Cf=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var MW=/^__.*__$/,BC=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,t,this.fieldTransforms):new nl(e,this.data,t,this.fieldTransforms)}},By=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Co(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function tO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}var $C=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Hy(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(tO(this.Cu)&&MW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},HC=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Zy(e)}Qu(e,t,r,i=!1){return new $C({Cu:e,methodName:t,qu:r,path:Fr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function tv(n){let e=n._freezeSettings(),t=Zy(n._databaseId);return new HC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nO(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);pT("Data must be an object, but it was:",s,r);let a=rO(r,s),l,h;if(o.merge)l=new ti(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){let y=[];for(let b of o.mergeFields){let C=zC(e,b,t);if(!s.contains(C))throw new fe(Y.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);oO(y,C)||y.push(C)}l=new ti(y),h=s.fieldTransforms.filter(b=>l.covers(b.field))}else l=null,h=s.fieldTransforms;return new BC(new Or(a),l,h)}var $y=class n extends Ef{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function RW(n,e,t,r){let i=n.Qu(1,e,t);pT("Data must be an object, but it was:",i,r);let o=[],s=Or.empty();rl(r,(l,h)=>{let y=mT(e,l,t);h=Tt(h);let b=i.Nu(y);if(h instanceof $y)o.push(y);else{let C=Mf(h,b);C!=null&&(o.push(y),s.set(y,C))}});let a=new ti(o);return new By(s,a,i.fieldTransforms)}function PW(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[zC(e,r,t)],l=[i];if(o.length%2!=0)throw new fe(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<o.length;C+=2)a.push(zC(e,o[C])),l.push(o[C+1]);let h=[],y=Or.empty();for(let C=a.length-1;C>=0;--C)if(!oO(h,a[C])){let T=a[C],P=l[C];P=Tt(P);let z=s.Nu(T);if(P instanceof $y)h.push(T);else{let $=Mf(P,z);$!=null&&(h.push(T),y.set(T,$))}}let b=new ti(h);return new By(y,b,s.fieldTransforms)}function NW(n,e,t,r=!1){return Mf(t,n.Qu(r?4:3,e))}function Mf(n,e){if(iO(n=Tt(n)))return pT("Unsupported field value:",e,n),rO(n,e);if(n instanceof Ef)return function(r,i){if(!tO(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=Mf(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return y8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=xn.fromDate(r);return{timestampValue:Dy(i.serializer,o)}}if(r instanceof xn){let o=new xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dy(i.serializer,o)}}if(r instanceof If)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bf)return{bytesValue:Tk(i.serializer,r._byteString)};if(r instanceof tr){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:iT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Cf)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return rT(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ev(r)}`)}(n,e)}function rO(n,e){let t={};return nk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rl(n,(r,i)=>{let o=Mf(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function iO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xn||n instanceof If||n instanceof bf||n instanceof tr||n instanceof Ef||n instanceof Cf)}function pT(n,e,t){if(!iO(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=ev(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function zC(n,e,t){if((e=Tt(e))instanceof wd)return e._internalPath;if(typeof e=="string")return mT(n,e);throw Hy("Field path arguments must be of type string or ",n,!1,void 0,t)}var kW=new RegExp("[~\\*/\\[\\]]");function mT(n,e,t){if(e.search(kW)>=0)throw Hy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wd(...e.split("."))._internalPath}catch{throw Hy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Hy(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new fe(Y.INVALID_ARGUMENT,a+n+l)}function oO(n,e){return n.some(t=>t.isEqual(e))}var zy=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new qC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(gT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},qC=class extends zy{data(){return super.data()}};function gT(n,e){return typeof e=="string"?mT(n,e):e instanceof wd?e._internalPath:e._delegate._internalPath}function OW(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tf=class{},GC=class extends Tf{};function sO(n,e,...t){let r=[];e instanceof Tf&&r.push(e),r=r.concat(t),function(o){let s=o.filter(l=>l instanceof WC).length,a=o.filter(l=>l instanceof qy).length;if(s>1||s>0&&a>0)throw new fe(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var qy=class n extends GC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return cO(e._query,t),new _d(e.firestore,e.converter,jI(e._query,t))}_parse(e){let t=tv(e.firestore);return function(o,s,a,l,h,y,b){let C;if(h.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){ek(b,y);let T=[];for(let P of b)T.push(XN(l,o,P));C={arrayValue:{values:T}}}else C=XN(l,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||ek(b,y),C=NW(a,s,b,y==="in"||y==="not-in");return rn.create(h,y,C)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function aO(n,e,t){let r=e,i=gT("where",n);return qy._create(i,r,t)}var WC=class n extends Tf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ji.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)cO(s,l),s=jI(s,l)}(e._query,t),new _d(e.firestore,e.converter,jI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function XN(n,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new fe(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dk(e)&&t.indexOf("/")!==-1)throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Vt.fromString(t));if(!be.isDocumentKey(r))throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TN(n,new be(r))}if(t instanceof tr)return TN(n,t._key);throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ev(t)}.`)}function ek(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cO(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var YC=class{convertValue(e,t="none"){switch(Jc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return rl(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Rt(s.doubleValue));return new Cf(o)}convertGeoPoint(e){return new If(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=JC(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mf(e));default:return null}}convertTimestamp(e){let t=Ds(e);return new xn(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Vt.fromString(e);pt(Rk(r));let i=new _y(r.get(1),r.get(3)),o=new be(r.popFirst(5));return i.isEqual(t)||Ts(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function lO(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Kc=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Gy=class extends zy{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(gT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},sd=class extends Gy{data(e={}){return super.data(e)}},KC=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Kc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new sd(this._firestore,this._userDataWriter,r.key,r,new Kc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new sd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Kc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new sd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Kc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),h=-1,y=-1;return a.type!==0&&(h=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),y=s.indexOf(a.doc.key)),{type:FW(a.type),doc:l,oldIndex:h,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function FW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}function uO(n){n=To(n,tr);let e=To(n.firestore,za);return DW(fT(e),n._key).then(t=>LW(e,n,t))}var Wy=class extends YC{constructor(e){super(),this.firestore=e}convertBytes(e){return new bf(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}};function dO(n){n=To(n,_d);let e=To(n.firestore,za),t=fT(e),r=new Wy(e);return OW(n._query),SW(t,n._query).then(i=>new KC(e,r,n,i))}function hO(n,e,t){n=To(n,tr);let r=To(n.firestore,za),i=lO(n.converter,e,t);return yT(r,[nO(tv(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Cs.none())])}function fO(n,e,t,...r){n=To(n,tr);let i=To(n.firestore,za),o=tv(i),s;return s=typeof(e=Tt(e))=="string"||e instanceof wd?PW(o,"updateDoc",n._key,e,t,r):RW(o,"updateDoc",n._key,e),yT(i,[s.toMutation(n._key,Cs.exists(!0))])}function pO(n,e){let t=To(n.firestore,za),r=hT(n),i=lO(n.converter,e);return yT(t,[nO(tv(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Cs.exists(!1))]).then(()=>r)}function yT(n,e){return function(r,i){let o=new Vi;return r.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return mW(yield TW(r),i,o)})),o.promise}(fT(n),e)}function LW(n,e,t){let r=t.docs.get(e._key),i=new Wy(n);return new Gy(n,i,e._key,r,new Kc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){bd=i})(go),mo(new ur("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new za(new wI(r.getProvider("auth-internal")),new CI(r.getProvider("app-check-internal")),function(h,y){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new fe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _y(h.options.projectId,y)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),xt(bN,"4.7.3",e),xt(bN,"4.7.3","esm2017")})();var Dt=class{constructor(e){return e}},mO="firestore",vT=class{constructor(){return Bc(mO)}};var _T=new ce("angularfire2.firestore-instances");function VW(n,e){let t=Zu(mO,n,e);return t&&new Dt(t)}function UW(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Dt(r)}}var jW={provide:vT,deps:[[new Wt,_T]]},BW={provide:Dt,useFactory:VW,deps:[[new Wt,_T],Li]};function gO(n,...e){return xt("angularfire",ms.full,"fst"),Fn([BW,jW,{provide:_T,useFactory:UW(n),multi:!0,deps:[We,Xt,Fa,gs,[new Wt,Gc],[new Wt,Oa],...e]}])}var qa=Mt(pO,!0);var on=Mt(Xk,!0);var It=Mt(hT,!0);var Lr=Mt(uO,!0);var dr=Mt(dO,!0);var yO=Mt(eO,!0);var nv=Mt(sO,!0);var rv=Mt(hO,!0);var hr=Mt(fO,!0);var iv=Mt(aO,!0);var bT=Yo(Ga());var Pt=class n{constructor(e,t){this.auth=e;this.firestore=t;this.auth.onAuthStateChanged(r=>{r?(this.currentUser=r,this.isLoggedInEmitter.emit(!0)):(this.currentUser=null,this.isLoggedInEmitter.emit(!1))})}isLoggedInEmitter=new ht;currentUser=null;login(e,t){return gN(this.auth,e,t).then(r=>(this.isLoggedInEmitter.emit(!0),r))}registro(e,t){return fN(this.auth,e,t).then(r=>this.logout().then(()=>r))}logout(){return yN(this.auth).then(()=>{this.isLoggedInEmitter.emit(!1),this.currentUser=null})}getCurrentUser(){return this.currentUser}getUserProfile(){return D(this,null,function*(){let e=this.auth.currentUser;if(!e)throw new Error("No hay un usuario autenticado.");let t=It(this.firestore,`usuarios/${e.uid}`),r=yield Lr(t);if(!r.exists())throw new Error("Perfil de usuario no encontrado en la base de datos.");return r.data()})}static \u0275fac=function(t){return new(t||n)(ue(Es),ue(Dt))};static \u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})};var $W=()=>["/registro"];function HW(n,e){n&1&&(M(0,"div"),O(1,"El campo email es requerido"),S())}function zW(n,e){n&1&&(M(0,"div"),O(1,"Formato de email inv\xE1lido."),S())}function qW(n,e){if(n&1&&(M(0,"div",12),oe(1,HW,2,0,"div",13)(2,zW,2,0,"div",13),S()),n&2){let t,r,i=X();U(),q("ngIf",(t=i.loginForm.get("email"))==null||t.errors==null?null:t.errors.required),U(),q("ngIf",(r=i.loginForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function GW(n,e){n&1&&(M(0,"div"),O(1,"Contrase\xF1a requerida."),S())}function WW(n,e){n&1&&(M(0,"div"),O(1,"Largo m\xEDnimo 6 caracteres."),S())}function YW(n,e){if(n&1&&(M(0,"div",12),oe(1,GW,2,0,"div",13)(2,WW,2,0,"div",13),S()),n&2){let t,r,i=X();U(),q("ngIf",(t=i.loginForm.get("password"))==null||t.errors==null?null:t.errors.required),U(),q("ngIf",(r=i.loginForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}function KW(n,e){if(n&1&&Ze(0,"img",16),n&2){let t=X().$implicit;Eu("alt",t.nombre),q("src",t.imgUrl,fa)}}function QW(n,e){if(n&1){let t=Ue();M(0,"button",14),ge("click",function(){let i=Ce(t).$implicit,o=X();return Te(o.autocompletarConUsuario(i))}),oe(1,KW,1,2,"img",15),S()}if(n&2){let t=e.$implicit;U(),q("ngIf",t.imgUrl)}}function ZW(n,e){if(n&1&&(M(0,"div",17)(1,"p"),O(2),S()()),n&2){let t=X();U(2),_t(t.msjError)}}var ov=class n{constructor(e,t,r,i){this.router=e;this.fb=t;this.firestore=r;this.authService=i;this.loginForm=this.fb.group({email:["",[we.required,we.email]],password:["",[we.required,we.minLength(6)]]})}loginForm;flagError=!1;msjError="";usuariosAccesoRapido=[{nombre:"Paciente Uno",email:"gianfranco.chiarizia+test1@gmail.com",password:"1234hola",imgUrl:"https://firebasestorage.googleapis.com/v0/b/labiv-tp-final-56381.firebasestorage.app/o/usuarios%2FzEOCTjvhQoYH9htTdMgiSw0YB8i2%2F1-images%20(1).png?alt=media&token=fd4401ca-85f1-42fd-bc50-57248a0f2c99"},{nombre:"Paciente Dos",email:"gianfrancochiarizia+test2@gmail.com",password:"1234hola",imgUrl:"https://firebasestorage.googleapis.com/v0/b/labiv-tp-final-56381.firebasestorage.app/o/usuarios%2FnoxQ5DY9FQhbUslJz5B6lrWmQa52%2F1-images%20(2).jpg?alt=media&token=1857e512-ad50-41da-afd2-9cb78da518cd"},{nombre:"Paciente Tres",email:"gianfrancochiarizia+test4@gmail.com",password:"1234hola",imgUrl:"https://firebasestorage.googleapis.com/v0/b/labiv-tp-final-56381.firebasestorage.app/o/usuarios%2FD65uv4JE6iaNHsOCbsuZVX9C4W32%2F1-images.jpg?alt=media&token=2e1a3c34-db2b-4cd2-80dc-120aa7233655"},{nombre:"Especialista Uno",email:"gianfrancochiarizia+test3@gmail.com",password:"1234hola",imgUrl:"https://firebasestorage.googleapis.com/v0/b/labiv-tp-final-56381.firebasestorage.app/o/usuarios%2FNkDLrITUJ7TLkt6a1RxOE6UCvsw2%2F1-images%20(4).jpg?alt=media&token=5dce33ac-b36e-4dd3-a5b3-1954f3b3ccf1"},{nombre:"Especialista Dos",email:"gianfranco.chiarizia+test5@gmail.com",password:"1234hola",imgUrl:"https://firebasestorage.googleapis.com/v0/b/labiv-tp-final-56381.firebasestorage.app/o/usuarios%2FCzmwgIdhzZeigo9PH1ulh9bccim2%2F1-8dc56b05c21e5b4b45fbb937d455b0e9.jpg?alt=media&token=ec68dc88-a9a7-4b30-b503-abd11a116990"},{nombre:"Administrador",email:"admin@test.com",password:"1234hola",imgUrl:"https://firebasestorage.googleapis.com/v0/b/labiv-tp-final-56381.firebasestorage.app/o/usuarios%2FJb3b5YOB0OVbw38Kro2NGZRT5aX2%2Fimages%20(3).jpg?alt=media&token=b3c1261b-16e6-44d1-a312-809623fd46c3"}];autocompletarConUsuario(e){this.loginForm.patchValue({email:e.email,password:e.password})}autocompletarLogin(){this.loginForm.patchValue({email:"admin@test.com",password:"1234hola"})}Login(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}let e=this.loginForm.get("email")?.value,t=this.loginForm.get("password")?.value;this.authService.login(e,t).then(r=>{let i=r.user;console.log("UID del usuario al hacer login:",i.uid);let o=It(this.firestore,`usuarios/${i.uid}`);return Lr(o).then(s=>{if(!s.exists())throw new Error("Usuario no encontrado en la base de datos.");let a=s.data();if(a.tipoUsuario!=="administrador"&&!i.emailVerified)throw new Error("Correo no verificado. Por favor, verifica tu correo antes de iniciar sesi\xF3n.");if(a.tipoUsuario==="especialista"&&!a.aprobado)throw new Error("Tu cuenta de especialista no ha sido aprobada por el administrador.");let l=on(this.firestore,"logins");return qa(l,{fecha:new Date,email:e})})}).then(()=>{bT.default.fire({title:"Bienvenid@!",text:"Has iniciado sesi\xF3n correctamente",icon:"success",customClass:{popup:"alert-popup",title:"alert-titulo",confirmButton:"alert-boton"}}).then(()=>{this.router.navigate(["/home"])})}).catch(r=>{console.error("Error en el login:",r);let i=r.message||"Error desconocido al iniciar sesi\xF3n";switch(r.code){case"auth/wrong-password":i="Contrase\xF1a incorrecta";break;case"auth/invalid-credential":i="Credenciales inv\xE1lidas";break;case"auth/user-not-found":i="Usuario no encontrado";break;case"auth/invalid-email":i="Email inv\xE1lido";break}bT.default.fire({icon:"error",title:"Error de Login",text:i,customClass:{popup:"alert-popup",title:"alert-titulo-error",confirmButton:"alert-boton"}})})}static \u0275fac=function(t){return new(t||n)(Z(At),Z(ho),Z(Dt),Z(Pt))};static \u0275cmp=vt({type:n,selectors:[["app-login"]],standalone:!0,features:[Et],decls:21,vars:8,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["for","email"],["type","text","formControlName","email","id","email","required",""],["class","error",4,"ngIf"],["for","password"],["type","password","formControlName","password","id","password","required",""],["type","submit",3,"disabled"],[1,"botones-acceso-rapido"],["class","boton-usuario",3,"click",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],[3,"routerLink"],[1,"error"],[4,"ngIf"],[1,"boton-usuario",3,"click"],["class","usuario-imagen",3,"src","alt",4,"ngIf"],[1,"usuario-imagen",3,"src","alt"],[1,"error-message"]],template:function(t,r){if(t&1&&(M(0,"div",0)(1,"form",1),ge("ngSubmit",function(){return r.Login()}),M(2,"h2"),O(3,"Inicie Sesi\xF3n"),S(),M(4,"label",2),O(5,"Email:"),S(),Ze(6,"input",3),oe(7,qW,3,2,"div",4),M(8,"label",5),O(9,"Contrase\xF1a:"),S(),Ze(10,"input",6),oe(11,YW,3,2,"div",4),M(12,"button",7),O(13,"Ingresar"),S()(),M(14,"div",8),oe(15,QW,2,1,"button",9),S(),oe(16,ZW,3,1,"div",10),M(17,"p"),O(18,"Registrate "),M(19,"a",11),O(20,"aqui"),S()()()),t&2){let i,o;U(),q("formGroup",r.loginForm),U(6),q("ngIf",((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched)),U(4),q("ngIf",((o=r.loginForm.get("password"))==null?null:o.invalid)&&((o=r.loginForm.get("password"))==null?null:o.touched)),U(),q("disabled",r.loginForm.invalid),U(3),q("ngForOf",r.usuariosAccesoRapido),U(),q("ngIf",r.flagError),U(3),q("routerLink",jm(7,$W))}},dependencies:[$n,Aa,co,lo,Sa,hs,uo,ds,Ca,Ea,Lt,Bn,_n],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#7e98f4,#ebb3b3)}.login-container[_ngcontent-%COMP%]{width:700px;font-family:system-ui;padding:20px;border:2px solid #000000;border-radius:10px;box-shadow:0 2px 10px #0000001a;background:linear-gradient(135deg,#d5e3fa,#bfb3f2)}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:8px;margin:10px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box;font-family:inherit}button[_ngcontent-%COMP%]{background-color:#ac57b1;color:#fff;padding:14px 20px;margin:8px 0;border:none;border-radius:20px;cursor:pointer;width:100%;font-family:inherit}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.error[_ngcontent-%COMP%]{color:red;font-size:12px}.boton-usuario[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:95px;height:95px;border-radius:50%;margin:10px;border:none;background-color:#f8f9fa;box-shadow:0 4px 10px #0000001a;cursor:pointer;overflow:hidden;transition:transform .2s,box-shadow .2s}.boton-usuario[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 15px #0003}.usuario-imagen[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}"]})};var ol=Yo(Ga());var JW=new ce("recaptcha-language"),XW=new ce("recaptcha-base-url"),e9=new ce("recaptcha-nonce-tag"),t9=new ce("recaptcha-settings"),n9=new ce("recaptcha-v3-site-key"),r9=new ce("recaptcha-loader-options");function i9(n,e,t,{url:r,lang:i,nonce:o}={}){window.ng2recaptchaloaded=()=>{t(grecaptcha)};let s=document.createElement("script");s.innerHTML="";let{url:a,nonce:l}=e(new URL(r||"https://www.google.com/recaptcha/api.js"));a.searchParams.set("render",n==="explicit"?n:n.key),a.searchParams.set("onload","ng2recaptchaloaded"),a.searchParams.set("trustedtypes","true"),i&&a.searchParams.set("hl",i),s.src=a.href;let h=l||o;h&&s.setAttribute("nonce",h),s.async=!0,s.defer=!0,document.head.appendChild(s)}function o9({v3SiteKey:n,onBeforeLoad:e,onLoaded:t}){let r=n?{key:n}:"explicit";vO.loadScript(r,e,t)}var vO={loadScript:i9,newLoadScript:o9};function s9(n){return n.asObservable().pipe(On(e=>e!==null))}var _O=(()=>{class n{static{this.ready=null}constructor(t,r,i,o,s,a){this.platformId=t,this.language=r,this.baseUrl=i,this.nonce=o,this.v3SiteKey=s,this.options=a;let l=this.init();this.ready=l?s9(l):_e()}init(){if(n.ready)return n.ready;if(!zw(this.platformId))return;let t=new mn(null);return n.ready=t,vO.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:r=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(r);let i=new URL(this.baseUrl??r);return this.language&&i.searchParams.set("hl",this.language),{url:i,nonce:this.nonce}},onLoaded:r=>{let i=r;this.options?.onLoaded&&(i=this.options.onLoaded(r)),t.next(i)}}),t}static{this.\u0275fac=function(r){return new(r||n)(ue(Vn),ue(JW,8),ue(XW,8),ue(e9,8),ue(n9,8),ue(r9,8))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})(),a9=0,wO=(()=>{class n{constructor(t,r,i,o){this.elementRef=t,this.loader=r,this.zone=i,this.id=`ngrecaptcha-${a9++}`,this.errorMode="default",this.resolved=new ht,this.error=new ht,this.errored=new ht,o&&(this.siteKey=o.siteKey,this.theme=o.theme,this.type=o.type,this.size=o.size,this.badge=o.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{t!=null&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(t){this.error.emit(t),this.errored.emit(t)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let t={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(t["error-callback"]=(...r)=>{this.zone.run(()=>this.onError(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,t),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}static{this.\u0275fac=function(r){return new(r||n)(Z(An),Z(_O),Z(We),Z(t9,8))}}static{this.\u0275cmp=vt({type:n,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(r,i){r&2&&Ac("id",i.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return n})(),c9=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mr({type:n})}static{this.\u0275inj=xr({})}}return n})(),bO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mr({type:n})}static{this.\u0275inj=xr({providers:[_O],imports:[c9]})}}return n})();var AO="firebasestorage.googleapis.com",xO="storageBucket",u9=2*60*1e3,d9=10*60*1e3;var qt=class n extends er{constructor(e,t,r=0){super(ET(e),`Firebase Storage: ${t} (${ET(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ET(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Yt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Yt||{});function ET(n){return"storage/"+n}function AT(){let n="An unknown error occurred, please check the error payload for server response.";return new qt(Yt.UNKNOWN,n)}function h9(n){return new qt(Yt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function f9(n){return new qt(Yt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function p9(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qt(Yt.UNAUTHENTICATED,n)}function m9(){return new qt(Yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function g9(n){return new qt(Yt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function y9(){return new qt(Yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function v9(){return new qt(Yt.CANCELED,"User canceled the upload/download.")}function _9(n){return new qt(Yt.INVALID_URL,"Invalid URL '"+n+"'.")}function w9(n){return new qt(Yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function b9(){return new qt(Yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xO+"' property when initializing the app?")}function E9(){return new qt(Yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function I9(){return new qt(Yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function C9(n){return new qt(Yt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function IT(n){return new qt(Yt.INVALID_ARGUMENT,n)}function MO(){return new qt(Yt.APP_DELETED,"The Firebase app was deleted.")}function T9(n){return new qt(Yt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pf(n,e){return new qt(Yt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Rf(n){throw new qt(Yt.INTERNAL_ERROR,"Internal error: "+n)}var $i=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw w9(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function h(ee){ee.path_=decodeURIComponent(ee.path)}let y="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",T=new RegExp(`^https?://${b}/${y}/b/${i}/o${C}`,"i"),P={bucket:1,path:3},z=t===AO?"(?:storage.googleapis.com|storage.cloud.google.com)":t,$="([^?#]*)",K=new RegExp(`^https?://${z}/${i}/${$}`,"i"),J=[{regex:a,indices:l,postModify:o},{regex:T,indices:P,postModify:h},{regex:K,indices:{bucket:1,path:2},postModify:h}];for(let ee=0;ee<J.length;ee++){let Ie=J[ee],pe=Ie.regex.exec(e);if(pe){let F=pe[Ie.indices.bucket],A=pe[Ie.indices.path];A||(A=""),r=new n(F,A),Ie.postModify(r);break}}if(r==null)throw _9(e);return r}},CT=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function D9(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let h=!1;function y(...$){h||(h=!0,e.apply(null,$))}function b($){i=setTimeout(()=>{i=null,n(T,l())},$)}function C(){o&&clearTimeout(o)}function T($,...K){if(h){C();return}if($){C(),y.call(null,$,...K);return}if(l()||s){C(),y.call(null,$,...K);return}r<64&&(r*=2);let J;a===1?(a=2,J=0):J=(r+Math.random())*1e3,b(J)}let P=!1;function z($){P||(P=!0,C(),!h&&(i!==null?($||(a=2),clearTimeout(i),b(0)):$||(a=1)))}return b(0),o=setTimeout(()=>{s=!0,z(!0)},t),z}function S9(n){n(!1)}function A9(n){return n!==void 0}function x9(n){return typeof n=="object"&&!Array.isArray(n)}function xT(n){return typeof n=="string"||n instanceof String}function EO(n){return MT()&&n instanceof Blob}function MT(){return typeof Blob<"u"}function IO(n,e,t,r){if(r<e)throw IT(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw IT(`Invalid value for '${n}'. Expected ${t} or less.`)}function RT(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function RO(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Cd=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Cd||{});function M9(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var TT=class{constructor(e,t,r,i,o,s,a,l,h,y,b,C=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=h,this.progressCallback_=y,this.connectionFactory_=b,this.retry=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,P)=>{this.resolve_=T,this.reject_=P,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Id(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let l=a.loaded,h=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,h)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Cd.NO_ERROR,l=o.getStatus();if(!a||M9(l,this.additionalRetryCodes_)&&this.retry){let y=o.getErrorCode()===Cd.ABORT;r(!1,new Id(!1,null,y));return}let h=this.successCodes_.indexOf(l)!==-1;r(!0,new Id(h,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());A9(l)?o(l):o()}catch(l){s(l)}else if(a!==null){let l=AT();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){let l=this.appDelete_?MO():v9();s(l)}else{let l=y9();s(l)}};this.canceled_?t(!1,new Id(!1,null,!0)):this.backoffId_=D9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&S9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Id=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function R9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function P9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function N9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function k9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function O9(n,e,t,r,i,o,s=!0){let a=RO(n.urlParams),l=n.url+a,h=Object.assign({},n.headers);return N9(h,e),R9(h,t),P9(h,o),k9(h,r),new TT(l,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}function F9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function L9(...n){let e=F9();if(e!==void 0){let t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(MT())return new Blob(n);throw new qt(Yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function V9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function U9(n){if(typeof atob>"u")throw C9("base-64");return atob(n)}var Ao={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Nf=class{constructor(e,t){this.data=e,this.contentType=t||null}};function j9(n,e){switch(n){case Ao.RAW:return new Nf(PO(e));case Ao.BASE64:case Ao.BASE64URL:return new Nf(NO(n,e));case Ao.DATA_URL:return new Nf($9(e),H9(e))}throw AT()}function PO(n){let e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=n.charCodeAt(++t);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function B9(n){let e;try{e=decodeURIComponent(n)}catch{throw Pf(Ao.DATA_URL,"Malformed data URL.")}return PO(e)}function NO(n,e){switch(n){case Ao.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Pf(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ao.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Pf(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=U9(e)}catch(i){throw i.message.includes("polyfill")?i:Pf(n,"Invalid character found")}let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}var av=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw Pf(Ao.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;r!=null&&(this.base64=z9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function $9(n){let e=new av(n);return e.base64?NO(Ao.BASE64,e.rest):B9(e.rest)}function H9(n){return new av(n).contentType}function z9(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var cv=class n{constructor(e,t){let r=0,i="";EO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(EO(this.data_)){let r=this.data_,i=V9(r,e,t);return i===null?null:new n(i)}else{let r=new Uint8Array(this.data_.buffer,e,t-e);return new n(r,!0)}}static getBlob(...e){if(MT()){let t=e.map(r=>r instanceof n?r.data_:r);return new n(L9.apply(null,t))}else{let t=e.map(s=>xT(s)?j9(Ao.RAW,s).data:s.data_),r=0;t.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new n(i,!0)}}uploadData(){return this.data_}};function kO(n){let e;try{e=JSON.parse(n)}catch{return null}return x9(e)?e:null}function q9(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function G9(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function OO(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function W9(n,e){return e}var Mn=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||W9}},sv=null;function Y9(n){return!xT(n)||n.length<2?n:OO(n)}function FO(){if(sv)return sv;let n=[];n.push(new Mn("bucket")),n.push(new Mn("generation")),n.push(new Mn("metageneration")),n.push(new Mn("name","fullPath",!0));function e(o,s){return Y9(s)}let t=new Mn("name");t.xform=e,n.push(t);function r(o,s){return s!==void 0?Number(s):s}let i=new Mn("size");return i.xform=r,n.push(i),n.push(new Mn("timeCreated")),n.push(new Mn("updated")),n.push(new Mn("md5Hash",null,!0)),n.push(new Mn("cacheControl",null,!0)),n.push(new Mn("contentDisposition",null,!0)),n.push(new Mn("contentEncoding",null,!0)),n.push(new Mn("contentLanguage",null,!0)),n.push(new Mn("contentType",null,!0)),n.push(new Mn("metadata","customMetadata",!0)),sv=n,sv}function K9(n,e){function t(){let r=n.bucket,i=n.fullPath,o=new $i(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function Q9(n,e,t){let r={};r.type="file";let i=t.length;for(let o=0;o<i;o++){let s=t[o];r[s.local]=s.xform(r,e[s.server])}return K9(r,n),r}function LO(n,e,t){let r=kO(e);return r===null?null:Q9(n,r,t)}function Z9(n,e,t,r){let i=kO(e);if(i===null||!xT(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(h=>{let y=n.bucket,b=n.fullPath,C="/b/"+s(y)+"/o/"+s(b),T=RT(C,t,r),P=RO({alt:"media",token:h});return T+P})[0]}function J9(n,e){let t={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}var lv=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function VO(n){if(!n)throw AT()}function X9(n,e){function t(r,i){let o=LO(n,i,e);return VO(o!==null),o}return t}function e7(n,e){function t(r,i){let o=LO(n,i,e);return VO(o!==null),Z9(o,i,n.host,n._protocol)}return t}function UO(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=m9():i=p9():t.getStatus()===402?i=f9(n.bucket):t.getStatus()===403?i=g9(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function t7(n){let e=UO(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=h9(n.path)),o.serverResponse=i.serverResponse,o}return t}function n7(n,e,t){let r=e.fullServerUrl(),i=RT(r,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new lv(i,o,e7(n,t),s);return a.errorHandler=t7(e),a}function r7(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function i7(n,e,t){let r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=r7(null,e)),r}function o7(n,e,t,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let J="";for(let ee=0;ee<2;ee++)J=J+Math.random().toString().slice(2);return J}let l=a();s["Content-Type"]="multipart/related; boundary="+l;let h=i7(e,r,i),y=J9(h,t),b="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,C=`\r
--`+l+"--",T=cv.getBlob(b,r,C);if(T===null)throw E9();let P={name:h.fullPath},z=RT(o,n.host,n._protocol),$="POST",K=n.maxUploadRetryTime,se=new lv(z,$,X9(n,t),K);return se.urlParams=P,se.headers=s,se.body=T.uploadData(),se.errorHandler=UO(e),se}var wae=256*1024;var CO=null,DT=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Rf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},ST=class extends DT{initXhr(){this.xhr_.responseType="text"}};function jO(){return CO?CO():new ST}var Td=class n{constructor(e,t){this._service=e,t instanceof $i?this._location=t:this._location=$i.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new $i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OO(this._location.path)}get storage(){return this._service}get parent(){let e=q9(this._location.path);if(e===null)return null;let t=new $i(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw T9(e)}};function s7(n,e,t){n._throwIfRoot("uploadBytes");let r=o7(n.storage,n._location,FO(),new cv(e,!0),t);return n.storage.makeRequestWithTokens(r,jO).then(i=>({metadata:i,ref:n}))}function a7(n){n._throwIfRoot("getDownloadURL");let e=n7(n.storage,n._location,FO());return n.storage.makeRequestWithTokens(e,jO).then(t=>{if(t===null)throw I9();return t})}function c7(n,e){let t=G9(n._location.path,e),r=new $i(n._location.bucket,t);return new Td(n.storage,r)}function l7(n){return/^[A-Za-z]+:\/\//.test(n)}function u7(n,e){return new Td(n,e)}function BO(n,e){if(n instanceof kf){let t=n;if(t._bucket==null)throw b9();let r=new Td(t,t._bucket);return e!=null?BO(r,e):r}else return e!==void 0?c7(n,e):n}function d7(n,e){if(e&&l7(e)){if(n instanceof kf)return u7(n,e);throw IT("To use ref(service, url), the first argument must be a Storage instance.")}else return BO(n,e)}function TO(n,e){let t=e?.[xO];return t==null?null:$i.makeFromBucketSpec(t,n)}function h7(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Vg(i,n.app.options.projectId))}var kf=class{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=AO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u9,this._maxUploadRetryTime=d9,this._requests=new Set,i!=null?this._bucket=$i.makeFromBucketSpec(i,this._host):this._bucket=TO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$i.makeFromBucketSpec(this._url,e):this._bucket=TO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return D(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return D(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Td(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new CT(MO());{let s=O9(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return D(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},DO="@firebase/storage",SO="0.13.2";var $O="storage";function HO(n,e,t){return n=Tt(n),s7(n,e,t)}function zO(n){return n=Tt(n),a7(n)}function qO(n,e){return n=Tt(n),d7(n,e)}function GO(n=ka(),e){n=Tt(n);let r=Uc(n,$O).getImmediate({identifier:e}),i=Lg("storage");return i&&WO(r,...i),r}function WO(n,e,t,r={}){h7(n,e,t,r)}function f7(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new kf(t,r,i,e,go)}function p7(){mo(new ur($O,f7,"PUBLIC").setMultipleInstances(!0)),xt(DO,SO,""),xt(DO,SO,"esm2017")}p7();var Of=class{constructor(e){return e}},YO="storage",PT=class{constructor(){return Bc(YO)}};var NT=new ce("angularfire2.storage-instances");function m7(n,e){let t=Zu(YO,n,e);return t&&new Of(t)}function g7(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Of(r)}}var y7={provide:PT,deps:[[new Wt,NT]]},v7={provide:Of,useFactory:m7,deps:[[new Wt,NT],Li]};function KO(n,...e){return xt("angularfire",ms.full,"gcs"),Fn([v7,y7,{provide:NT,useFactory:g7(n),multi:!0,deps:[We,Xt,Fa,gs,[new Wt,Gc],[new Wt,Oa],...e]}])}var kT=Mt(zO,!0);var uv=Mt(GO,!0);var OT=Mt(qO,!0);var FT=Mt(HO,!0);var _7=()=>["/login"];function w7(n,e){n&1&&(M(0,"small"),O(1,"El nombre es obligatorio."),S())}function b7(n,e){n&1&&(M(0,"small"),O(1,"El nombre debe tener al menos 2 caracteres."),S())}function E7(n,e){if(n&1&&(M(0,"div",26),oe(1,w7,2,0,"small",16)(2,b7,2,0,"small",16),S()),n&2){let t=X();U(),q("ngIf",t.registroForm.controls.nombre.errors==null?null:t.registroForm.controls.nombre.errors.required),U(),q("ngIf",t.registroForm.controls.nombre.errors==null?null:t.registroForm.controls.nombre.errors.minlength)}}function I7(n,e){n&1&&(M(0,"small"),O(1,"El apellido es obligatorio."),S())}function C7(n,e){n&1&&(M(0,"small"),O(1,"El apellido debe tener al menos 2 caracteres."),S())}function T7(n,e){if(n&1&&(M(0,"div",26),oe(1,I7,2,0,"small",16)(2,C7,2,0,"small",16),S()),n&2){let t=X();U(),q("ngIf",t.registroForm.controls.apellido.errors==null?null:t.registroForm.controls.apellido.errors.required),U(),q("ngIf",t.registroForm.controls.apellido.errors==null?null:t.registroForm.controls.apellido.errors.minlength)}}function D7(n,e){n&1&&(M(0,"small"),O(1,"La edad es obligatoria."),S())}function S7(n,e){n&1&&(M(0,"small"),O(1,"Debes tener al menos 18 a\xF1os."),S())}function A7(n,e){n&1&&(M(0,"small"),O(1,"La edad no puede ser mayor a 120 a\xF1os."),S())}function x7(n,e){if(n&1&&(M(0,"div",26),oe(1,D7,2,0,"small",16)(2,S7,2,0,"small",16)(3,A7,2,0,"small",16),S()),n&2){let t=X();U(),q("ngIf",t.registroForm.controls.edad.errors==null?null:t.registroForm.controls.edad.errors.required),U(),q("ngIf",t.registroForm.controls.edad.errors==null?null:t.registroForm.controls.edad.errors.min),U(),q("ngIf",t.registroForm.controls.edad.errors==null?null:t.registroForm.controls.edad.errors.max)}}function M7(n,e){n&1&&(M(0,"small"),O(1,"El DNI es obligatorio."),S())}function R7(n,e){n&1&&(M(0,"small"),O(1,"El DNI debe tener solo n\xFAmeros y entre 7 y 8 d\xEDgitos."),S())}function P7(n,e){if(n&1&&(M(0,"div",26),oe(1,M7,2,0,"small",16)(2,R7,2,0,"small",16),S()),n&2){let t=X();U(),q("ngIf",t.registroForm.controls.dni.errors==null?null:t.registroForm.controls.dni.errors.required),U(),q("ngIf",t.registroForm.controls.dni.errors==null?null:t.registroForm.controls.dni.errors.pattern)}}function N7(n,e){n&1&&(M(0,"small"),O(1,"La obra social es obligatoria."),S())}function k7(n,e){if(n&1&&(M(0,"div",26),oe(1,N7,2,0,"small",16),S()),n&2){let t=X(2);U(),q("ngIf",t.registroForm.controls.obraSocial.errors==null?null:t.registroForm.controls.obraSocial.errors.required)}}function O7(n,e){if(n&1){let t=Ue();M(0,"div")(1,"label",27),O(2,"Obra Social"),S(),Ze(3,"input",28),oe(4,k7,2,1,"div",9),M(5,"label",17),O(6,"Imagen 1:"),S(),M(7,"input",18),ge("change",function(i){Ce(t);let o=X();return Te(o.agregarImagen(i))}),S(),M(8,"label",29),O(9,"Imagen 2:"),S(),M(10,"input",18),ge("change",function(i){Ce(t);let o=X();return Te(o.agregarImagen(i))}),S()()}if(n&2){let t=X();U(4),q("ngIf",t.registroForm.controls.obraSocial.invalid&&(t.registroForm.controls.obraSocial.touched||t.registroForm.controls.obraSocial.dirty))}}function F7(n,e){if(n&1&&(M(0,"option",38),O(1),S()),n&2){let t=e.$implicit;q("value",t.id),U(),_t(t.name)}}function L7(n,e){if(n&1){let t=Ue();M(0,"div")(1,"p"),O(2),M(3,"button",4),ge("click",function(){let i=Ce(t).index,o=X(2);return Te(o.especialidadesArray.removeAt(i))}),O(4,"Eliminar"),S()()()}if(n&2){let t=e.$implicit;U(2),tt("",t.value," ")}}function V7(n,e){if(n&1){let t=Ue();M(0,"div")(1,"h3"),O(2,"Especialidades"),S(),M(3,"label",30),O(4,"Seleccionar Especialidad"),S(),M(5,"select",31),ge("change",function(i){Ce(t);let o=X();return Te(o.agregarEspecialidadExistente(i))}),M(6,"option",32),O(7,"Selecciona una especialidad"),S(),oe(8,F7,2,2,"option",33),S(),M(9,"div",34),oe(10,L7,5,1,"div",35),S(),M(11,"label",36),O(12,"Agregar Nueva Especialidad"),S(),Ze(13,"input",37),M(14,"button",4),ge("click",function(){Ce(t);let i=X();return Te(i.agregarEspecialidad())}),O(15,"Agregar"),S()()}if(n&2){let t=X();U(8),q("ngForOf",t.especialidades),U(2),q("ngForOf",t.especialidadesArray.controls)}}function U7(n,e){n&1&&(M(0,"small"),O(1,"El email es obligatorio."),S())}function j7(n,e){n&1&&(M(0,"small"),O(1,"El formato del email es incorrecto."),S())}function B7(n,e){if(n&1&&(M(0,"div",26),oe(1,U7,2,0,"small",16)(2,j7,2,0,"small",16),S()),n&2){let t=X();U(),q("ngIf",t.registroForm.controls.email.errors==null?null:t.registroForm.controls.email.errors.required),U(),q("ngIf",t.registroForm.controls.email.errors==null?null:t.registroForm.controls.email.errors.email)}}function $7(n,e){n&1&&(M(0,"small"),O(1,"La contrase\xF1a es obligatoria."),S())}function H7(n,e){n&1&&(M(0,"small"),O(1,"La contrase\xF1a debe tener al menos 6 caracteres."),S())}function z7(n,e){if(n&1&&(M(0,"div",26),oe(1,$7,2,0,"small",16)(2,H7,2,0,"small",16),S()),n&2){let t=X();U(),q("ngIf",t.registroForm.controls.password.errors==null?null:t.registroForm.controls.password.errors.required),U(),q("ngIf",t.registroForm.controls.password.errors==null?null:t.registroForm.controls.password.errors.minlength)}}var dv=class n{constructor(e,t,r,i,o){this.fb=e;this.authService=t;this.router=r;this.firestore=i;this.auth=o}registroForm;tipoUsuario="paciente";imgFile1Label="";imgFile2Label="";recaptchaResponse=null;especialidades=[];nuevaEspecialidad="";imgFiles=[];ngOnInit(){this.registroForm=this.fb.group({tipoUsuario:["paciente",we.required],nombre:["",[we.required,we.minLength(2)]],apellido:["",[we.required,we.minLength(2)]],edad:["",[we.required,we.min(18),we.max(120)]],dni:["",[we.required,we.pattern(/^\d{7,8}$/)]],obraSocial:[""],especialidades:this.fb.array([],we.required),nuevaEspecialidad:[""],email:["",[we.required,we.email]],password:["",[we.required,we.minLength(6)]],imagenes:this.fb.array([],[we.minLength(1)])}),this.cargarEspecialidades(),this.registroForm.get("especialidad")?.valueChanges.subscribe(e=>{e==="otra"?this.registroForm.get("especialidadNueva")?.setValidators(we.required):this.registroForm.get("especialidadNueva")?.clearValidators(),this.registroForm.get("especialidadNueva")?.updateValueAndValidity()})}get especialidadesArray(){return this.registroForm.get("especialidades")}agregarEspecialidadExistente(e){let r=e.target.value;if(r){let i=this.especialidades.find(o=>o.id===r);i&&!this.especialidadesArray.value.includes(i.name)&&this.especialidadesArray.push(this.fb.control(i.name))}}cargarEspecialidades(){return D(this,null,function*(){try{let e=on(this.firestore,"especialidades"),t=yield dr(e);this.especialidades=t.docs.map(r=>ne({id:r.id},r.data()))}catch(e){console.error("Error al cargar las especialidades:",e)}})}agregarEspecialidad(){return D(this,null,function*(){let e=this.registroForm.get("nuevaEspecialidad")?.value?.trim();if(!e){ol.default.fire("Error","La especialidad no puede estar vac\xEDa","error");return}try{let t=on(this.firestore,"especialidades"),i=yield qa(t,{name:e});this.especialidades.push({id:i.id,name:e}),this.registroForm.get("nuevaEspecialidad")?.reset(),ol.default.fire("\xC9xito","Especialidad agregada correctamente","success")}catch(t){console.error("Error al agregar la especialidad:",t),ol.default.fire("Error","No se pudo agregar la especialidad","error")}})}setTipoUsuario(e){this.tipoUsuario=e,this.registroForm.get("tipoUsuario")?.setValue(e),e==="paciente"?(this.registroForm.get("obraSocial")?.setValidators(we.required),this.registroForm.get("especialidad")?.clearValidators()):e==="especialista"&&(this.registroForm.get("especialidad")?.setValidators(we.required),this.registroForm.get("obraSocial")?.clearValidators()),this.registroForm.get("obraSocial")?.updateValueAndValidity(),this.registroForm.get("especialidad")?.updateValueAndValidity()}get imagenes(){return this.registroForm.get("imagenes")}agregarImagen(e){let t=e.target.files[0];if(!t||!t.type.startsWith("image")){ol.default.fire("Oops...","Debes elegir un archivo de tipo imagen.","error");return}this.imgFiles.push(t)}subirImagenes(e,t){return D(this,null,function*(){let r=uv(),i="",o="";if(this.imgFiles[0]){let s=this.imgFiles[0],a=`usuarios/${e}/1-${s.name}`,l=OT(r,a);yield FT(l,s),i=yield kT(l)}if(t==="paciente"&&this.imgFiles[1]){let s=this.imgFiles[1],a=`usuarios/${e}/2-${s.name}`,l=OT(r,a);yield FT(l,s),o=yield kT(l)}return{imgUrl1:i,imgUrl2:o}})}onCaptchaResolved(e){this.recaptchaResponse=e||""}onSubmit(){return D(this,null,function*(){if(this.registroForm.invalid||!this.recaptchaResponse){this.registroForm.markAllAsTouched();return}try{let e=this.registroForm.value,r=(yield this.authService.registro(e.email,e.password)).user;if(!r)throw new Error("El objeto user no est\xE1 definido.");let{imgUrl1:i,imgUrl2:o}=yield this.subirImagenes(r.uid,e.tipoUsuario);yield mN(r);let s=on(this.firestore,"usuarios"),a={uid:r.uid,tipoUsuario:e.tipoUsuario,nombre:e.nombre,apellido:e.apellido,edad:e.edad,dni:e.dni,obraSocial:e.tipoUsuario==="paciente"?e.obraSocial:null,especialidades:e.tipoUsuario==="especialista"?e.especialidades||[]:null,email:e.email,imgUrl1:i,aprobado:e.tipoUsuario!=="especialista",fechaRegistro:new Date};e.tipoUsuario==="paciente"&&(a.imgUrl2=o),yield rv(It(this.firestore,`usuarios/${r.uid}`),a),ol.default.fire({title:"Registro exitoso",text:"Por favor, verifica tu correo electr\xF3nico para completar el registro.",icon:"success"}).then(()=>{this.router.navigate(["/home"])})}catch(e){console.error("Error durante el registro:",e),ol.default.fire({icon:"error",title:"Error de Registro",text:"Hubo un problema al realizar el registro. Int\xE9ntalo de nuevo."})}})}obtenerMensajeDeError(e){switch(e){case"auth/invalid-email":return"El email es inv\xE1lido";case"auth/email-already-in-use":return"El email ya est\xE1 en uso";case"auth/weak-password":return"La contrase\xF1a es muy d\xE9bil. Debe tener al menos 6 caracteres";default:return"Ocurri\xF3 un error desconocido"}}static \u0275fac=function(t){return new(t||n)(Z(ho),Z(Pt),Z(At),Z(Dt),Z(Es))};static \u0275cmp=vt({type:n,selectors:[["app-register"]],standalone:!0,features:[Et],decls:47,vars:16,consts:[[1,"register-container"],[3,"ngSubmit","formGroup"],["for","tipoUsuario"],[1,"tipo-usuario-buttons"],["type","button",3,"click"],["src","assets/paciente.png","alt","Paciente"],["src","assets/doctor.png","alt","Especialista"],["for","nombre"],["type","text","formControlName","nombre","id","nombre","required",""],["class","error",4,"ngIf"],["for","apellido"],["type","text","formControlName","apellido","id","apellido","required",""],["for","edad"],["type","number","formControlName","edad","id","edad","required",""],["for","dni"],["type","text","formControlName","dni","id","dni","required",""],[4,"ngIf"],["for","img1"],["type","file","required","",3,"change"],["for","email"],["type","email","formControlName","email","id","email","required",""],["for","password"],["type","password","formControlName","password","id","password","required",""],["siteKey","6LfYr3wqAAAAAI6opWRi2sTNVD1xthY74Q_gX0n-",1,"captcha",3,"resolved"],["type","submit",3,"disabled"],[3,"routerLink"],[1,"error"],["for","obraSocial"],["type","text","formControlName","obraSocial","id","obraSocial","required",""],["for","img2"],["for","especialidad"],[3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formArrayName","especialidades"],[4,"ngFor","ngForOf"],["for","nuevaEspecialidad"],["type","text","formControlName","nuevaEspecialidad","placeholder","Nueva especialidad"],[3,"value"]],template:function(t,r){if(t&1&&(M(0,"div",0)(1,"form",1),ge("ngSubmit",function(){return r.onSubmit()}),M(2,"h2"),O(3,"Registrarse"),S(),M(4,"label",2),O(5,"Tipo de usuario"),S(),M(6,"div",3)(7,"button",4),ge("click",function(){return r.setTipoUsuario("paciente")}),Ze(8,"img",5),S(),M(9,"button",4),ge("click",function(){return r.setTipoUsuario("especialista")}),Ze(10,"img",6),S()(),M(11,"label",7),O(12,"Nombre"),S(),Ze(13,"input",8),oe(14,E7,3,2,"div",9),M(15,"label",10),O(16,"Apellido"),S(),Ze(17,"input",11),oe(18,T7,3,2,"div",9),M(19,"label",12),O(20,"Edad"),S(),Ze(21,"input",13),oe(22,x7,4,3,"div",9),M(23,"label",14),O(24,"DNI"),S(),Ze(25,"input",15),oe(26,P7,3,2,"div",9)(27,O7,11,1,"div",16)(28,V7,16,2,"div",16),M(29,"label",17),O(30,"Imagen 1:"),S(),M(31,"input",18),ge("change",function(o){return r.agregarImagen(o)}),S(),M(32,"label",19),O(33,"Email"),S(),Ze(34,"input",20),oe(35,B7,3,2,"div",9),M(36,"label",21),O(37,"Contrase\xF1a"),S(),Ze(38,"input",22),oe(39,z7,3,2,"div",9),M(40,"re-captcha",23),ge("resolved",function(o){return r.onCaptchaResolved(o)}),S(),M(41,"button",24),O(42,"Registrarse"),S()(),M(43,"p"),O(44,"\xBFYa tienes una cuenta? "),M(45,"a",25),O(46,"Iniciar sesi\xF3n aqu\xED"),S()()()),t&2){let i,o,s;U(),q("formGroup",r.registroForm),U(6),en("selected",((i=r.registroForm.get("tipoUsuario"))==null?null:i.value)==="paciente"),U(2),en("selected",((o=r.registroForm.get("tipoUsuario"))==null?null:o.value)==="especialista"),U(5),q("ngIf",r.registroForm.controls.nombre.invalid&&(r.registroForm.controls.nombre.touched||r.registroForm.controls.nombre.dirty)),U(4),q("ngIf",r.registroForm.controls.apellido.invalid&&(r.registroForm.controls.apellido.touched||r.registroForm.controls.apellido.dirty)),U(4),q("ngIf",r.registroForm.controls.edad.invalid&&(r.registroForm.controls.edad.touched||r.registroForm.controls.edad.dirty)),U(4),q("ngIf",r.registroForm.controls.dni.invalid&&(r.registroForm.controls.dni.touched||r.registroForm.controls.dni.dirty)),U(),q("ngIf",r.tipoUsuario==="paciente"),U(),q("ngIf",((s=r.registroForm.get("tipoUsuario"))==null?null:s.value)==="especialista"),U(7),q("ngIf",r.registroForm.controls.email.invalid&&(r.registroForm.controls.email.touched||r.registroForm.controls.email.dirty)),U(4),q("ngIf",r.registroForm.controls.password.invalid&&(r.registroForm.controls.password.touched||r.registroForm.controls.password.dirty)),U(2),q("disabled",r.registroForm.invalid||!r.recaptchaResponse),U(4),q("routerLink",jm(15,_7))}},dependencies:[$n,Aa,Ma,Ra,co,Wh,lo,Sa,hs,uo,ds,Gu,Lt,Bn,_n,Ca,Ea,bO,wO,fo],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#7e98f4,#ebb3b3);padding:20px;box-sizing:border-box;overflow:hidden}.register-container[_ngcontent-%COMP%]{height:500px;width:100%;max-width:500px;font-family:system-ui;padding:20px;border:2px solid #000000;border-radius:10px;box-shadow:0 2px 10px #0000001a;background:linear-gradient(135deg,#d5e3fa,#bfb3f2);overflow-y:auto;max-height:90vh;margin-top:50px}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:block;font-size:16px;margin-bottom:8px;color:#333}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;margin-bottom:15px;display:block;box-sizing:border-box;padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{background-color:#4c5baf;color:#fff;padding:14px 20px;margin:8px 0;border:none;border-radius:10px;cursor:pointer;width:100%;font-family:inherit}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}@media (max-height: 600px){.register-container[_ngcontent-%COMP%]{padding:10px;max-height:80vh}}.tipo-usuario-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:20px}.tipo-usuario-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;cursor:pointer;padding:0;border-radius:50%;width:70px;height:70px;display:flex;justify-content:center;align-items:center;transition:transform .2s}.tipo-usuario-buttons[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border:3px solid #4c5baf;border-radius:50%}.tipo-usuario-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.tipo-usuario-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}.captcha[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px}"]})};var As=Yo(Ga());function q7(n,e){if(n&1){let t=Ue();M(0,"button",23),ge("click",function(){Ce(t);let i=X().$implicit,o=X(2);return Te(o.habilitarEspecialista(i))}),O(1," Habilitar "),S()}}function G7(n,e){if(n&1){let t=Ue();M(0,"button",23),ge("click",function(){Ce(t);let i=X().$implicit,o=X(2);return Te(o.inhabilitarEspecialista(i))}),O(1," Inhabilitar "),S()}}function W7(n,e){if(n&1&&(M(0,"tr")(1,"td"),O(2),S(),M(3,"td"),O(4),S(),M(5,"td"),O(6),S(),M(7,"td"),O(8),S(),M(9,"td"),oe(10,q7,2,0,"button",22)(11,G7,2,0,"button",22),S()()),n&2){let t=e.$implicit;U(2),_t(t.nombre),U(2),_t(t.apellido),U(2),_t(t.email),U(2),_t(t.tipoUsuario),U(2),q("ngIf",t.tipoUsuario==="especialista"&&!t.aprobado),U(),q("ngIf",t.tipoUsuario==="especialista"&&t.aprobado)}}function Y7(n,e){n&1&&(M(0,"small"),O(1,"El nombre es obligatorio."),S())}function K7(n,e){n&1&&(M(0,"small"),O(1,"Debe tener al menos 2 caracteres."),S())}function Q7(n,e){if(n&1&&(M(0,"div",24),oe(1,Y7,2,0,"small",18)(2,K7,2,0,"small",18),S()),n&2){let t,r,i=X(2);U(),q("ngIf",(t=i.registroForm.get("nombre"))==null||t.errors==null?null:t.errors.required),U(),q("ngIf",(r=i.registroForm.get("nombre"))==null||r.errors==null?null:r.errors.minlength)}}function Z7(n,e){n&1&&(M(0,"small"),O(1,"El apellido es obligatorio."),S())}function J7(n,e){n&1&&(M(0,"small"),O(1,"Debe tener al menos 2 caracteres."),S())}function X7(n,e){if(n&1&&(M(0,"div",24),oe(1,Z7,2,0,"small",18)(2,J7,2,0,"small",18),S()),n&2){let t,r,i=X(2);U(),q("ngIf",(t=i.registroForm.get("apellido"))==null||t.errors==null?null:t.errors.required),U(),q("ngIf",(r=i.registroForm.get("apellido"))==null||r.errors==null?null:r.errors.minlength)}}function eY(n,e){n&1&&(M(0,"small"),O(1,"La edad es obligatoria."),S())}function tY(n,e){n&1&&(M(0,"small"),O(1,"Debes tener al menos 18 a\xF1os."),S())}function nY(n,e){n&1&&(M(0,"small"),O(1,"La edad no puede ser mayor a 120 a\xF1os."),S())}function rY(n,e){if(n&1&&(M(0,"div",24),oe(1,eY,2,0,"small",18)(2,tY,2,0,"small",18)(3,nY,2,0,"small",18),S()),n&2){let t,r,i,o=X(2);U(),q("ngIf",(t=o.registroForm.get("edad"))==null||t.errors==null?null:t.errors.required),U(),q("ngIf",(r=o.registroForm.get("edad"))==null||r.errors==null?null:r.errors.min),U(),q("ngIf",(i=o.registroForm.get("edad"))==null||i.errors==null?null:i.errors.max)}}function iY(n,e){n&1&&(M(0,"small"),O(1,"El DNI es obligatorio."),S())}function oY(n,e){n&1&&(M(0,"small"),O(1,"Debe tener solo n\xFAmeros y entre 7 y 8 d\xEDgitos."),S())}function sY(n,e){if(n&1&&(M(0,"div",24),oe(1,iY,2,0,"small",18)(2,oY,2,0,"small",18),S()),n&2){let t,r,i=X(2);U(),q("ngIf",(t=i.registroForm.get("dni"))==null||t.errors==null?null:t.errors.required),U(),q("ngIf",(r=i.registroForm.get("dni"))==null||r.errors==null?null:r.errors.pattern)}}function aY(n,e){n&1&&(M(0,"small"),O(1,"La obra social es obligatoria."),S())}function cY(n,e){if(n&1&&(M(0,"div",24),oe(1,aY,2,0,"small",18),S()),n&2){let t,r=X(3);U(),q("ngIf",(t=r.registroForm.get("obraSocial"))==null||t.errors==null?null:t.errors.required)}}function lY(n,e){if(n&1&&(M(0,"div")(1,"label",25),O(2,"Obra Social:"),S(),Ze(3,"input",26),oe(4,cY,2,1,"div",11),S()),n&2){let t,r=X(2);U(4),q("ngIf",((t=r.registroForm.get("obraSocial"))==null?null:t.invalid)&&((t=r.registroForm.get("obraSocial"))==null?null:t.touched))}}function uY(n,e){if(n&1&&(M(0,"option",30),O(1),S()),n&2){let t=e.$implicit;q("value",t.id),U(),_t(t.name)}}function dY(n,e){if(n&1&&(M(0,"div")(1,"label",27),O(2,"Especialidad:"),S(),M(3,"select",28),oe(4,uY,2,2,"option",29),S()()),n&2){let t=X(2);U(4),q("ngForOf",t.especialidades)}}function hY(n,e){n&1&&(M(0,"div",24)(1,"small"),O(2,"La imagen es obligatoria."),S()())}function fY(n,e){if(n&1){let t=Ue();M(0,"div")(1,"h2"),O(2,"Gestion de Usuarios"),S(),M(3,"table",2)(4,"thead")(5,"tr")(6,"th"),O(7,"Nombre"),S(),M(8,"th"),O(9,"Apellido"),S(),M(10,"th"),O(11,"Email"),S(),M(12,"th"),O(13,"Tipo de Usuario"),S(),M(14,"th"),O(15,"Acciones"),S()()(),M(16,"tbody"),oe(17,W7,12,6,"tr",3),S()(),M(18,"div",4)(19,"form",5),ge("ngSubmit",function(){Ce(t);let i=X();return Te(i.crearUsuario())}),M(20,"h2"),O(21,"Crear Nuevo Usuario"),S(),M(22,"label",6),O(23,"Tipo de usuario"),S(),M(24,"div",7)(25,"button",8),ge("click",function(){Ce(t);let i=X();return Te(i.setTipoUsuario("paciente"))}),O(26," Paciente "),S(),M(27,"button",8),ge("click",function(){Ce(t);let i=X();return Te(i.setTipoUsuario("especialista"))}),O(28," Especialista "),S(),M(29,"button",8),ge("click",function(){Ce(t);let i=X();return Te(i.setTipoUsuario("administrador"))}),O(30," Administrador "),S()(),M(31,"label",9),O(32,"Nombre:"),S(),Ze(33,"input",10),oe(34,Q7,3,2,"div",11),M(35,"label",12),O(36,"Apellido:"),S(),Ze(37,"input",13),oe(38,X7,3,2,"div",11),M(39,"label",14),O(40,"Edad:"),S(),Ze(41,"input",15),oe(42,rY,4,3,"div",11),M(43,"label",16),O(44,"DNI:"),S(),Ze(45,"input",17),oe(46,sY,3,2,"div",11)(47,lY,5,1,"div",18)(48,dY,5,1,"div",18),M(49,"label",19),O(50,"Imagen de Perfil:"),S(),M(51,"input",20),ge("change",function(i){Ce(t);let o=X();return Te(o.seleccionarImagen(i))}),S(),oe(52,hY,3,0,"div",11),M(53,"button",21),O(54,"Crear Usuario"),S()()()()}if(n&2){let t,r,i,o,s,a=X();U(17),q("ngForOf",a.usuarios),U(2),q("formGroup",a.registroForm),U(6),en("selected",a.tipoUsuario==="paciente"),U(2),en("selected",a.tipoUsuario==="especialista"),U(2),en("selected",a.tipoUsuario==="administrador"),U(5),q("ngIf",((t=a.registroForm.get("nombre"))==null?null:t.invalid)&&((t=a.registroForm.get("nombre"))==null?null:t.touched)),U(4),q("ngIf",((r=a.registroForm.get("apellido"))==null?null:r.invalid)&&((r=a.registroForm.get("apellido"))==null?null:r.touched)),U(4),q("ngIf",((i=a.registroForm.get("edad"))==null?null:i.invalid)&&((i=a.registroForm.get("edad"))==null?null:i.touched)),U(4),q("ngIf",((o=a.registroForm.get("dni"))==null?null:o.invalid)&&((o=a.registroForm.get("dni"))==null?null:o.touched)),U(),q("ngIf",a.tipoUsuario==="paciente"),U(),q("ngIf",a.tipoUsuario==="especialista"),U(4),q("ngIf",((s=a.registroForm.get("imagen"))==null?null:s.invalid)&&((s=a.registroForm.get("imagen"))==null?null:s.touched)),U(),q("disabled",a.registroForm.invalid)}}function pY(n,e){n&1&&(M(0,"p"),O(1,"No tienes permiso para acceder a esta secci\xF3n."),S())}var hv=class n{constructor(e,t,r){this.firestore=e;this.authService=t;this.fb=r}usuarios=[];isAdmin=!1;registroForm;imagenSeleccionada=null;tipoUsuario="paciente";especialidades=[];ngOnInit(){return D(this,null,function*(){this.cargarUsuarios(),this.cargarEspecialidades();try{let e=yield this.authService.getUserProfile();this.isAdmin=e.tipoUsuario==="administrador",this.isAdmin?this.inicializarFormulario():As.default.fire("Acceso denegado","Solo los Administradores pueden acceder a esta secci\xF3n.","error")}catch(e){console.error("Error al obtener el perfil del usuario:",e),As.default.fire("Error","No se pudo verificar el perfil del usuario.","error")}})}cargarEspecialidades(){return D(this,null,function*(){try{let e=on(this.firestore,"especialidades"),t=yield dr(e);this.especialidades=t.docs.map(r=>ne({id:r.id},r.data())),console.log("Especialidades cargadas:",this.especialidades)}catch(e){console.error("Error al cargar las especialidades:",e)}})}inicializarFormulario(){this.registroForm=this.fb.group({nombre:["",[we.required,we.minLength(2)]],apellido:["",[we.required,we.minLength(2)]],edad:["",[we.required,we.min(18),we.max(120)]],dni:["",[we.required,we.pattern(/^\d{7,8}$/)]],email:["",[we.required,we.email]],password:["",[we.required,we.minLength(6)]],tipoUsuario:["administrador",we.required],imagen:[null,we.required],obraSocial:[""],especialidad:[""]})}cargarUsuarios(){let e=on(this.firestore,"usuarios");dr(e).then(t=>{this.usuarios=t.docs.map(r=>$e(ne({},r.data()),{id:r.id})),console.log("Usuarios cargados:",this.usuarios)}).catch(t=>{console.error("Error al cargar usuarios:",t),As.default.fire("Error","No se pudieron cargar los usuarios.","error")})}crearUsuario(){if(this.registroForm.invalid||!this.imagenSeleccionada){As.default.fire("Error","Completa todos los campos correctamente.","error"),this.registroForm.markAllAsTouched();return}let i=this.registroForm.value,{email:e,password:t}=i,r=ep(i,["email","password"]);this.authService.registro(e,t).then(o=>{let s=o.user;if(!s)throw new Error("Error al crear el usuario.");let a=$e(ne({},r),{id:s.uid,email:e,imgUrl1:this.imagenSeleccionada?this.imagenSeleccionada.name:"",aprobado:r.tipoUsuario!=="especialista"}),l=on(this.firestore,"usuarios");return qa(l,a)}).then(()=>{As.default.fire("Usuario creado","El usuario ha sido creado correctamente.","success"),this.cargarUsuarios()}).catch(o=>{console.error("Error al crear usuario:",o),As.default.fire("Error","No se pudo crear el usuario.","error")})}setTipoUsuario(e){this.tipoUsuario=e,this.registroForm.get("tipoUsuario")?.setValue(e),e==="paciente"?(this.registroForm.get("obraSocial")?.setValidators(we.required),this.registroForm.get("especialidad")?.clearValidators()):e==="especialista"?(this.registroForm.get("especialidad")?.setValidators(we.required),this.registroForm.get("obraSocial")?.clearValidators()):(this.registroForm.get("obraSocial")?.clearValidators(),this.registroForm.get("especialidad")?.clearValidators()),this.registroForm.get("obraSocial")?.updateValueAndValidity(),this.registroForm.get("especialidad")?.updateValueAndValidity()}seleccionarImagen(e){let t=e.target.files[0];t&&(this.imagenSeleccionada=t)}habilitarEspecialista(e){let t=It(this.firestore,`usuarios/${e.id}`);hr(t,{aprobado:!0}).then(()=>{As.default.fire("Habilitado","El usuario especialista ha sido habilitado.","success"),this.cargarUsuarios()})}inhabilitarEspecialista(e){let t=It(this.firestore,`usuarios/${e.id}`);hr(t,{aprobado:!1}).then(()=>{As.default.fire("Inhabilitado","El usuario especialista ha sido inhabilitado.","warning"),this.cargarUsuarios()})}static \u0275fac=function(t){return new(t||n)(Z(Dt),Z(Pt),Z(ho))};static \u0275cmp=vt({type:n,selectors:[["app-lista-usuarios"]],standalone:!0,features:[Et],decls:3,vars:2,consts:[["noAccess",""],[4,"ngIf","ngIfElse"],[1,"user-table"],[4,"ngFor","ngForOf"],[1,"register-container"],[3,"ngSubmit","formGroup"],["for","tipoUsuario"],[1,"tipo-usuario-buttons"],["type","button",3,"click"],["for","nombre"],["type","text","formControlName","nombre","id","nombre","required",""],["class","error",4,"ngIf"],["for","apellido"],["type","text","formControlName","apellido","id","apellido","required",""],["for","edad"],["type","number","formControlName","edad","id","edad","required",""],["for","dni"],["type","text","formControlName","dni","id","dni","required",""],[4,"ngIf"],["for","imagen"],["type","file","id","imagen","required","",3,"change"],["type","submit",3,"disabled"],[3,"click",4,"ngIf"],[3,"click"],[1,"error"],["for","obraSocial"],["type","text","formControlName","obraSocial","id","obraSocial","required",""],["for","especialidad"],["formControlName","especialidad",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){if(t&1&&oe(0,fY,55,16,"div",1)(1,pY,2,0,"ng-template",null,0,vM),t&2){let i=fM(2);q("ngIf",r.isAdmin)("ngIfElse",i)}},dependencies:[Lt,Bn,_n,fo,Aa,Ma,Ra,co,Wh,xa,lo,Sa,hs,$n,uo,ds],styles:["[_nghost-%COMP%]{display:block;padding:20px;background:linear-gradient(135deg,#7e98f4,#ebb3b3);font-family:Arial,sans-serif}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:1.8rem}.tipo-usuario-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-bottom:20px}.tipo-usuario-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e0e0e0;border:none;border-radius:5px;padding:10px 15px;cursor:pointer;font-size:.9rem;transition:background-color .3s,transform .3s}.tipo-usuario-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d0d0d0;transform:translateY(-2px)}.tipo-usuario-buttons[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#555;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:15px;border:1px solid #0a0a0a;border-radius:5px;transition:border-color .3s}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}input[type=file][_ngcontent-%COMP%]{border:none;margin-bottom:15px}.error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#d9534f;font-size:.85rem}button[type=submit][_ngcontent-%COMP%]{display:block;width:100%;background-color:#007bff;color:#fff;border:none;padding:10px;border-radius:5px;font-size:1rem;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}.user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:30px;background-color:#fff;box-shadow:0 2px 8px #0000001a}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border:1px solid #ddd;text-align:left}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:4px;cursor:pointer;font-size:.9rem;transition:background-color .3s}.user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#28a745;color:#fff;margin-right:5px}.user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child:hover{background-color:#218838}.user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#dc3545;color:#fff}.user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background-color:#c82333}.create-admin-form[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 8px #0000001a;max-width:500px;margin:0 auto}.register-container[_ngcontent-%COMP%]{max-width:600px;margin:20px auto;padding:20px;border:2px solid #0a0a0a;background-color:#fff;border-radius:10px;box-shadow:0 4px 15px #0000001a;font-family:Arial,sans-serif}"]})};var QO=Yo(Ga());var Ff=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return D(this,null,function*(){let e=yield this.authService.getUserProfile();return e&&e.tipoUsuario==="administrador"?!0:(QO.default.fire("Acceso denegado","Solo los Administradores pueden acceder a esta secci\xF3n.","error"),this.router.navigate(["/home"]),!1)})}static \u0275fac=function(t){return new(t||n)(ue(Pt),ue(At))};static \u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})};function mY(n,e){if(n&1){let t=Ue();M(0,"button",10),ge("click",function(){let i=Ce(t).$implicit,o=X().index,s=X();return Te(s.seleccionarDia(o,i))}),O(1),S()}if(n&2){let t=e.$implicit;U(),_t(t)}}function gY(n,e){if(n&1&&(M(0,"option",16),O(1),S()),n&2){let t=e.$implicit;q("value",t),U(),_t(t)}}function yY(n,e){if(n&1&&(M(0,"option",16),O(1),S()),n&2){let t=e.$implicit;q("value",t),U(),_t(t)}}function vY(n,e){if(n&1){let t=Ue();M(0,"div",11)(1,"label"),O(2,"D\xEDa:"),S(),Ze(3,"input",12),M(4,"label"),O(5,"Desde:"),S(),M(6,"select",13),oe(7,gY,2,2,"option",14),S(),M(8,"label"),O(9,"Hasta:"),S(),M(10,"select",15),oe(11,yY,2,2,"option",14),S(),M(12,"button",10),ge("click",function(){let i=Ce(t).index,o=X().index,s=X();return Te(s.eliminarHorario(o,i))}),O(13,"Eliminar"),S()()}if(n&2){let t=e.index,r=X(2);q("formGroupName",t),U(7),q("ngForOf",r.opcionesHorario),U(4),q("ngForOf",r.opcionesHorario)}}function _Y(n,e){if(n&1&&(M(0,"div",3)(1,"div",4)(2,"h4"),O(3),S(),Ze(4,"input",5),M(5,"div",6)(6,"label"),O(7,"D\xEDas:"),S(),oe(8,mY,2,1,"button",7),S(),M(9,"div",8),oe(10,vY,14,3,"div",9),S()()()),n&2){let t=e.index,r=X();U(),q("formGroupName",t),U(2),tt("Especialidad ",t+1,""),U(5),q("ngForOf",r.diasSemana),U(2),q("ngForOf",r.getHorarios(t).controls)}}var fv=class n{constructor(e,t){this.fb=e;this.firestore=t}horariosForm;usuario=null;diasSemana=["Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"];opcionesHorario=[];ngOnInit(){return D(this,null,function*(){if(this.horariosForm=this.fb.group({especialidades:this.fb.array([])}),this.usuario?.especialidades&&this.usuario.especialidades.forEach(e=>this.agregarEspecialidad(e)),this.generarOpcionesHorario(),this.usuario?.uid){let e=It(this.firestore,`disponibilidad/${this.usuario.uid}`),t=yield Lr(e);if(t.exists()){let r=t.data();this.cargarHorariosExistentes(r?r.especialidades||[]:[])}}})}cargarHorariosExistentes(e){e.forEach(t=>{this.especialidades.controls.findIndex(o=>o.get("nombre")?.value===t.nombre)===-1&&this.agregarEspecialidad(t.nombre);let i=this.especialidades.controls.findIndex(o=>o.get("nombre")?.value===t.nombre);t.disponibilidad.forEach(o=>{this.agregarHorario(i),this.getHorarios(i).at(this.getHorarios(i).length-1).patchValue(o)})})}generarOpcionesHorario(){for(let e=8;e<=18;e++)this.opcionesHorario.push(`${e}:00`),e<18&&this.opcionesHorario.push(`${e}:30`)}get especialidades(){return this.horariosForm.get("especialidades")}agregarEspecialidad(e=""){let t=this.fb.group({nombre:[e,we.required],disponibilidad:this.fb.array([])});this.especialidades.push(t)}getHorarios(e){return this.especialidades.at(e).get("disponibilidad")}agregarHorario(e){let t=this.fb.group({dia:["",we.required],desde:["",[we.required,this.validarIntervalo,this.validarRango]],hasta:["",[we.required,this.validarIntervalo,this.validarRango]]});this.getHorarios(e).push(t)}seleccionarDia(e,t){let r=this.getHorarios(e);if(!r.controls.some(o=>o.get("dia")?.value===t)){let o=this.fb.group({dia:[t,we.required],desde:["",[we.required,this.validarIntervalo,this.validarRango]],hasta:["",[we.required,this.validarIntervalo,this.validarRango]]});r.push(o)}}eliminarHorario(e,t){this.getHorarios(e).removeAt(t)}validarIntervalo(e){let t=e.value,[r,i]=t.split(":").map(Number);return i!==0&&i!==30?{invalidInterval:!0}:null}validarRango(e){let t=e.value,[r]=t.split(":").map(Number);return r<8||r>18?{outOfRange:!0}:null}guardarHorarios(){return D(this,null,function*(){if(!this.horariosForm.invalid){if(console.log("Usuario antes de guardar:",this.usuario),typeof this.usuario?.uid!="string"||!this.usuario.uid){console.error("El UID del usuario no est\xE1 definido.");return}try{let e=this.horariosForm.value,t=It(this.firestore,`disponibilidad/${this.usuario.uid}`),r=[];e.especialidades.forEach(i=>{i.disponibilidad.length>0&&r.push(i)}),yield rv(t,{uid:this.usuario.uid,especialidades:r},{merge:!0}),console.log("Horarios guardados correctamente")}catch(e){console.error("Error al guardar la disponibilidad:",e)}}})}static \u0275fac=function(t){return new(t||n)(Z(ho),Z(Dt))};static \u0275cmp=vt({type:n,selectors:[["app-mis-horarios"]],inputs:{usuario:"usuario"},standalone:!0,features:[Et],decls:6,vars:2,consts:[[3,"ngSubmit","formGroup"],["formArrayName","especialidades",4,"ngFor","ngForOf"],["type","submit"],["formArrayName","especialidades"],[1,"especialidad",3,"formGroupName"],["formControlName","nombre","placeholder","Nombre de la especialidad","required",""],[1,"dias-semana"],["type","button",3,"click",4,"ngFor","ngForOf"],["formArrayName","disponibilidad"],["class","horario",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],[1,"horario",3,"formGroupName"],["formControlName","dia","placeholder","D\xEDa","required","","readonly",""],["formControlName","desde","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","hasta","required",""],[3,"value"]],template:function(t,r){t&1&&(M(0,"h3"),O(1,"Mis Horarios"),S(),M(2,"form",0),ge("ngSubmit",function(){return r.guardarHorarios()}),oe(3,_Y,11,4,"div",1),M(4,"button",2),O(5,"Guardar Horarios"),S()()),t&2&&(U(2),q("formGroup",r.horariosForm),U(),q("ngForOf",r.especialidades.controls))},dependencies:[Lt,Bn,$n,Aa,Ma,Ra,co,xa,lo,Sa,hs,uo,ds,kg,Gu],styles:["h3[_ngcontent-%COMP%]{text-align:center;font-size:1.8rem;margin-bottom:20px;color:#333}form[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:8px;box-shadow:0 2px 8px #0000001a;max-width:800px;margin:0 auto}.especialidad[_ngcontent-%COMP%]{border:1px solid #ddd;padding:15px;margin-bottom:15px;border-radius:6px;background-color:#fff}h4[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:10px;color:#555}input[formControlName=nombre][_ngcontent-%COMP%]{width:100%;padding:8px;border-radius:4px;border:1px solid #ccc;margin-bottom:10px;font-size:1rem}.dias-semana[_ngcontent-%COMP%]{margin-bottom:10px}.dias-semana[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;display:block;margin-bottom:5px}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:4px;padding:8px 12px;font-size:.9rem;cursor:pointer;margin-right:5px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.horario[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.horario[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px;font-weight:700}.horario[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .horario[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:6px;border-radius:4px;border:1px solid #ccc;margin-right:10px;font-size:.9rem}.horario[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{background-color:#f1f1f1;cursor:not-allowed}button[type=submit][_ngcontent-%COMP%]{background-color:#28a745;margin-top:20px;padding:10px 16px;font-size:1rem;border-radius:6px}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#218838}"]})};function wY(n,e){if(n&1&&Ze(0,"img",8),n&2){let t=X(2);q("src",t.usuario.imgUrl1,fa)}}function bY(n,e){if(n&1&&(M(0,"div",9),Ze(1,"app-mis-horarios",10),S()),n&2){let t=X(2);U(),q("usuario",t.usuario)}}function EY(n,e){if(n&1&&(M(0,"div",2)(1,"div",3)(2,"h2"),O(3,"Mi Perfil"),S(),M(4,"p")(5,"strong"),O(6,"Nombre:"),S(),O(7),S(),M(8,"p")(9,"strong"),O(10,"Apellido:"),S(),O(11),S(),M(12,"p")(13,"strong"),O(14,"Email:"),S(),O(15),S(),M(16,"p")(17,"strong"),O(18,"Edad:"),S(),O(19),S(),M(20,"p")(21,"strong"),O(22,"DNI:"),S(),O(23),S(),M(24,"p")(25,"strong"),O(26,"Tipo de Usuario:"),S(),O(27),S(),M(28,"div",4)(29,"h3"),O(30,"Imagen de Perfil:"),S(),M(31,"div",5),oe(32,wY,1,1,"img",6),S()()(),oe(33,bY,2,1,"div",7),S()),n&2){let t=X();U(7),tt(" ",t.usuario.nombre,""),U(4),tt(" ",t.usuario.apellido,""),U(4),tt(" ",t.usuario.email,""),U(4),tt(" ",t.usuario.edad,""),U(4),tt(" ",t.usuario.dni,""),U(4),tt(" ",t.usuario.tipoUsuario,""),U(5),q("ngIf",t.usuario.imgUrl1),U(),q("ngIf",t.usuario.tipoUsuario==="especialista")}}function IY(n,e){n&1&&(M(0,"div",11)(1,"p"),O(2,"No se pudieron cargar los datos del usuario."),S()())}var pv=class n{constructor(e,t,r){this.authService=e;this.fb=t;this.firestore=r}usuario=null;ngOnInit(){return D(this,null,function*(){try{this.usuario=yield this.authService.getUserProfile()}catch(e){console.error("Error al obtener el perfil del usuario:",e)}})}static \u0275fac=function(t){return new(t||n)(Z(Pt),Z(ho),Z(Dt))};static \u0275cmp=vt({type:n,selectors:[["app-mi-perfil"]],standalone:!0,features:[Et],decls:2,vars:2,consts:[["class","perfil-container",4,"ngIf"],["class","mensaje-error",4,"ngIf"],[1,"perfil-container"],[1,"info-basica"],[1,"imagenes-section"],[1,"imagenes-container"],["alt","Imagen de perfil","class","imagen-perfil",3,"src",4,"ngIf"],["class","mis-horarios-container",4,"ngIf"],["alt","Imagen de perfil",1,"imagen-perfil",3,"src"],[1,"mis-horarios-container"],[3,"usuario"],[1,"mensaje-error"]],template:function(t,r){t&1&&oe(0,EY,34,8,"div",0)(1,IY,3,0,"div",1),t&2&&(q("ngIf",r.usuario),U(),q("ngIf",!r.usuario))},dependencies:[Lt,_n,$n,fv],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#7e98f4,#ebb3b3);padding:20px}.perfil-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:20px;max-width:1000px;width:100%;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 10px #0000001a;font-family:Arial,sans-serif;overflow:hidden}.info-basica[_ngcontent-%COMP%]{flex:1;padding:20px}.perfil-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.perfil-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:16px;color:#555}.perfil-container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.imagenes-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:20px}.imagenes-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;border-radius:50%;border:2px solid #ddd;transition:transform .3s}.imagenes-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.mis-horarios-container[_ngcontent-%COMP%]{flex:2;padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a}@media (max-width: 768px){.perfil-container[_ngcontent-%COMP%]{flex-direction:column;max-width:100%}.imagenes-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}}"]})};var mv=Yo(Ga());var Wa=class{id;fecha;estado;especialidad;paciente;especialista;pacienteNombre;tieneResena;tieneDiagnostico;resena;calificacion;motivoCancelacion;motivoRechazo;diagnostico;constructor(e,t,r,i,o,s,a,l,h,y,b,C,T,P){this.id=e,this.fecha=t,this.estado=r,this.especialidad=i,this.paciente=o,this.especialista=s,this.pacienteNombre=a,this.tieneResena=l,this.tieneDiagnostico=h,this.resena=y,this.calificacion=b,this.motivoCancelacion=C,this.motivoRechazo=T,this.diagnostico=P}};var CY=(n,e,t,r)=>({"status-warning":n,"status-success":e,"status-info":t,"status-danger":r});function TY(n,e){if(n&1){let t=Ue();M(0,"span",12),ge("click",function(){let i=Ce(t).$implicit,o=X();return o.filtroEspecialidad=o.filtroEspecialidad===i?"":i,Te(o.aplicarFiltros())}),O(1),S()}if(n&2){let t=e.$implicit,r=X();en("active",r.filtroEspecialidad===t),U(),tt(" ",t," ")}}function DY(n,e){if(n&1){let t=Ue();M(0,"span",13),ge("click",function(){let i=Ce(t).$implicit,o=X();return o.filtroEspecialista=o.filtroEspecialista===i?"":i,Te(o.aplicarFiltros())}),O(1),S()}if(n&2){let t=e.$implicit,r=X();en("active",r.filtroEspecialista===t),U(),tt(" ",t," ")}}function SY(n,e){if(n&1){let t=Ue();M(0,"button",16),ge("click",function(){Ce(t);let i=X().$implicit,o=X();return Te(o.cancelarTurno(i))}),O(1," Cancelar "),S()}}function AY(n,e){if(n&1&&(M(0,"tr")(1,"td"),O(2),S(),M(3,"td"),O(4),S(),M(5,"td"),O(6),S(),M(7,"td"),O(8),S(),M(9,"td")(10,"span",14),O(11),Cu(12,"uppercase"),S()(),M(13,"td"),oe(14,SY,2,0,"button",15),S()()),n&2){let t=e.$implicit;U(2),_t(t.id),U(2),_t(t.especialidad),U(2),_t(t.especialista),U(2),_t(t.fecha),U(2),q("ngClass",Iu(9,CY,t.estado==="pendiente",t.estado==="aceptado",t.estado==="realizado",t.estado==="rechazado"||t.estado==="cancelado")),U(),tt(" ",Tu(12,7,t.estado)," "),U(3),q("ngIf",t.estado==="pendiente")}}function xY(n,e){n&1&&(M(0,"tr")(1,"td",17),O(2,"No hay turnos disponibles."),S()())}var Lf=class n{constructor(e,t){this.firestore=e;this.authService=t}turnos=[];turnosFiltrados=[];especialidades=[];especialistas=[];filtroEspecialidad="";filtroEspecialista="";usuario;ngOnInit(){return D(this,null,function*(){this.usuario=yield this.authService.getUserProfile(),this.usuario.tipoUsuario==="administrador"&&(yield this.cargarTurnos())})}cargarTurnos(){return D(this,null,function*(){let e=on(this.firestore,"turnos"),t=yield dr(e);this.turnos=t.docs.map(r=>{let i=r.data(),o=i.fecha&&i.fecha.seconds?new Date(i.fecha.seconds*1e3):new Date;return new Wa(r.id,o,i.estado,i.especialidad,i.paciente,i.especialista)}),this.turnosFiltrados=[...this.turnos],this.especialidades=Array.from(new Set(this.turnos.map(r=>r.especialidad??""))).filter(Boolean),this.especialistas=Array.from(new Set(this.turnos.map(r=>r.especialista??""))).filter(Boolean)})}aplicarFiltros(){this.turnosFiltrados=this.turnos.filter(e=>{let t=!this.filtroEspecialidad||e.especialidad===this.filtroEspecialidad,r=!this.filtroEspecialista||e.especialista===this.filtroEspecialista;return t&&r})}cancelarTurno(e){return D(this,null,function*(){let{value:t}=yield mv.default.fire({title:"Cancelar Turno",input:"textarea",inputLabel:"Comentario",inputPlaceholder:"Escribe el motivo de la cancelaci\xF3n...",showCancelButton:!0});if(t)try{let r=It(this.firestore,"turnos",e.id);yield hr(r,{estado:"cancelado",comentario:t}),mv.default.fire("Turno cancelado","El turno ha sido cancelado exitosamente.","success"),yield this.cargarTurnos()}catch(r){console.error("Error al cancelar el turno:",r),mv.default.fire("Error","Hubo un problema al cancelar el turno.","error")}})}static \u0275fac=function(t){return new(t||n)(Z(Dt),Z(Pt))};static \u0275cmp=vt({type:n,selectors:[["app-turnos"]],standalone:!0,features:[Et],decls:33,vars:4,consts:[[1,"text-center","mt-5"],[1,"filters-wrapper"],[1,"filters-container"],[1,"filter-section"],[1,"filter-options"],["class","badge specialty-badge",3,"active","click",4,"ngFor","ngForOf"],["class","badge specialist-badge",3,"active","click",4,"ngFor","ngForOf"],[1,"appointments-container"],[1,"table","appointments-table"],[1,"table-header"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"badge","specialty-badge",3,"click"],[1,"badge","specialist-badge",3,"click"],[1,"status-badge",3,"ngClass"],["class","btn cancel-btn btn-sm",3,"click",4,"ngIf"],[1,"btn","cancel-btn","btn-sm",3,"click"],["colspan","5",1,"no-appointments-text"]],template:function(t,r){t&1&&(M(0,"h2",0),O(1,"Gesti\xF3n de Turnos"),S(),M(2,"div",1)(3,"div",2)(4,"div",3)(5,"strong"),O(6,"Filtrar por Especialidad:"),S(),M(7,"div",4),oe(8,TY,2,3,"span",5),S()(),M(9,"div",3)(10,"strong"),O(11,"Filtrar por Especialista:"),S(),M(12,"div",4),oe(13,DY,2,3,"span",6),S()()()(),M(14,"div",7)(15,"table",8)(16,"thead",9)(17,"tr")(18,"th"),O(19,"ID"),S(),M(20,"th"),O(21,"Especialidad"),S(),M(22,"th"),O(23,"Especialista"),S(),M(24,"th"),O(25,"Fecha"),S(),M(26,"th"),O(27,"Estado"),S(),M(28,"th"),O(29,"Acciones"),S()()(),M(30,"tbody"),oe(31,AY,15,14,"tr",10)(32,xY,3,0,"tr",11),S()()()),t&2&&(U(8),q("ngForOf",r.especialidades),U(5),q("ngForOf",r.especialistas),U(18),q("ngForOf",r.turnosFiltrados),U(),q("ngIf",r.turnosFiltrados.length===0))},dependencies:[Lt,Au,Bn,_n,xu,$n],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:flex-start;min-height:100vh;background:linear-gradient(135deg,#7e98f4,#ebb3b3);padding:40px 20px;box-sizing:border-box;flex-direction:column}h2[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.2);margin-bottom:30px;text-align:center;margin-top:5rem}.filters-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.filters-container[_ngcontent-%COMP%]{display:flex;gap:30px}.filter-section[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#333;font-weight:700}.filter-options[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.5em 1em;border-radius:12px;cursor:pointer;transition:background-color .3s,transform .2s}.specialty-badge[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.specialist-badge[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.badge.active[_ngcontent-%COMP%]{transform:scale(1.05)}.badge[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 3px 10px #0000001a}.appointments-container[_ngcontent-%COMP%]{width:100%;margin-top:20px}.appointments-table[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;overflow:hidden;box-shadow:0 4px 15px #0000001a;width:100%}.table-header[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#495057;font-weight:700;text-align:center;padding:15px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;padding:15px;color:#495057;text-align:center}.status-badge[_ngcontent-%COMP%]{border-radius:12px;padding:5px 10px;font-size:.75rem;font-weight:700}.status-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#212529}.status-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.status-info[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff}.status-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.cancel-btn[_ngcontent-%COMP%]{padding:5px 10px;font-size:.85rem;border-radius:5px;background-color:#dc3545;color:#fff;border:none;transition:background-color .3s}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.no-appointments-text[_ngcontent-%COMP%]{color:#6c757d;font-weight:700;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}"]})};var gv=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return D(this,null,function*(){let e=yield this.authService.getUserProfile();return e.tipoUsuario==="paciente"?this.router.navigate(["/mis-turnos-paciente"]):e.tipoUsuario==="especialista"?this.router.navigate(["/mis-turnos-especialista"]):this.router.navigate(["/home"]),!1})}static \u0275fac=function(t){return new(t||n)(ue(Pt),ue(At))};static \u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})};var fr=Yo(Ga());var MY=(n,e,t,r)=>({"badge-warning":n,"badge-success":e,"badge-info":t,"badge-danger":r});function RY(n,e){if(n&1){let t=Ue();M(0,"span",8),ge("click",function(){let i=Ce(t).$implicit,o=X();return o.filtroEspecialidad=o.filtroEspecialidad===i?"":i,Te(o.filtrarTurnos())}),O(1),S()}if(n&2){let t=e.$implicit,r=X();en("active",r.filtroEspecialidad===t),U(),tt(" ",t," ")}}function PY(n,e){if(n&1){let t=Ue();M(0,"span",8),ge("click",function(){let i=Ce(t).$implicit,o=X();return o.filtroPaciente=o.filtroPaciente===i?"":i,Te(o.filtrarTurnos())}),O(1),S()}if(n&2){let t=e.$implicit,r=X();en("active",r.filtroPaciente===t),U(),tt(" ",t," ")}}function NY(n,e){if(n&1){let t=Ue();M(0,"div")(1,"button",12),ge("click",function(){Ce(t);let i=X().$implicit,o=X();return Te(o.cancelarTurno(i))}),O(2,"Cancelar Turno"),S()()}}function kY(n,e){if(n&1){let t=Ue();M(0,"div")(1,"button",13),ge("click",function(){Ce(t);let i=X().$implicit,o=X();return Te(o.rechazarTurno(i))}),O(2,"Rechazar Turno"),S()()}}function OY(n,e){if(n&1){let t=Ue();M(0,"div")(1,"button",14),ge("click",function(){Ce(t);let i=X().$implicit,o=X();return Te(o.aceptarTurno(i))}),O(2,"Aceptar Turno"),S()()}}function FY(n,e){if(n&1){let t=Ue();M(0,"div")(1,"button",15),ge("click",function(){Ce(t);let i=X().$implicit,o=X();return Te(o.finalizarTurno(i))}),O(2,"Finalizar Turno"),S()()}}function LY(n,e){if(n&1){let t=Ue();M(0,"div")(1,"button",16),ge("click",function(){Ce(t);let i=X().$implicit,o=X();return Te(o.verResena(i))}),O(2,"Ver Rese\xF1a"),S()()}}function VY(n,e){if(n&1&&(M(0,"div",9)(1,"p")(2,"strong"),O(3,"Especialidad:"),S(),O(4),S(),M(5,"p")(6,"strong"),O(7,"Paciente:"),S(),O(8),S(),M(9,"p")(10,"strong"),O(11,"Fecha:"),S(),O(12),S(),M(13,"p")(14,"strong"),O(15,"Estado:"),S(),M(16,"span",10),O(17),Cu(18,"uppercase"),S()(),M(19,"p")(20,"strong"),O(21,"ID:"),S(),O(22),S(),oe(23,NY,3,0,"div",11)(24,kY,3,0,"div",11)(25,OY,3,0,"div",11)(26,FY,3,0,"div",11)(27,LY,3,0,"div",11),S()),n&2){let t=e.$implicit;U(4),tt(" ",t.especialidad,""),U(4),tt(" ",t.pacienteNombre,""),U(4),tt(" ",t.fecha,""),U(4),q("ngClass",Iu(13,MY,t.estado==="pendiente",t.estado==="aceptado",t.estado==="realizado",t.estado==="rechazado"||t.estado==="cancelado")),U(),_t(Tu(18,11,t.estado)),U(5),tt(" ",t.id,""),U(),q("ngIf",t.estado!=="aceptado"&&t.estado!=="realizado"&&t.estado!=="rechazado"&&t.estado!=="cancelado"),U(),q("ngIf",t.estado!=="aceptado"&&t.estado!=="realizado"&&t.estado!=="cancelado"&&t.estado!=="rechazado"),U(),q("ngIf",t.estado!=="realizado"&&t.estado!=="cancelado"&&t.estado!=="rechazado"&&t.estado!=="aceptado"),U(),q("ngIf",t.estado==="aceptado"),U(),q("ngIf",t.resena!="")}}function UY(n,e){n&1&&(M(0,"p",17),O(1,"No hay turnos disponibles."),S())}var yv=class n{constructor(e,t){this.firestore=e;this.authService=t}turnos=[];turnosFiltrados=[];especialidades=[];pacientes=[];filtroEspecialidad="";filtroPaciente="";usuario;ngOnInit(){return D(this,null,function*(){this.usuario=yield this.authService.getUserProfile(),this.usuario.tipoUsuario==="especialista"&&(yield this.cargarTurnos())})}cargarTurnos(){return D(this,null,function*(){let e=on(this.firestore,"turnos"),t=nv(e,iv("especialista","==",this.usuario.uid)),i=(yield dr(t)).docs.map(o=>{let s=o.data();return s.fecha&&s.fecha.seconds&&(s.fecha=new Date(s.fecha.seconds*1e3)),new Wa(o.id,s.fecha,s.estado,s.especialidad,s.paciente,s.especialista)});for(let o of i)if(o.paciente){let s=It(this.firestore,"usuarios",o.paciente),a=yield Lr(s);a.exists()?o.pacienteNombre=a.data().nombre:o.pacienteNombre="Desconocido"}this.turnos=i,this.turnosFiltrados=[...this.turnos],this.especialidades=Array.from(new Set(this.turnos.map(o=>o.especialidad??""))).filter(Boolean),this.pacientes=Array.from(new Set(this.turnos.map(o=>o.pacienteNombre??""))).filter(Boolean)})}filtrarTurnos(){this.turnosFiltrados=this.turnos.filter(e=>{let t=!this.filtroEspecialidad||e.especialidad===this.filtroEspecialidad,r=!this.filtroPaciente||e.pacienteNombre===this.filtroPaciente;return t&&r})}verResena(e){return D(this,null,function*(){try{let t=It(this.firestore,"turnos",e.id),r=yield Lr(t);if(r.exists()){let o=r.data().resena||"No hay rese\xF1a disponible.";fr.default.fire({title:"Rese\xF1a del Turno",text:o,icon:"info",confirmButtonText:"Cerrar"})}else fr.default.fire({title:"Rese\xF1a no disponible",text:"No se encontr\xF3 informaci\xF3n del turno.",icon:"warning",confirmButtonText:"Cerrar"})}catch(t){console.error("Error al obtener la rese\xF1a:",t),fr.default.fire({title:"Error",text:"Hubo un problema al obtener la rese\xF1a del turno.",icon:"error",confirmButtonText:"Cerrar"})}})}cancelarTurno(e){e.estado!=="aceptado"&&e.estado!=="realizado"&&e.estado!=="rechazado"&&fr.default.fire({title:"Cancelar Turno",input:"textarea",inputLabel:"Motivo de la cancelaci\xF3n",showCancelButton:!0}).then(t=>D(this,null,function*(){if(t.isConfirmed&&t.value)try{let r=It(this.firestore,"turnos",e.id);yield hr(r,{estado:"cancelado",motivoCancelacion:t.value}),fr.default.fire("Turno cancelado","El turno ha sido cancelado exitosamente.","success"),yield this.cargarTurnos()}catch(r){console.error("Error al cancelar el turno:",r),fr.default.fire("Error","Hubo un problema al cancelar el turno.","error")}}))}rechazarTurno(e){e.estado!=="aceptado"&&e.estado!=="realizado"&&e.estado!=="cancelado"&&fr.default.fire({title:"Rechazar Turno",input:"textarea",inputLabel:"Motivo del rechazo",showCancelButton:!0}).then(t=>{t.isConfirmed&&t.value&&(e.estado="rechazado",e.motivoRechazo=t.value,fr.default.fire("Turno rechazado","El turno ha sido rechazado exitosamente.","success"))})}aceptarTurno(e){return D(this,null,function*(){if(e.estado!=="realizado"&&e.estado!=="cancelado"&&e.estado!=="rechazado")try{let t=It(this.firestore,"turnos",e.id);yield hr(t,{estado:"aceptado"}),e.estado="aceptado",fr.default.fire("Turno aceptado","El turno ha sido aceptado.","success"),yield this.cargarTurnos()}catch(t){console.error("Error al aceptar el turno:",t),fr.default.fire("Error","Hubo un problema al aceptar el turno.","error")}})}finalizarTurno(e){return D(this,null,function*(){if(e.estado==="aceptado"){let{value:t}=yield fr.default.fire({title:"Finalizar Turno",input:"textarea",inputLabel:"Comentario y diagn\xF3stico",inputPlaceholder:"Escribe el diagn\xF3stico aqu\xED...",showCancelButton:!0});if(t)try{let r=It(this.firestore,"turnos",e.id);yield hr(r,{estado:"realizado",diagnostico:t,tieneDiagnostico:!0}),e.estado="realizado",e.diagnostico=t,e.tieneDiagnostico=!0,fr.default.fire("Turno finalizado","El turno ha sido finalizado exitosamente.","success"),yield this.cargarTurnos()}catch(r){console.error("Error al finalizar el turno:",r),fr.default.fire("Error","Hubo un problema al finalizar el turno.","error")}}})}static \u0275fac=function(t){return new(t||n)(Z(Dt),Z(Pt))};static \u0275cmp=vt({type:n,selectors:[["app-mis-turnos-especialista"]],standalone:!0,features:[Et],decls:16,vars:4,consts:[[1,"text-center"],[1,"filters-container"],[1,"filter-group"],[1,"filter-options"],["class","filter-badge",3,"active","click",4,"ngFor","ngForOf"],[1,"appointments-list"],["class","appointment-card",4,"ngFor","ngForOf"],["class","no-turnos-message",4,"ngIf"],[1,"filter-badge",3,"click"],[1,"appointment-card"],[1,"badge",3,"ngClass"],[4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-info",3,"click"],[1,"no-turnos-message"]],template:function(t,r){t&1&&(M(0,"h2",0),O(1,"Mis Turnos"),S(),M(2,"div",1)(3,"div",2)(4,"strong"),O(5,"Filtrar por Especialidad:"),S(),M(6,"div",3),oe(7,RY,2,3,"span",4),S()(),M(8,"div",2)(9,"strong"),O(10,"Filtrar por Paciente:"),S(),M(11,"div",3),oe(12,PY,2,3,"span",4),S()()(),M(13,"div",5),oe(14,VY,28,18,"div",6)(15,UY,2,0,"p",7),S()),t&2&&(U(7),q("ngForOf",r.especialidades),U(5),q("ngForOf",r.pacientes),U(2),q("ngForOf",r.turnosFiltrados),U(),q("ngIf",r.turnosFiltrados.length===0))},dependencies:[Lt,Au,Bn,_n,xu,$n,fo],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);padding:40px 20px;box-sizing:border-box}h2[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#333;margin-top:20px;margin-bottom:30px;text-align:center}.filters-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin-bottom:20px;background-color:#fff;border-radius:8px;padding:15px 20px;box-shadow:0 4px 10px #0000001a;font-family:system-ui}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.filter-options[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}.filter-badge[_ngcontent-%COMP%]{font-size:.85rem;padding:5px 12px;border-radius:12px;background-color:#007bff;color:#fff;cursor:pointer;transition:transform .2s,box-shadow .2s}.filter-badge.active[_ngcontent-%COMP%]{background-color:#0056b3;transform:scale(1.1);box-shadow:0 3px 8px #0003}.filter-badge[_ngcontent-%COMP%]:hover{background-color:#0056b3;box-shadow:0 3px 8px #00000026}.appointments-list[_ngcontent-%COMP%]{width:100%;max-width:800px;margin-top:20px;display:flex;flex-direction:column;gap:15px}.appointment-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:20px;box-shadow:0 4px 15px #0000001a;transition:transform .2s,box-shadow .2s}.appointment-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 18px #00000026}.appointment-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:.9rem;color:#555}.badge[_ngcontent-%COMP%]{padding:3px 10px;border-radius:12px;font-size:.8rem;color:#fff}.badge-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#212529}.badge-success[_ngcontent-%COMP%]{background-color:#28a745}.badge-info[_ngcontent-%COMP%]{background-color:#17a2b8}.badge-danger[_ngcontent-%COMP%]{background-color:#dc3545}.btn[_ngcontent-%COMP%]{padding:8px 12px;border:none;border-radius:5px;font-size:.85rem;cursor:pointer;transition:background-color .3s,transform .2s}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#212529}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff}.btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.no-turnos-message[_ngcontent-%COMP%]{text-align:center;color:#555;font-size:.9rem;margin-top:20px}"]})};var Hi=Yo(Ga());var jY=(n,e,t,r)=>({"badge-warning":n,"badge-success":e,"badge-info":t,"badge-danger":r});function BY(n,e){if(n&1){let t=Ue();M(0,"span",8),ge("click",function(){let i=Ce(t).$implicit,o=X();return o.filtroEspecialidad=o.filtroEspecialidad===i?"":i,Te(o.aplicarFiltros())}),O(1),S()}if(n&2){let t=e.$implicit,r=X();en("active",r.filtroEspecialidad===t),U(),tt(" ",t," ")}}function $Y(n,e){if(n&1){let t=Ue();M(0,"span",8),ge("click",function(){let i=Ce(t).$implicit,o=X();return o.filtroEspecialista=o.filtroEspecialista===i?"":i,Te(o.aplicarFiltros())}),O(1),S()}if(n&2){let t=e.$implicit,r=X();en("active",r.filtroEspecialista===t),U(),tt(" ",t," ")}}function HY(n,e){if(n&1){let t=Ue();M(0,"div")(1,"button",12),ge("click",function(){Ce(t);let i=X().$implicit,o=X();return Te(o.cancelarTurno(i))}),O(2,"Cancelar Turno"),S()()}}function zY(n,e){if(n&1){let t=Ue();M(0,"div")(1,"button",13),ge("click",function(){Ce(t);let i=X().$implicit,o=X();return Te(o.verDiagnostico(i))}),O(2,"Ver Diagnostico"),S()()}}function qY(n,e){if(n&1){let t=Ue();M(0,"div")(1,"button",14),ge("click",function(){Ce(t);let i=X().$implicit,o=X();return Te(o.completarEncuesta(i))}),O(2,"Completar Encuesta"),S()()}}function GY(n,e){if(n&1){let t=Ue();M(0,"div")(1,"button",15),ge("click",function(){Ce(t);let i=X().$implicit,o=X();return Te(o.calificarAtencion(i))}),O(2,"Calificar Atenci\xF3n"),S()()}}function WY(n,e){if(n&1&&(M(0,"div",9)(1,"p")(2,"strong"),O(3,"Especialidad:"),S(),O(4),S(),M(5,"p")(6,"strong"),O(7,"Especialista:"),S(),O(8),S(),M(9,"p")(10,"strong"),O(11,"Fecha:"),S(),O(12),S(),M(13,"p")(14,"strong"),O(15,"Estado:"),S(),M(16,"span",10),O(17),Cu(18,"uppercase"),S()(),M(19,"p")(20,"strong"),O(21,"ID:"),S(),O(22),S(),oe(23,HY,3,0,"div",11)(24,zY,3,0,"div",11)(25,qY,3,0,"div",11)(26,GY,3,0,"div",11),S()),n&2){let t=e.$implicit;U(4),tt(" ",t.especialidad,""),U(4),tt(" ",t.especialista,""),U(4),tt(" ",t.fecha,""),U(4),q("ngClass",Iu(12,jY,t.estado==="pendiente",t.estado==="aceptado",t.estado==="realizado",t.estado==="rechazado"||t.estado==="cancelado")),U(),_t(Tu(18,10,t.estado)),U(5),tt(" ",t.id,""),U(),q("ngIf",t.estado!=="realizado"&&t.estado!=="cancelado"),U(),q("ngIf",t.diagnostico!==""),U(),q("ngIf",t.estado==="realizado"&&t.tieneDiagnostico),U(),q("ngIf",t.estado==="realizado")}}function YY(n,e){n&1&&(M(0,"p",16),O(1,"No hay turnos disponibles."),S())}var vv=class n{constructor(e,t){this.firestore=e;this.authService=t}turnos=[];turnosFiltrados=[];filtroEspecialidad="";filtroEspecialista="";especialidades=[];especialistas=[];usuario;ngOnInit(){return D(this,null,function*(){this.usuario=yield this.authService.getUserProfile(),this.usuario.tipoUsuario==="paciente"&&(yield this.cargarTurnos())})}cargarTurnos(){return D(this,null,function*(){let e=on(this.firestore,"turnos"),t=nv(e,iv("paciente","==",this.usuario.uid)),r=yield dr(t);this.turnos=r.docs.map(i=>{let o=i.data(),s=o.fecha&&o.fecha.seconds?new Date(o.fecha.seconds*1e3):new Date;return new Wa(i.id,s,o.estado,o.especialidad,o.paciente,o.especialista,o.diagnostico,o.tieneDiagnostico,o.motivoCancelacion,o.motivoRechazo,o.tieneResena,o.resena)}),this.turnosFiltrados=[...this.turnos],this.especialidades=Array.from(new Set(this.turnos.map(i=>i.especialidad??""))).filter(Boolean),this.especialistas=Array.from(new Set(this.turnos.map(i=>i.especialista??""))).filter(Boolean)})}aplicarFiltros(){this.turnosFiltrados=this.turnos.filter(e=>{let t=!this.filtroEspecialidad||e.especialidad===this.filtroEspecialidad,r=!this.filtroEspecialista||e.especialista===this.filtroEspecialista;return t&&r})}cancelarTurno(e){return D(this,null,function*(){let{value:t}=yield Hi.default.fire({title:"Cancelar Turno",input:"textarea",inputLabel:"Comentario",inputPlaceholder:"Escribe el motivo de la cancelaci\xF3n...",showCancelButton:!0});if(t)try{let r=It(this.firestore,"turnos",e.id);yield hr(r,{estado:"cancelado",comentario:t}),Hi.default.fire("Turno cancelado","El turno ha sido cancelado exitosamente.","success"),yield this.cargarTurnos()}catch(r){console.error("Error al cancelar el turno:",r),Hi.default.fire("Error","Hubo un problema al cancelar el turno.","error")}})}verDiagnostico(e){return D(this,null,function*(){if(e.estado==="realizado")try{let t=It(this.firestore,"turnos",e.id),r=yield Lr(t);if(r.exists()){let o=r.data().diagnostico||"No hay diagn\xF3stico disponible.";Hi.default.fire({title:"Diagn\xF3stico del Turno",text:o,icon:"info",confirmButtonText:"Cerrar"})}else Hi.default.fire({title:"Diagn\xF3stico no disponible",text:"El turno no tiene diagn\xF3stico o no ha sido realizado.",icon:"warning",confirmButtonText:"Cerrar"})}catch(t){console.error("Error al obtener el diagn\xF3stico:",t),Hi.default.fire({title:"Error",text:"Hubo un problema al obtener el diagn\xF3stico del turno.",icon:"error",confirmButtonText:"Cerrar"})}else Hi.default.fire({title:"Diagn\xF3stico no disponible",text:"El turno no tiene diagn\xF3stico o no ha sido realizado.",icon:"warning",confirmButtonText:"Cerrar"})})}completarEncuesta(e){e.estado==="realizado"&&e.tieneResena&&console.log("Completar encuesta del turno:",e)}calificarAtencion(e){return D(this,null,function*(){if(e.estado==="realizado"){let{value:t}=yield Hi.default.fire({title:"Calificar Atenci\xF3n",input:"textarea",inputLabel:"Escribe tu rese\xF1a",inputPlaceholder:"Escribe tu rese\xF1a aqu\xED...",showCancelButton:!0});if(t)try{let r=It(this.firestore,"turnos",e.id);yield hr(r,{resena:t}),e.resena=t,Hi.default.fire("Rese\xF1a guardada","Tu rese\xF1a ha sido guardada exitosamente.","success"),yield this.cargarTurnos()}catch(r){console.error("Error al guardar la rese\xF1a:",r),Hi.default.fire("Error","Hubo un problema al guardar la rese\xF1a.","error")}}})}static \u0275fac=function(t){return new(t||n)(Z(Dt),Z(Pt))};static \u0275cmp=vt({type:n,selectors:[["app-mis-turnos-paciente"]],standalone:!0,features:[Et],decls:16,vars:4,consts:[[1,"text-center"],[1,"filters-container"],[1,"filter-group"],[1,"filter-options"],["class","filter-badge",3,"active","click",4,"ngFor","ngForOf"],[1,"appointments-list"],["class","appointment-card",4,"ngFor","ngForOf"],["class","no-turnos-message",4,"ngIf"],[1,"filter-badge",3,"click"],[1,"appointment-card"],[1,"badge",3,"ngClass"],[4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-info",3,"click"],[1,"no-turnos-message"]],template:function(t,r){t&1&&(M(0,"h2",0),O(1,"Mis Turnos"),S(),M(2,"div",1)(3,"div",2)(4,"strong"),O(5,"Filtrar por Especialidad:"),S(),M(6,"div",3),oe(7,BY,2,3,"span",4),S()(),M(8,"div",2)(9,"strong"),O(10,"Filtrar por Especialista:"),S(),M(11,"div",3),oe(12,$Y,2,3,"span",4),S()()(),M(13,"div",5),oe(14,WY,27,17,"div",6)(15,YY,2,0,"p",7),S()),t&2&&(U(7),q("ngForOf",r.especialidades),U(5),q("ngForOf",r.especialistas),U(2),q("ngForOf",r.turnosFiltrados),U(),q("ngIf",r.turnosFiltrados.length===0))},dependencies:[Lt,Au,Bn,_n,xu,$n,fo],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);padding:40px 20px;box-sizing:border-box}h2[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#333;margin-top:20px;margin-bottom:20px;text-align:center}.filters-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:15px;margin-bottom:10px;background-color:#fff;border-radius:8px;padding:10px 15px;box-shadow:0 4px 10px #0000001a;font-family:system-ui}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.filter-options[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;margin-top:5px}.filter-badge[_ngcontent-%COMP%]{font-size:.85rem;padding:5px 12px;border-radius:12px;background-color:#007bff;color:#fff;cursor:pointer;transition:transform .2s,box-shadow .2s}.filter-badge.active[_ngcontent-%COMP%]{background-color:#0056b3;transform:scale(1.1);box-shadow:0 3px 8px #0003}.filter-badge[_ngcontent-%COMP%]:hover{background-color:#0056b3;box-shadow:0 3px 8px #00000026}.appointments-list[_ngcontent-%COMP%]{width:100%;max-width:800px;margin-top:10px;display:flex;flex-direction:column;gap:15px}.appointment-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:20px;box-shadow:0 4px 15px #0000001a;transition:transform .2s,box-shadow .2s}.appointment-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 18px #00000026}.appointment-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:.9rem;color:#555}.badge[_ngcontent-%COMP%]{padding:3px 10px;border-radius:12px;font-size:.8rem;color:#fff}.badge-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#212529}.badge-success[_ngcontent-%COMP%]{background-color:#28a745}.badge-info[_ngcontent-%COMP%]{background-color:#17a2b8}.badge-danger[_ngcontent-%COMP%]{background-color:#dc3545}.btn[_ngcontent-%COMP%]{padding:8px 12px;border:none;border-radius:5px;font-size:.85rem;cursor:pointer;transition:background-color .3s,transform .2s}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff}.btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.no-turnos-message[_ngcontent-%COMP%]{text-align:center;color:#555;font-size:.9rem;margin-top:20px}"]})};var Sd=Yo(VT()),cle=Yo(JO());function KY(n,e){if(n&1&&(M(0,"option",11),O(1),S()),n&2){let t=e.$implicit;q("ngValue",t),U(),Um(" ",t.nombre," ",t.apellido," ")}}function QY(n,e){if(n&1){let t=Ue();M(0,"div",7)(1,"label",8),O(2,"Seleccionar Paciente:"),S(),M(3,"select",9),Pw("ngModelChange",function(i){Ce(t);let o=X();return mM(o.pacienteSeleccionado,i)||(o.pacienteSeleccionado=i),Te(i)}),oe(4,KY,2,3,"option",10),S()()}if(n&2){let t=X();U(3),Rw("ngModel",t.pacienteSeleccionado),U(),q("ngForOf",t.pacientes)}}function ZY(n,e){if(n&1){let t=Ue();M(0,"button",12),ge("click",function(){let i=Ce(t).$implicit,o=X();return Te(o.seleccionarEspecialista(i))}),Ze(1,"img",13),M(2,"p"),O(3),S()()}if(n&2){let t=e.$implicit;U(),Eu("alt",t.nombre),q("src",t.imagen,fa),U(2),Um("",t.nombre," ",t.apellido,"")}}function JY(n,e){if(n&1){let t=Ue();M(0,"button",16),ge("click",function(){let i=Ce(t).$implicit,o=X(2);return Te(o.seleccionarEspecialidad(i))}),Ze(1,"img",13),M(2,"p"),O(3),S()()}if(n&2){let t=e.$implicit;U(),Eu("alt",t.nombre),q("src",t.imagen||"https://firebasestorage.googleapis.com/v0/b/labiv-tp-final-56381.firebasestorage.app/o/especialidades%2Fespecialidad-por-defecto.png?alt=media&token=0218ba02-1cb2-47cb-b5d2-15f2b6687961",fa),U(2),_t(t.nombre)}}function XY(n,e){if(n&1&&(M(0,"div",14),oe(1,JY,4,3,"button",15),S()),n&2){let t=X();U(),q("ngForOf",t.especialidades)}}function eK(n,e){if(n&1){let t=Ue();M(0,"button",19),ge("click",function(){let i=Ce(t).$implicit,o=X(2);return Te(o.seleccionarDia(i))}),O(1),S()}if(n&2){let t=e.$implicit;U(),tt(" ",t," ")}}function tK(n,e){if(n&1&&(M(0,"div",17),oe(1,eK,2,1,"button",18),S()),n&2){let t=X();U(),q("ngForOf",t.diasDisponibles)}}function nK(n,e){if(n&1){let t=Ue();M(0,"button",16),ge("click",function(){let i=Ce(t).$implicit,o=X(2);return Te(o.seleccionarHorario(i))}),O(1),S()}if(n&2){let t=e.$implicit;U(),tt(" ",t," ")}}function rK(n,e){if(n&1&&(M(0,"div",20),oe(1,nK,2,1,"button",15),S()),n&2){let t=X();U(),q("ngForOf",t.horariosDisponibles)}}function iK(n,e){if(n&1){let t=Ue();M(0,"div")(1,"button",21),ge("click",function(){Ce(t);let i=X();return Te(i.confirmarTurno())}),O(2," Confirmar Turno "),S()()}}Sd.default.locale("es");var _v=class n{constructor(e,t,r){this.firestore=e;this.authService=t;this.router=r}especialistas=[];especialidades=[];pacientes=[];diasDisponibles=[];horariosDisponibles=[];cargando=!0;usuario=null;tipoUsuario="";pacienteSeleccionado=null;especialistaSeleccionado=null;especialidadSeleccionada="";diaSeleccionado="";horarioSeleccionado="";ngOnInit(){return D(this,null,function*(){try{this.usuario=yield this.authService.getUserProfile(),this.tipoUsuario=this.usuario?.tipoUsuario||"",yield this.cargarEspecialistas(),this.tipoUsuario==="administrador"&&(yield this.cargarPacientes())}catch(e){console.error("Error al cargar especialistas:",e)}finally{this.cargando=!1}})}cargarEspecialistas(){return D(this,null,function*(){let e=on(this.firestore,"usuarios"),r=(yield dr(e)).docs.map(i=>{let o=i.data();return{uid:i.id,nombre:o.nombre,apellido:o.apellido,imagen:o.imgUrl1||"ruta-a-imagen-por-defecto.jpg",tipoUsuario:o.tipoUsuario,especialidades:[]}}).filter(i=>i.tipoUsuario==="especialista");for(let i of r){let o=It(this.firestore,"disponibilidad",i.uid),s=yield Lr(o);s.exists()&&(i.especialidades=s.data()?.especialidades||[])}this.especialistas=r})}cargarPacientes(){return D(this,null,function*(){let e=on(this.firestore,"usuarios"),r=(yield dr(e)).docs.map(i=>{let o=i.data();return{uid:i.id,nombre:o.nombre,apellido:o.apellido,tipoUsuario:o.tipoUsuario}}).filter(i=>i.tipoUsuario==="paciente");this.pacientes=r})}seleccionarEspecialista(e){this.especialistaSeleccionado=e,this.especialidades=e.especialidades}seleccionarEspecialidad(e){this.especialidadSeleccionada=e.nombre,this.diasDisponibles=this.generarDiasDisponibles(e.disponibilidad||[])}generarDiasDisponibles(e){let t=[],r=(0,Sd.default)();for(let i=0;i<15;i++){let o=r.clone().add(i,"days"),s=o.format("dddd").toLowerCase();e.some(l=>l.dia.toLowerCase()===s)&&t.push(o.format("YYYY-MM-DD"))}return t}seleccionarDia(e){this.diaSeleccionado=e;let t=this.especialistaSeleccionado.especialidades.find(r=>r.nombre===this.especialidadSeleccionada)?.disponibilidad.filter(r=>r.dia.toLowerCase()===(0,Sd.default)(e).format("dddd").toLowerCase());this.horariosDisponibles=[],t&&t.length>0&&t.forEach(r=>{let i=(0,Sd.default)(r.desde,"HH:mm"),o=(0,Sd.default)(r.hasta,"HH:mm");for(;i.isBefore(o);){let s=i.clone().add(30,"minutes");if(s.isAfter(o))break;this.horariosDisponibles.push(`${i.format("HH:mm")} - ${s.format("HH:mm")}`),i.add(30,"minutes")}})}seleccionarHorario(e){this.horarioSeleccionado=e}confirmarTurno(){return D(this,null,function*(){let e=this.tipoUsuario==="administrador"?this.pacienteSeleccionado?.uid:this.usuario?.uid;if(!this.especialistaSeleccionado||!this.especialidadSeleccionada||!this.diaSeleccionado||!this.horarioSeleccionado||!e){console.error("Faltan datos para confirmar el turno");return}try{let t=on(this.firestore,"turnos"),r={id:"",fecha:new Date(`${this.diaSeleccionado} ${this.horarioSeleccionado.split(" - ")[0]}`),estado:"pendiente",especialidad:this.especialidadSeleccionada,paciente:e,especialista:this.especialistaSeleccionado.uid},i=yield qa(t,r);yield hr(i,{id:i.id}),this.router.navigate(["/mis-turnos-paciente"])}catch(t){console.error("Error al confirmar el turno:",t)}})}static \u0275fac=function(t){return new(t||n)(Z(Dt),Z(Pt),Z(At))};static \u0275cmp=vt({type:n,selectors:[["app-solicitar-turno"]],standalone:!0,features:[Et],decls:9,vars:6,consts:[["class","pacientes",4,"ngIf"],[1,"especialistas"],["class","btn-redondo",3,"click",4,"ngFor","ngForOf"],["class","especialidades",4,"ngIf"],["class","dias-disponibles",4,"ngIf"],["class","horarios-disponibles",4,"ngIf"],[4,"ngIf"],[1,"pacientes"],["for","paciente"],["id","paciente",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"btn-redondo",3,"click"],[3,"src","alt"],[1,"especialidades"],["class","btn-cuadrado",3,"click",4,"ngFor","ngForOf"],[1,"btn-cuadrado",3,"click"],[1,"dias-disponibles"],["class","btn-rectangular",3,"click",4,"ngFor","ngForOf"],[1,"btn-rectangular",3,"click"],[1,"horarios-disponibles"],[1,"btn-confirmar",3,"click"]],template:function(t,r){t&1&&(M(0,"h3"),O(1,"Sacar Turno"),S(),oe(2,QY,5,2,"div",0),M(3,"div",1),oe(4,ZY,4,4,"button",2),S(),oe(5,XY,2,1,"div",3)(6,tK,2,1,"div",4)(7,rK,2,1,"div",5)(8,iK,3,0,"div",6)),t&2&&(U(2),q("ngIf",r.tipoUsuario==="administrador"),U(2),q("ngForOf",r.especialistas),U(),q("ngIf",r.especialistaSeleccionado),U(),q("ngIf",r.especialidadSeleccionada),U(),q("ngIf",r.diaSeleccionado),U(),q("ngIf",r.diaSeleccionado&&r.horarioSeleccionado))},dependencies:[Lt,Bn,_n,fo,Ma,Ra,xa,lo,Qb,Ca],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#7e98f4,#ebb3b3);padding:20px;box-sizing:border-box;flex-direction:column}h3[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:24px;font-weight:700;margin-bottom:25px;text-shadow:1px 1px 3px rgba(0,0,0,.2)}.especialistas[_ngcontent-%COMP%], .especialidades[_ngcontent-%COMP%], .dias-disponibles[_ngcontent-%COMP%], .horarios-disponibles[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:15px;margin-bottom:20px;padding:10px;background:#fff3;border-radius:15px;box-shadow:0 5px 15px #0000001a}.btn-redondo[_ngcontent-%COMP%]{border:none;border-radius:50%;width:100px;height:100px;overflow:hidden;background-color:#f4f4f4;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:transform .2s,background-color .3s;box-shadow:0 3px 10px #00000026}.btn-redondo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;border-radius:50%}.btn-redondo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin-top:5px;color:#333;font-weight:600}.btn-cuadrado[_ngcontent-%COMP%]{border:none;border-radius:10px;width:120px;height:120px;background-color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:transform .2s,box-shadow .3s;box-shadow:0 3px 10px #00000026}.btn-cuadrado[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;margin-bottom:5px;border-radius:5px}.btn-cuadrado[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#333;font-weight:500}.btn-rectangular[_ngcontent-%COMP%]{border:none;border-radius:5px;padding:10px 20px;background-color:#e0e0e0;color:#333;font-size:14px;font-weight:600;cursor:pointer;transition:transform .2s,background-color .3s;box-shadow:0 2px 8px #0000001a}.horarios-disponibles[_ngcontent-%COMP%]   .btn-cuadrado[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:10px;font-size:14px;background-color:#d1e8e4;color:#333;font-weight:600;box-shadow:0 2px 8px #0000001a}button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#c8d6e5;box-shadow:0 4px 12px #00000026}button[_ngcontent-%COMP%]:active{transform:scale(.98);box-shadow:0 2px 6px #0003}@media (max-width: 768px){.btn-redondo[_ngcontent-%COMP%], .btn-cuadrado[_ngcontent-%COMP%]{width:80px;height:80px}.btn-cuadrado[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}h3[_ngcontent-%COMP%]{font-size:20px}}"]})};var XO=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:jh},{path:"ingresar",component:ov},{path:"registro",component:dv},{path:"test",component:jh},{path:"usuarios",component:hv,canActivate:[Ff]},{path:"mi-perfil",component:pv},{path:"mis-turnos",component:Lf,canActivate:[gv]},{path:"mis-turnos-paciente",component:vv},{path:"mis-turnos-especialista",component:yv},{path:"solicitar-turno",component:_v},{path:"turnos",component:Lf,canActivate:[Ff]},{path:"**",component:_g}];var oK={apiKey:"AIzaSyAA03qxSOen5q0quwYEfU9Oqu55H0wgsho",authDomain:"labiv-tp-final-56381.firebaseapp.com",projectId:"labiv-tp-final-56381",storageBucket:"labiv-tp-final-56381.firebasestorage.app",messagingSenderId:"408083825602",appId:"1:408083825602:web:b214743e886a4cf6fa4c5b"},eF={providers:[CM({eventCoalescing:!0}),o1(XO),mR(),mP(()=>gP(oK)),hN(()=>pN()),gO(()=>yO()),KO(()=>uv()),iR()]};function sK(n,e){n&1&&(M(0,"li")(1,"a",4),O(2,"Ingresar"),S()())}function aK(n,e){n&1&&(M(0,"li")(1,"a",5),O(2,"Registrarse"),S()())}function cK(n,e){n&1&&(M(0,"li")(1,"a",6),O(2,"Mi Perfil"),S()())}function lK(n,e){n&1&&(M(0,"li")(1,"a",7),O(2,"Mis Turnos"),S()())}function uK(n,e){n&1&&(M(0,"li")(1,"a",8),O(2,"Solicitar Turno"),S()())}function dK(n,e){n&1&&(M(0,"li")(1,"a",9),O(2,"Usuarios"),S()())}function hK(n,e){n&1&&(M(0,"li")(1,"a",10),O(2,"Gestionar Turnos"),S()())}function fK(n,e){if(n&1){let t=Ue();M(0,"li",11)(1,"a",12),ge("click",function(){Ce(t);let i=X();return Te(i.logout())}),O(2,"Cerrar Sesi\xF3n"),S()()}}var wv=class n{constructor(e,t){this.router=e;this.authService=t}isLoggedIn=!1;tipoUsuario=null;ngOnInit(){this.authService.isLoggedInEmitter.subscribe(e=>{this.isLoggedIn=e,e?this.authService.getUserProfile().then(t=>{this.tipoUsuario=t?.tipoUsuario||null}):this.tipoUsuario=null})}goTo(e){this.router.navigate([e])}logout(){this.authService.logout().then(()=>{this.isLoggedIn=!1,this.tipoUsuario=null,this.router.navigate(["/home"])})}static \u0275fac=function(t){return new(t||n)(Z(At),Z(Pt))};static \u0275cmp=vt({type:n,selectors:[["app-root"]],standalone:!0,features:[Et],decls:14,vars:8,consts:[[1,"navbar"],["routerLink","/home","routerLinkActive","active"],[4,"ngIf"],["class","logout",4,"ngIf"],["routerLink","/ingresar","routerLinkActive","active"],["routerLink","/registro","routerLinkActive","active"],["routerLink","/mi-perfil","routerLinkActive","active"],["routerLink","/mis-turnos","routerLinkActive","active"],["routerLink","/solicitar-turno","routerLinkActive","active"],["routerLink","/usuarios","routerLinkActive","active"],["routerLink","/turnos","routerLinkActive","active"],[1,"logout"],[3,"click"]],template:function(t,r){t&1&&(M(0,"nav",0)(1,"ul")(2,"li")(3,"a",1),O(4,"Home"),S()(),oe(5,sK,3,0,"li",2)(6,aK,3,0,"li",2)(7,cK,3,0,"li",2)(8,lK,3,0,"li",2)(9,uK,3,0,"li",2)(10,dK,3,0,"li",2)(11,hK,3,0,"li",2)(12,fK,3,0,"li",3),S()(),Ze(13,"router-outlet")),t&2&&(U(5),q("ngIf",!r.isLoggedIn),U(),q("ngIf",!r.isLoggedIn),U(),q("ngIf",r.isLoggedIn),U(),q("ngIf",r.isLoggedIn&&r.tipoUsuario==="paciente"||r.tipoUsuario==="especialista"),U(),q("ngIf",r.isLoggedIn&&r.tipoUsuario==="paciente"||r.tipoUsuario==="administrador"),U(),q("ngIf",r.isLoggedIn&&r.tipoUsuario==="administrador"),U(),q("ngIf",r.isLoggedIn&&r.tipoUsuario==="administrador"),U(),q("ngIf",r.isLoggedIn))},dependencies:[Ob,Ea,r1,Lt,_n],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;margin:0;padding:0}.navbar[_ngcontent-%COMP%]{background-color:#333;padding:10px;position:fixed;top:0;left:0;width:100%;z-index:100}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;display:flex}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:20px}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:8px 16px;display:block}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .active[_ngcontent-%COMP%]{background-color:#575757;border-radius:5px}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:stretch;height:calc(100vh - 60px);margin-top:60px;background-color:inherit;width:100%;overflow:hidden}router-outlet[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;overflow:hidden}.logout[_ngcontent-%COMP%]{margin-left:auto}"]})};fR(wv,eF).catch(n=>console.error(n));
