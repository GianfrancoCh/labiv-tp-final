var vO=Object.create;var Mg=Object.defineProperty,_O=Object.defineProperties,wO=Object.getOwnPropertyDescriptor,IO=Object.getOwnPropertyDescriptors,EO=Object.getOwnPropertyNames,th=Object.getOwnPropertySymbols,u0=Object.getPrototypeOf,Ng=Object.prototype.hasOwnProperty,l0=Object.prototype.propertyIsEnumerable,bO=Reflect.get;var c0=(n,e,t)=>e in n?Mg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,H=(n,e)=>{for(var t in e||={})Ng.call(e,t)&&c0(n,t,e[t]);if(th)for(var t of th(e))l0.call(e,t)&&c0(n,t,e[t]);return n},we=(n,e)=>_O(n,IO(e));var nh=(n,e)=>{var t={};for(var r in n)Ng.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&th)for(var r of th(n))e.indexOf(r)<0&&l0.call(n,r)&&(t[r]=n[r]);return t};var CO=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var TO=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of EO(e))!Ng.call(n,i)&&i!==t&&Mg(n,i,{get:()=>e[i],enumerable:!(r=wO(e,i))||r.enumerable});return n};var rh=(n,e,t)=>(t=n!=null?vO(u0(n)):{},TO(e||!n||!n.__esModule?Mg(t,"default",{value:n,enumerable:!0}):t,n));var zi=(n,e,t)=>bO(u0(n),t,e);var C=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(d){i(d)}},s=u=>{try{a(t.throw(u))}catch(d){i(d)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var sd=CO((Br,zb)=>{"use strict";(function(n,e){typeof Br=="object"&&typeof zb<"u"?zb.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Br,function(){"use strict";function n(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(l,h){return l.get(n(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(n(l,h),y),y}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,w=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(y,w)}),d="swal2-",m=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),I=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),x="SweetAlert2:",k=l=>l.charAt(0).toUpperCase()+l.slice(1),N=l=>{console.warn(`${x} ${typeof l=="object"?l.join(" "):l}`)},B=l=>{console.error(`${x} ${l}`)},X=[],G=l=>{X.includes(l)||(X.push(l),N(l))},ee=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;G(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},pe=l=>typeof l=="function"?l():l,ie=l=>l&&typeof l.toPromise=="function",D=l=>ie(l)?l.toPromise():Promise.resolve(l),E=l=>l&&Promise.resolve(l)===l,b=()=>document.body.querySelector(`.${m.container}`),S=l=>{let h=b();return h?h.querySelector(l):null},A=l=>S(`.${l}`),R=()=>A(m.popup),T=()=>A(m.icon),Vn=()=>A(m["icon-content"]),Si=()=>A(m.title),qc=()=>A(m["html-container"]),Ai=()=>A(m.image),Hr=()=>A(m["progress-steps"]),Ri=()=>A(m["validation-message"]),cn=()=>S(`.${m.actions} .${m.confirm}`),xi=()=>S(`.${m.actions} .${m.cancel}`),kt=()=>S(`.${m.actions} .${m.deny}`),Tt=()=>A(m["input-label"]),Mi=()=>S(`.${m.loader}`),Un=()=>A(m.actions),ud=()=>A(m.footer),cr=()=>A(m["timer-progress-bar"]),zc=()=>A(m.close),hg=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ni=()=>{let l=R();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort((Q,_e)=>{let Ve=parseInt(Q.getAttribute("tabindex")||"0"),Je=parseInt(_e.getAttribute("tabindex")||"0");return Ve>Je?1:Ve<Je?-1:0}),w=l.querySelectorAll(hg),P=Array.from(w).filter(Q=>Q.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(P))].filter(Q=>Nt(Q))},Pi=()=>un(document.body,m.shown)&&!un(document.body,m["toast-shown"])&&!un(document.body,m["no-backdrop"]),Oi=()=>{let l=R();return l?un(l,m.toast):!1},Gc=()=>{let l=R();return l?l.hasAttribute("data-loading"):!1},Mt=(l,h)=>{if(l.textContent="",h){let w=new DOMParser().parseFromString(h,"text/html"),P=w.querySelector("head");P&&Array.from(P.childNodes).forEach(_e=>{l.appendChild(_e)});let Q=w.querySelector("body");Q&&Array.from(Q.childNodes).forEach(_e=>{_e instanceof HTMLVideoElement||_e instanceof HTMLAudioElement?l.appendChild(_e.cloneNode(!0)):l.appendChild(_e)})}},un=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let w=0;w<y.length;w++)if(!l.classList.contains(y[w]))return!1;return!0},ld=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(m).includes(y)&&!Object.values(I).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},Ft=(l,h,y)=>{if(ld(l,h),!h.customClass)return;let w=h.customClass[y];if(w){if(typeof w!="string"&&!w.forEach){N(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof w}"`);return}Ce(l,w)}},Qs=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${m.popup} > .${m[h]}`);case"checkbox":return l.querySelector(`.${m.popup} > .${m.checkbox} input`);case"radio":return l.querySelector(`.${m.popup} > .${m.radio} input:checked`)||l.querySelector(`.${m.popup} > .${m.radio} input:first-child`);case"range":return l.querySelector(`.${m.popup} > .${m.range} input`);default:return l.querySelector(`.${m.popup} > .${m.input}`)}},Wc=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},Kc=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(l)?l.forEach(P=>{y?P.classList.add(w):P.classList.remove(w)}):y?l.classList.add(w):l.classList.remove(w)}))},Ce=(l,h)=>{Kc(l,h,!0)},ln=(l,h)=>{Kc(l,h,!1)},ur=(l,h)=>{let y=Array.from(l.children);for(let w=0;w<y.length;w++){let P=y[w];if(P instanceof HTMLElement&&un(P,h))return P}},jn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},Xe=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},ct=l=>{l&&(l.style.display="none")},ut=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{lr(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},Dt=(l,h,y,w)=>{let P=l.querySelector(h);P&&P.style.setProperty(y,w)},lr=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?Xe(l,y):ct(l)},Nt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),dd=()=>!Nt(cn())&&!Nt(kt())&&!Nt(xi()),hd=l=>l.scrollHeight>l.clientHeight,ki=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||w>0},Ys=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=cr();y&&Nt(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},fd=()=>{let l=cr();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),w=h/y*100;l.style.width=`${w}%`},Qc=()=>typeof window>"u"||typeof document>"u",fg=`
 <div aria-labelledby="${m.title}" aria-describedby="${m["html-container"]}" class="${m.popup}" tabindex="-1">
   <button type="button" class="${m.close}"></button>
   <ul class="${m["progress-steps"]}"></ul>
   <div class="${m.icon}"></div>
   <img class="${m.image}" />
   <h2 class="${m.title}" id="${m.title}"></h2>
   <div class="${m["html-container"]}" id="${m["html-container"]}"></div>
   <input class="${m.input}" id="${m.input}" />
   <input type="file" class="${m.file}" />
   <div class="${m.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${m.select}" id="${m.select}"></select>
   <div class="${m.radio}"></div>
   <label class="${m.checkbox}">
     <input type="checkbox" id="${m.checkbox}" />
     <span class="${m.label}"></span>
   </label>
   <textarea class="${m.textarea}" id="${m.textarea}"></textarea>
   <div class="${m["validation-message"]}" id="${m["validation-message"]}"></div>
   <div class="${m.actions}">
     <div class="${m.loader}"></div>
     <button type="button" class="${m.confirm}"></button>
     <button type="button" class="${m.deny}"></button>
     <button type="button" class="${m.cancel}"></button>
   </div>
   <div class="${m.footer}"></div>
   <div class="${m["timer-progress-bar-container"]}">
     <div class="${m["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),pg=()=>{let l=b();return l?(l.remove(),ln([document.documentElement,document.body],[m["no-backdrop"],m["toast-shown"],m["has-column"]]),!0):!1},Bn=()=>{s.currentInstance.resetValidationMessage()},pd=()=>{let l=R(),h=ur(l,m.input),y=ur(l,m.file),w=l.querySelector(`.${m.range} input`),P=l.querySelector(`.${m.range} output`),Q=ur(l,m.select),_e=l.querySelector(`.${m.checkbox} input`),Ve=ur(l,m.textarea);h.oninput=Bn,y.onchange=Bn,Q.onchange=Bn,_e.onchange=Bn,Ve.oninput=Bn,w.oninput=()=>{Bn(),P.value=w.value},w.onchange=()=>{Bn(),P.value=w.value}},md=l=>typeof l=="string"?document.querySelector(l):l,ko=l=>{let h=R();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},Yc=l=>{window.getComputedStyle(l).direction==="rtl"&&Ce(b(),m.rtl)},Zc=l=>{let h=pg();if(Qc()){B("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=m.container,h&&Ce(y,m["no-transition"]),Mt(y,fg);let w=md(l.target);w.appendChild(y),ko(l),Yc(w),pd()},$n=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?gd(l,h):l&&Mt(h,l)},gd=(l,h)=>{l.jquery?Zs(h,l):Mt(h,l.toString())},Zs=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},yd=(l,h)=>{let y=Un(),w=Mi();!y||!w||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?ct(y):Xe(y),Ft(y,h,"actions"),Fo(y,w,h),Mt(w,h.loaderHtml||""),Ft(w,h,"loader"))};function Fo(l,h,y){let w=cn(),P=kt(),Q=xi();!w||!P||!Q||(yt(w,"confirm",y),yt(P,"deny",y),yt(Q,"cancel",y),vd(w,P,Q,y),y.reverseButtons&&(y.toast?(l.insertBefore(Q,w),l.insertBefore(P,w)):(l.insertBefore(Q,h),l.insertBefore(P,h),l.insertBefore(w,h))))}function vd(l,h,y,w){if(!w.buttonsStyling){ln([l,h,y],m.styled);return}Ce([l,h,y],m.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,Ce(l,m["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,Ce(h,m["default-outline"])),w.cancelButtonColor&&(y.style.backgroundColor=w.cancelButtonColor,Ce(y,m["default-outline"]))}function yt(l,h,y){let w=k(h);lr(l,y[`show${w}Button`],"inline-block"),Mt(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=m[h],Ft(l,y,`${h}Button`)}let _d=(l,h)=>{let y=zc();y&&(Mt(y,h.closeButtonHtml||""),Ft(y,h,"closeButton"),lr(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},Lo=(l,h)=>{let y=b();y&&(Vo(y,h.backdrop),mg(y,h.position),gg(y,h.grow),Ft(y,h,"container"))};function Vo(l,h){typeof h=="string"?l.style.background=h:h||Ce([document.documentElement,document.body],m["no-backdrop"])}function mg(l,h){h&&(h in m?Ce(l,m[h]):(N('The "position" parameter is not valid, defaulting to "center"'),Ce(l,m.center)))}function gg(l,h){h&&Ce(l,m[`grow-${h}`])}var Pe={innerParams:new WeakMap,domCache:new WeakMap};let yg=["input","file","range","select","radio","checkbox","textarea"],vg=(l,h)=>{let y=R();if(!y)return;let w=Pe.innerParams.get(l),P=!w||h.input!==w.input;yg.forEach(Q=>{let _e=ur(y,m[Q]);_e&&(Jc(Q,h.inputAttributes),_e.className=m[Q],P&&ct(_e))}),h.input&&(P&&Js(h),Xs(h))},Js=l=>{if(!l.input)return;if(!We[l.input]){B(`Unexpected type of input! Expected ${Object.keys(We).join(" | ")}, got "${l.input}"`);return}let h=Xc(l.input);if(!h)return;let y=We[l.input](h,l);Xe(h),l.inputAutoFocus&&setTimeout(()=>{Wc(y)})},wd=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},Jc=(l,h)=>{let y=R();if(!y)return;let w=Qs(y,l);if(w){wd(w);for(let P in h)w.setAttribute(P,h[P])}},Xs=l=>{if(!l.input)return;let h=Xc(l.input);h&&Ft(h,l,"input")},Sn=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},Fi=(l,h,y)=>{if(y.inputLabel){let w=document.createElement("label"),P=m["input-label"];w.setAttribute("for",l.id),w.className=P,typeof y.customClass=="object"&&Ce(w,y.customClass.inputLabel),w.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",w)}},Xc=l=>{let h=R();if(h)return ur(h,m[l]||m.input)},Li=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:E(h)||N(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},We={};We.text=We.email=We.password=We.number=We.tel=We.url=We.search=We.date=We["datetime-local"]=We.time=We.week=We.month=(l,h)=>(Li(l,h.inputValue),Fi(l,l,h),Sn(l,h),l.type=h.input,l),We.file=(l,h)=>(Fi(l,l,h),Sn(l,h),l),We.range=(l,h)=>{let y=l.querySelector("input"),w=l.querySelector("output");return Li(y,h.inputValue),y.type=h.input,Li(w,h.inputValue),Fi(y,l,h),l},We.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");Mt(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return Fi(l,l,h),l},We.radio=l=>(l.textContent="",l),We.checkbox=(l,h)=>{let y=Qs(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let w=l.querySelector("span");return Mt(w,h.inputPlaceholder||h.inputLabel),y},We.textarea=(l,h)=>{Li(l,h.inputValue),Sn(l,h),Fi(l,l,h);let y=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let w=parseInt(window.getComputedStyle(R()).width),P=()=>{if(!document.body.contains(l))return;let Q=l.offsetWidth+y(l);Q>w?R().style.width=`${Q}px`:jn(R(),"width",h.width)};new MutationObserver(P).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let Id=(l,h)=>{let y=qc();y&&(ut(y),Ft(y,h,"htmlContainer"),h.html?($n(h.html,y),Xe(y,"block")):h.text?(y.textContent=h.text,Xe(y,"block")):ct(y),vg(l,h))},Ed=(l,h)=>{let y=ud();y&&(ut(y),lr(y,h.footer,"block"),h.footer&&$n(h.footer,y),Ft(y,h,"footer"))},_g=(l,h)=>{let y=Pe.innerParams.get(l),w=T();if(w){if(y&&h.icon===y.icon){dr(w,h),Uo(w,h);return}if(!h.icon&&!h.iconHtml){ct(w);return}if(h.icon&&Object.keys(I).indexOf(h.icon)===-1){B(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),ct(w);return}Xe(w),dr(w,h),Uo(w,h),Ce(w,h.showClass&&h.showClass.icon)}},Uo=(l,h)=>{for(let[y,w]of Object.entries(I))h.icon!==y&&ln(l,w);Ce(l,h.icon&&I[h.icon]),tu(l,h),bd(),Ft(l,h,"icon")},bd=()=>{let l=R();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<y.length;w++)y[w].style.backgroundColor=h},eu=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,jo=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,dr=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,w="";h.iconHtml?w=Cd(h.iconHtml):h.icon==="success"?(w=eu,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?w=jo:h.icon&&(w=Cd({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==w.trim()&&Mt(l,w)},tu=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Dt(l,y,"background-color",h.iconColor);Dt(l,".swal2-success-ring","border-color",h.iconColor)}},Cd=l=>`<div class="${m["icon-content"]}">${l}</div>`,Td=(l,h)=>{let y=Ai();if(y){if(!h.imageUrl){ct(y);return}Xe(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),jn(y,"width",h.imageWidth),jn(y,"height",h.imageHeight),y.className=m.image,Ft(y,h,"image")}},Dd=(l,h)=>{let y=b(),w=R();if(!(!y||!w)){if(h.toast){jn(y,"width",h.width),w.style.width="100%";let P=Mi();P&&w.insertBefore(P,T())}else jn(w,"width",h.width);jn(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),ct(Ri()),Sd(w,h)}},Sd=(l,h)=>{let y=h.showClass||{};l.className=`${m.popup} ${Nt(l)?y.popup:""}`,h.toast?(Ce([document.documentElement,document.body],m["toast-shown"]),Ce(l,m.toast)):Ce(l,m.modal),Ft(l,h,"popup"),typeof h.customClass=="string"&&Ce(l,h.customClass),h.icon&&Ce(l,m[`icon-${h.icon}`])},nu=(l,h)=>{let y=Hr();if(!y)return;let{progressSteps:w,currentProgressStep:P}=h;if(!w||w.length===0||P===void 0){ct(y);return}Xe(y),y.textContent="",P>=w.length&&N("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach((Q,_e)=>{let Ve=ru(Q);if(y.appendChild(Ve),_e===P&&Ce(Ve,m["active-progress-step"]),_e!==w.length-1){let Je=Ad(h);y.appendChild(Je)}})},ru=l=>{let h=document.createElement("li");return Ce(h,m["progress-step"]),Mt(h,l),h},Ad=l=>{let h=document.createElement("li");return Ce(h,m["progress-step-line"]),l.progressStepsDistance&&jn(h,"width",l.progressStepsDistance),h},Rd=(l,h)=>{let y=Si();y&&(ut(y),lr(y,h.title||h.titleText,"block"),h.title&&$n(h.title,y),h.titleText&&(y.innerText=h.titleText),Ft(y,h,"title"))},xd=(l,h)=>{Dd(l,h),Lo(l,h),nu(l,h),_g(l,h),Td(l,h),Rd(l,h),_d(l,h),Id(l,h),yd(l,h),Ed(l,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),s.eventEmitter.emit("didRender",y)},wg=()=>Nt(R()),iu=()=>{var l;return(l=cn())===null||l===void 0?void 0:l.click()},Md=()=>{var l;return(l=kt())===null||l===void 0?void 0:l.click()},Ig=()=>{var l;return(l=xi())===null||l===void 0?void 0:l.click()},Xt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),An=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},ea=(l,h,y)=>{An(l),h.toast||(l.keydownHandler=w=>ta(h,w,y),l.keydownTarget=h.keydownListenerCapture?window:R(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},Vi=(l,h)=>{var y;let w=Ni();if(w.length){l=l+h,l===w.length?l=0:l===-1&&(l=w.length-1),w[l].focus();return}(y=R())===null||y===void 0||y.focus()},ou=["ArrowRight","ArrowDown"],$e=["ArrowLeft","ArrowUp"],ta=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?Bo(h,l):h.key==="Tab"?$o(h):[...ou,...$e].includes(h.key)?Eg(h.key):h.key==="Escape"&&Nd(h,l,y)))},Bo=(l,h)=>{if(!pe(h.allowEnterKey))return;let y=Qs(R(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;iu(),l.preventDefault()}},$o=l=>{let h=l.target,y=Ni(),w=-1;for(let P=0;P<y.length;P++)if(h===y[P]){w=P;break}l.shiftKey?Vi(w,-1):Vi(w,1),l.stopPropagation(),l.preventDefault()},Eg=l=>{let h=Un(),y=cn(),w=kt(),P=xi();if(!h||!y||!w||!P)return;let Q=[y,w,P];if(document.activeElement instanceof HTMLElement&&!Q.includes(document.activeElement))return;let _e=ou.includes(l)?"nextElementSibling":"previousElementSibling",Ve=document.activeElement;if(Ve){for(let Je=0;Je<h.children.length;Je++){if(Ve=Ve[_e],!Ve)return;if(Ve instanceof HTMLButtonElement&&Nt(Ve))break}Ve instanceof HTMLButtonElement&&Ve.focus()}},Nd=(l,h,y)=>{pe(h.allowEscapeKey)&&(l.preventDefault(),y(Xt.esc))};var Ui={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let bg=()=>{let l=b();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Pd=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Od=typeof window<"u"&&!!window.GestureEvent,Ho=()=>{if(Od&&!un(document.body,m.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,Ce(document.body,m.iosfix),hr()}},hr=()=>{let l=b();if(!l)return;let h;l.ontouchstart=y=>{h=kd(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},kd=l=>{let h=l.target,y=b(),w=qc();return!y||!w||Fd(l)||Ld(l)?!1:h===y||!hd(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(hd(w)&&w.contains(h))},Fd=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",Ld=l=>l.touches&&l.touches.length>1,ji=()=>{if(un(document.body,m.iosfix)){let l=parseInt(document.body.style.top,10);ln(document.body,m.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},Cg=()=>{let l=document.createElement("div");l.className=m["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},Bi=null,Tg=l=>{Bi===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(Bi=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Bi+Cg()}px`)},fr=()=>{Bi!==null&&(document.body.style.paddingRight=`${Bi}px`,Bi=null)};function Vd(l,h,y,w){Oi()?Ke(l,w):(u(y).then(()=>Ke(l,w)),An(s)),Od?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Pi()&&(fr(),ji(),Pd()),Dg()}function Dg(){ln([document.documentElement,document.body],[m.shown,m["height-auto"],m["no-backdrop"],m["toast-shown"]])}function en(l){l=qo(l);let h=Ui.swalPromiseResolve.get(this),y=na(this);this.isAwaitingPromise?l.isDismissed||(Hn(this),h(l)):y&&h(l)}let na=l=>{let h=R();if(!h)return!1;let y=Pe.innerParams.get(l);if(!y||un(h,y.hideClass.popup))return!1;ln(h,y.showClass.popup),Ce(h,y.hideClass.popup);let w=b();return ln(w,y.showClass.backdrop),Ce(w,y.hideClass.backdrop),Ud(l,h,y),!0};function su(l){let h=Ui.swalPromiseReject.get(this);Hn(this),h&&h(l)}let Hn=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,Pe.innerParams.get(l)||l._destroy())},qo=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),Ud=(l,h,y)=>{let w=b(),P=ki(h);typeof y.willClose=="function"&&y.willClose(h),s.eventEmitter.emit("willClose",h),P?au(l,h,w,y.returnFocus,y.didClose):Vd(l,w,y.returnFocus,y.didClose)},au=(l,h,y,w,P)=>{s.swalCloseEventFinishedCallback=Vd.bind(null,l,y,w,P);let Q=function(_e){_e.target===h&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",Q),h.removeEventListener("transitionend",Q))};h.addEventListener("animationend",Q),h.addEventListener("transitionend",Q)},Ke=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),s.eventEmitter.emit("didClose"),l._destroy&&l._destroy()})},$i=l=>{let h=R();if(h||new eh,h=R(),!h)return;let y=Mi();Oi()?ct(T()):Sg(h,l),Xe(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},Sg=(l,h)=>{let y=Un(),w=Mi();!y||!w||(!h&&Nt(cn())&&(h=cn()),Xe(y),h&&(ct(h),w.setAttribute("data-button-to-replace",h.className),y.insertBefore(w,h)),Ce([l,y],m.loading))},jd=(l,h)=>{h.input==="select"||h.input==="radio"?qn(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(ie(h.inputValue)||E(h.inputValue))&&($i(cn()),qd(l,h))},Bd=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return $d(y);case"radio":return ra(y);case"file":return Hd(y);default:return h.inputAutoTrim?y.value.trim():y.value}},$d=l=>l.checked?1:0,ra=l=>l.checked?l.value:null,Hd=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,qn=(l,h)=>{let y=R();if(!y)return;let w=P=>{h.input==="select"?Ag(y,Go(P),h):h.input==="radio"&&zo(y,Go(P),h)};ie(h.inputOptions)||E(h.inputOptions)?($i(cn()),D(h.inputOptions).then(P=>{l.hideLoading(),w(P)})):typeof h.inputOptions=="object"?w(h.inputOptions):B(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},qd=(l,h)=>{let y=l.getInput();y&&(ct(y),D(h.inputValue).then(w=>{y.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,Xe(y),y.focus(),l.hideLoading()}).catch(w=>{B(`Error in inputValue promise: ${w}`),y.value="",Xe(y),y.focus(),l.hideLoading()}))};function Ag(l,h,y){let w=ur(l,m.select);if(!w)return;let P=(Q,_e,Ve)=>{let Je=document.createElement("option");Je.value=Ve,Mt(Je,_e),Je.selected=ia(Ve,y.inputValue),Q.appendChild(Je)};h.forEach(Q=>{let _e=Q[0],Ve=Q[1];if(Array.isArray(Ve)){let Je=document.createElement("optgroup");Je.label=_e,Je.disabled=!1,w.appendChild(Je),Ve.forEach(ca=>P(Je,ca[1],ca[0]))}else P(w,Ve,_e)}),w.focus()}function zo(l,h,y){let w=ur(l,m.radio);if(!w)return;h.forEach(Q=>{let _e=Q[0],Ve=Q[1],Je=document.createElement("input"),ca=document.createElement("label");Je.type="radio",Je.name=m.radio,Je.value=_e,ia(_e,y.inputValue)&&(Je.checked=!0);let xg=document.createElement("span");Mt(xg,Ve),xg.className=m.label,ca.appendChild(Je),ca.appendChild(xg),w.appendChild(ca)});let P=w.querySelectorAll("input");P.length&&P[0].focus()}let Go=l=>{let h=[];return l instanceof Map?l.forEach((y,w)=>{let P=y;typeof P=="object"&&(P=Go(P)),h.push([w,P])}):Object.keys(l).forEach(y=>{let w=l[y];typeof w=="object"&&(w=Go(w)),h.push([y,w])}),h},ia=(l,h)=>!!h&&h.toString()===l.toString(),oa=l=>{let h=Pe.innerParams.get(l);l.disableButtons(),h.input?Gd(l,"confirm"):Wo(l,!0)},zd=l=>{let h=Pe.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?Gd(l,"deny"):qr(l,!1)},sa=(l,h)=>{l.disableButtons(),h(Xt.cancel)},Gd=(l,h)=>{let y=Pe.innerParams.get(l);if(!y.input){B(`The "input" parameter is needed to be set when using returnInputValueOn${k(h)}`);return}let w=l.getInput(),P=Bd(l,y);y.inputValidator?Wd(l,P,h):w&&!w.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||w.validationMessage)):h==="deny"?qr(l,P):Wo(l,P)},Wd=(l,h,y)=>{let w=Pe.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>D(w.inputValidator(h,w.validationMessage))).then(Q=>{l.enableButtons(),l.enableInput(),Q?l.showValidationMessage(Q):y==="deny"?qr(l,h):Wo(l,h)})},qr=(l,h)=>{let y=Pe.innerParams.get(l||void 0);y.showLoaderOnDeny&&$i(kt()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>D(y.preDeny(h,y.validationMessage))).then(P=>{P===!1?(l.hideLoading(),Hn(l)):l.close({isDenied:!0,value:typeof P>"u"?h:P})}).catch(P=>uu(l||void 0,P))):l.close({isDenied:!0,value:h})},cu=(l,h)=>{l.close({isConfirmed:!0,value:h})},uu=(l,h)=>{l.rejectPromise(h)},Wo=(l,h)=>{let y=Pe.innerParams.get(l||void 0);y.showLoaderOnConfirm&&$i(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>D(y.preConfirm(h,y.validationMessage))).then(P=>{Nt(Ri())||P===!1?(l.hideLoading(),Hn(l)):cu(l,typeof P>"u"?h:P)}).catch(P=>uu(l||void 0,P))):cu(l,h)};function Hi(){let l=Pe.innerParams.get(this);if(!l)return;let h=Pe.domCache.get(this);ct(h.loader),Oi()?l.icon&&Xe(T()):Kd(h),ln([h.popup,h.actions],m.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Kd=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?Xe(h[0],"inline-block"):dd()&&ct(l.actions)};function Ko(){let l=Pe.innerParams.get(this),h=Pe.domCache.get(this);return h?Qs(h.popup,l.input):null}function lu(l,h,y){let w=Pe.domCache.get(l);h.forEach(P=>{w[P].disabled=y})}function du(l,h){let y=R();if(!(!y||!l))if(l.type==="radio"){let w=y.querySelectorAll(`[name="${m.radio}"]`);for(let P=0;P<w.length;P++)w[P].disabled=h}else l.disabled=h}function pr(){lu(this,["confirmButton","denyButton","cancelButton"],!1)}function hu(){lu(this,["confirmButton","denyButton","cancelButton"],!0)}function fu(){du(this.getInput(),!1)}function pu(){du(this.getInput(),!0)}function mu(l){let h=Pe.domCache.get(this),y=Pe.innerParams.get(this);Mt(h.validationMessage,l),h.validationMessage.className=m["validation-message"],y.customClass&&y.customClass.validationMessage&&Ce(h.validationMessage,y.customClass.validationMessage),Xe(h.validationMessage);let w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",m["validation-message"]),Wc(w),Ce(w,m.inputerror))}function Qo(){let l=Pe.domCache.get(this);l.validationMessage&&ct(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),ln(h,m.inputerror))}let lt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Qd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Yd={allowEnterKey:void 0},qi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=l=>Object.prototype.hasOwnProperty.call(lt,l),f=l=>Qd.indexOf(l)!==-1,g=l=>Yd[l],v=l=>{c(l)||N(`Unknown parameter "${l}"`)},M=l=>{qi.includes(l)&&N(`The parameter "${l}" is incompatible with toasts`)},O=l=>{let h=g(l);h&&ee(l,h)},q=l=>{l.backdrop===!1&&l.allowOutsideClick&&N('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)v(h),l.toast&&M(h),O(h)};function Le(l){let h=R(),y=Pe.innerParams.get(this);if(!h||un(h,y.hideClass.popup)){N("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let w=vt(l),P=Object.assign({},y,w);xd(this,P),Pe.innerParams.set(this,P),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let vt=l=>{let h={};return Object.keys(l).forEach(y=>{f(y)?h[y]=l[y]:N(`Invalid parameter to update: ${y}`)}),h};function Re(){let l=Pe.domCache.get(this),h=Pe.innerParams.get(this);if(!h){_t(this);return}l.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),St(this)}let St=l=>{_t(l),delete l.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},_t=l=>{l.isAwaitingPromise?(mr(Pe,l),l.isAwaitingPromise=!0):(mr(Ui,l),mr(Pe,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},mr=(l,h)=>{for(let y in l)l[y].delete(h)};var dn=Object.freeze({__proto__:null,_destroy:Re,close:en,closeModal:en,closePopup:en,closeToast:en,disableButtons:hu,disableInput:pu,disableLoading:Hi,enableButtons:pr,enableInput:fu,getInput:Ko,handleAwaitingPromise:Hn,hideLoading:Hi,rejectPromise:su,resetValidationMessage:Qo,showValidationMessage:mu,update:Le});let aa=(l,h,y)=>{l.toast?gu(l,h,y):(NP(h),PP(h),OP(l,h,y))},gu=(l,h,y)=>{h.popup.onclick=()=>{l&&(MP(l)||l.timer||l.input)||y(Xt.close)}},MP=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),Zd=!1,NP=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(Zd=!0)}}},PP=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(Zd=!0)}}},OP=(l,h,y)=>{h.container.onclick=w=>{if(Zd){Zd=!1;return}w.target===h.container&&pe(l.allowOutsideClick)&&y(Xt.backdrop)}},kP=l=>typeof l=="object"&&l.jquery,t0=l=>l instanceof Element||kP(l),FP=l=>{let h={};return typeof l[0]=="object"&&!t0(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,w)=>{let P=l[w];typeof P=="string"||t0(P)?h[y]=P:P!==void 0&&B(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof P}`)}),h};function LP(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function VP(l){class h extends this{_main(w,P){return super._main(w,Object.assign({},l,P))}}return h}let UP=()=>s.timeout&&s.timeout.getTimerLeft(),n0=()=>{if(s.timeout)return fd(),s.timeout.stop()},r0=()=>{if(s.timeout){let l=s.timeout.start();return Ys(l),l}},jP=()=>{let l=s.timeout;return l&&(l.running?n0():r0())},BP=l=>{if(s.timeout){let h=s.timeout.increase(l);return Ys(h,!0),h}},$P=()=>!!(s.timeout&&s.timeout.isRunning()),i0=!1,Rg={};function HP(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Rg[l]=this,i0||(document.body.addEventListener("click",qP),i0=!0)}let qP=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in Rg){let w=h.getAttribute(y);if(w){Rg[y].fire({template:w});return}}};class zP{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let w=this._getHandlersByEventName(h);w.includes(y)||w.push(y)}once(h,y){var w=this;let P=function(){w.removeListener(h,P);for(var Q=arguments.length,_e=new Array(Q),Ve=0;Ve<Q;Ve++)_e[Ve]=arguments[Ve];y.apply(w,_e)};this.on(h,P)}emit(h){for(var y=arguments.length,w=new Array(y>1?y-1:0),P=1;P<y;P++)w[P-1]=arguments[P];this._getHandlersByEventName(h).forEach(Q=>{try{Q.apply(this,w)}catch(_e){console.error(_e)}})}removeListener(h,y){let w=this._getHandlersByEventName(h),P=w.indexOf(y);P>-1&&w.splice(P,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new zP;var GP=Object.freeze({__proto__:null,argsToParams:FP,bindClickHandler:HP,clickCancel:Ig,clickConfirm:iu,clickDeny:Md,enableLoading:$i,fire:LP,getActions:Un,getCancelButton:xi,getCloseButton:zc,getConfirmButton:cn,getContainer:b,getDenyButton:kt,getFocusableElements:Ni,getFooter:ud,getHtmlContainer:qc,getIcon:T,getIconContent:Vn,getImage:Ai,getInputLabel:Tt,getLoader:Mi,getPopup:R,getProgressSteps:Hr,getTimerLeft:UP,getTimerProgressBar:cr,getTitle:Si,getValidationMessage:Ri,increaseTimer:BP,isDeprecatedParameter:g,isLoading:Gc,isTimerRunning:$P,isUpdatableParameter:f,isValidParameter:c,isVisible:wg,mixin:VP,off:(l,h)=>{if(!l){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(l,h):s.eventEmitter.removeAllListeners(l)},on:(l,h)=>{s.eventEmitter.on(l,h)},once:(l,h)=>{s.eventEmitter.once(l,h)},resumeTimer:r0,showLoading:$i,stopTimer:n0,toggleTimer:jP});class WP{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let o0=["swal-title","swal-html","swal-footer"],KP=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return nO(y),Object.assign(QP(y),YP(y),ZP(y),JP(y),XP(y),eO(y),tO(y,o0))},QP=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(w=>{Yo(w,["name","value"]);let P=w.getAttribute("name"),Q=w.getAttribute("value");!P||!Q||(typeof lt[P]=="boolean"?h[P]=Q!=="false":typeof lt[P]=="object"?h[P]=JSON.parse(Q):h[P]=Q)}),h},YP=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(w=>{let P=w.getAttribute("name"),Q=w.getAttribute("value");!P||!Q||(h[P]=new Function(`return ${Q}`)())}),h},ZP=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(w=>{Yo(w,["type","color","aria-label"]);let P=w.getAttribute("type");!P||!["confirm","cancel","deny"].includes(P)||(h[`${P}ButtonText`]=w.innerHTML,h[`show${k(P)}Button`]=!0,w.hasAttribute("color")&&(h[`${P}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${P}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),h},JP=l=>{let h={},y=l.querySelector("swal-image");return y&&(Yo(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},XP=l=>{let h={},y=l.querySelector("swal-icon");return y&&(Yo(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},eO=l=>{let h={},y=l.querySelector("swal-input");y&&(Yo(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let w=Array.from(l.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(P=>{Yo(P,["value"]);let Q=P.getAttribute("value");if(!Q)return;let _e=P.innerHTML;h.inputOptions[Q]=_e})),h},tO=(l,h)=>{let y={};for(let w in h){let P=h[w],Q=l.querySelector(P);Q&&(Yo(Q,[]),y[P.replace(/^swal-/,"")]=Q.innerHTML.trim())}return y},nO=l=>{let h=o0.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let w=y.tagName.toLowerCase();h.includes(w)||N(`Unrecognized element <${w}>`)})},Yo=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&N([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},s0=10,rO=l=>{let h=b(),y=R();typeof l.willOpen=="function"&&l.willOpen(y),s.eventEmitter.emit("willOpen",y);let P=window.getComputedStyle(document.body).overflowY;sO(h,y,l),setTimeout(()=>{iO(h,y)},s0),Pi()&&(oO(h,l.scrollbarPadding,P),bg()),!Oi()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),s.eventEmitter.emit("didOpen",y),ln(h,m["no-transition"])},Jd=l=>{let h=R();if(l.target!==h)return;let y=b();h.removeEventListener("animationend",Jd),h.removeEventListener("transitionend",Jd),y.style.overflowY="auto"},iO=(l,h)=>{ki(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",Jd),h.addEventListener("transitionend",Jd)):l.style.overflowY="auto"},oO=(l,h,y)=>{Ho(),h&&y!=="hidden"&&Tg(y),setTimeout(()=>{l.scrollTop=0})},sO=(l,h,y)=>{Ce(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),Xe(h,"grid"),setTimeout(()=>{Ce(h,y.showClass.popup),h.style.removeProperty("opacity")},s0)):Xe(h,"grid"),Ce([document.documentElement,document.body],m.shown),y.heightAuto&&y.backdrop&&!y.toast&&Ce([document.documentElement,document.body],m["height-auto"])};var a0={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function aO(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=a0.email),l.input==="url"&&(l.inputValidator=a0.url))}function cO(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(N('Target parameter is not valid, defaulting to "body"'),l.target="body")}function uO(l){aO(l),l.showLoaderOnConfirm&&!l.preConfirm&&N(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),cO(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),Zc(l)}let gr;var Xd=new WeakMap;class it{constructor(){if(r(this,Xd,void 0),typeof window>"u")return;gr=this;for(var h=arguments.length,y=new Array(h),w=0;w<h;w++)y[w]=arguments[w];let P=Object.freeze(this.constructor.argsToParams(y));this.params=P,this.isAwaitingPromise=!1,i(Xd,this,this._main(gr.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(q(Object.assign({},y,h)),s.currentInstance){let Q=Ui.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:_e}=s.currentInstance;s.currentInstance._destroy(),_e||Q({isDismissed:!0}),Pi()&&Pd()}s.currentInstance=gr;let w=dO(h,y);uO(w),Object.freeze(w),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let P=hO(gr);return xd(gr,w),Pe.innerParams.set(gr,w),lO(gr,P,w)}then(h){return t(Xd,this).then(h)}finally(h){return t(Xd,this).finally(h)}}let lO=(l,h,y)=>new Promise((w,P)=>{let Q=_e=>{l.close({isDismissed:!0,dismiss:_e})};Ui.swalPromiseResolve.set(l,w),Ui.swalPromiseReject.set(l,P),h.confirmButton.onclick=()=>{oa(l)},h.denyButton.onclick=()=>{zd(l)},h.cancelButton.onclick=()=>{sa(l,Q)},h.closeButton.onclick=()=>{Q(Xt.close)},aa(y,h,Q),ea(s,y,Q),jd(l,y),rO(y),fO(s,y,Q),pO(h,y),setTimeout(()=>{h.container.scrollTop=0})}),dO=(l,h)=>{let y=KP(l),w=Object.assign({},lt,h,y,l);return w.showClass=Object.assign({},lt.showClass,w.showClass),w.hideClass=Object.assign({},lt.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},hO=l=>{let h={popup:R(),container:b(),actions:Un(),confirmButton:cn(),denyButton:kt(),cancelButton:xi(),loader:Mi(),closeButton:zc(),validationMessage:Ri(),progressSteps:Hr()};return Pe.domCache.set(l,h),h},fO=(l,h,y)=>{let w=cr();ct(w),h.timer&&(l.timeout=new WP(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(Xe(w),Ft(w,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&Ys(h.timer)})))},pO=(l,h)=>{if(!h.toast){if(!pe(h.allowEnterKey)){ee("allowEnterKey"),yO();return}mO(l)||gO(l,h)||Vi(-1,1)}},mO=l=>{let h=l.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&Nt(y))return y.focus(),!0;return!1},gO=(l,h)=>h.focusDeny&&Nt(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&Nt(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&Nt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,yO=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}it.prototype.disableButtons=hu,it.prototype.enableButtons=pr,it.prototype.getInput=Ko,it.prototype.disableInput=pu,it.prototype.enableInput=fu,it.prototype.hideLoading=Hi,it.prototype.disableLoading=Hi,it.prototype.showValidationMessage=mu,it.prototype.resetValidationMessage=Qo,it.prototype.close=en,it.prototype.closePopup=en,it.prototype.closeModal=en,it.prototype.closeToast=en,it.prototype.rejectPromise=su,it.prototype.update=Le,it.prototype._destroy=Re,Object.assign(it,GP),Object.keys(dn).forEach(l=>{it[l]=function(){return gr&&gr[l]?gr[l](...arguments):null}}),it.DismissReason=Xt,it.version="11.14.4";let eh=it;return eh.default=eh,eh});typeof Br<"u"&&Br.Sweetalert2&&(Br.swal=Br.sweetAlert=Br.Swal=Br.SweetAlert=Br.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function d0(n,e){return Object.is(n,e)}var wt=null,ih=!1,oh=1,Gi=Symbol("SIGNAL");function Oe(n){let e=wt;return wt=n,e}function h0(){return wt}var vu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function kg(n){if(ih)throw new Error("");if(wt===null)return;wt.consumerOnSignalRead(n);let e=wt.nextProducerIndex++;if(uh(wt),e<wt.producerNode.length&&wt.producerNode[e]!==n&&yu(wt)){let t=wt.producerNode[e];ch(t,wt.producerIndexOfThis[e])}wt.producerNode[e]!==n&&(wt.producerNode[e]=n,wt.producerIndexOfThis[e]=yu(wt)?g0(n,wt,e):0),wt.producerLastReadVersion[e]=n.version}function DO(){oh++}function f0(n){if(!(yu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===oh)){if(!n.producerMustRecompute(n)&&!Lg(n)){n.dirty=!1,n.lastCleanEpoch=oh;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=oh}}function p0(n){if(n.liveConsumerNode===void 0)return;let e=ih;ih=!0;try{for(let t of n.liveConsumerNode)t.dirty||SO(t)}finally{ih=e}}function m0(){return wt?.consumerAllowSignalWrites!==!1}function SO(n){n.dirty=!0,p0(n),n.consumerMarkedDirty?.(n)}function ah(n){return n&&(n.nextProducerIndex=0),Oe(n)}function Fg(n,e){if(Oe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(yu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ch(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Lg(n){uh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(f0(t),r!==t.version))return!0}return!1}function Vg(n){if(uh(n),yu(n))for(let e=0;e<n.producerNode.length;e++)ch(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function g0(n,e,t){if(y0(n),n.liveConsumerNode.length===0&&v0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=g0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ch(n,e){if(y0(n),n.liveConsumerNode.length===1&&v0(n))for(let r=0;r<n.producerNode.length;r++)ch(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];uh(i),i.producerIndexOfThis[r]=e}}function yu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function uh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function y0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function v0(n){return n.producerNode!==void 0}function _0(n){let e=Object.create(AO);e.computation=n;let t=()=>{if(f0(e),kg(e),e.value===sh)throw e.error;return e.value};return t[Gi]=e,t}var Pg=Symbol("UNSET"),Og=Symbol("COMPUTING"),sh=Symbol("ERRORED"),AO=we(H({},vu),{value:Pg,dirty:!0,error:null,equal:d0,producerMustRecompute(n){return n.value===Pg||n.value===Og},producerRecomputeValue(n){if(n.value===Og)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Og;let t=ah(n),r;try{r=n.computation()}catch(i){r=sh,n.error=i}finally{Fg(n,t)}if(e!==Pg&&e!==sh&&r!==sh&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function RO(){throw new Error}var w0=RO;function I0(){w0()}function E0(n){w0=n}var xO=null;function b0(n){let e=Object.create(T0);e.value=n;let t=()=>(kg(e),e.value);return t[Gi]=e,t}function Ug(n,e){m0()||I0(),n.equal(n.value,e)||(n.value=e,MO(n))}function C0(n,e){m0()||I0(),Ug(n,e(n.value))}var T0=we(H({},vu),{equal:d0,value:void 0});function MO(n){n.version++,DO(),p0(n),xO?.()}function he(n){return typeof n=="function"}function ua(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var lh=ua(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Zo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var et=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(he(r))try{r()}catch(o){e=o instanceof lh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{D0(o)}catch(s){e=e??[],s instanceof lh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new lh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)D0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Zo(t,e)}remove(e){let{_finalizers:t}=this;t&&Zo(t,e),e instanceof n&&e._removeParent(this)}};et.EMPTY=(()=>{let n=new et;return n.closed=!0,n})();var jg=et.EMPTY;function dh(n){return n instanceof et||n&&"closed"in n&&he(n.remove)&&he(n.add)&&he(n.unsubscribe)}function D0(n){he(n)?n():n.unsubscribe()}var zn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var la={setTimeout(n,e,...t){let{delegate:r}=la;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=la;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function hh(n){la.setTimeout(()=>{let{onUnhandledError:e}=zn;if(e)e(n);else throw n})}function _u(){}var S0=Bg("C",void 0,void 0);function A0(n){return Bg("E",void 0,n)}function R0(n){return Bg("N",n,void 0)}function Bg(n,e,t){return{kind:n,value:e,error:t}}var Jo=null;function da(n){if(zn.useDeprecatedSynchronousErrorHandling){let e=!Jo;if(e&&(Jo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Jo;if(Jo=null,t)throw r}}else n()}function x0(n){zn.useDeprecatedSynchronousErrorHandling&&Jo&&(Jo.errorThrown=!0,Jo.error=n)}var Xo=class extends et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dh(e)&&e.add(this)):this.destination=OO}static create(e,t,r){return new ha(e,t,r)}next(e){this.isStopped?Hg(R0(e),this):this._next(e)}error(e){this.isStopped?Hg(A0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hg(S0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},NO=Function.prototype.bind;function $g(n,e){return NO.call(n,e)}var qg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){fh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){fh(r)}else fh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){fh(t)}}},ha=class extends Xo{constructor(e,t,r){super();let i;if(he(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&zn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&$g(e.next,o),error:e.error&&$g(e.error,o),complete:e.complete&&$g(e.complete,o)}):i=e}this.destination=new qg(i)}};function fh(n){zn.useDeprecatedSynchronousErrorHandling?x0(n):hh(n)}function PO(n){throw n}function Hg(n,e){let{onStoppedNotification:t}=zn;t&&la.setTimeout(()=>t(n,e))}var OO={closed:!0,next:_u,error:PO,complete:_u};var fa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function hn(n){return n}function zg(...n){return Gg(n)}function Gg(n){return n.length===0?hn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var be=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=FO(t)?t:new ha(t,r,i);return da(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=M0(r),new r((i,o)=>{let s=new ha({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[fa](){return this}pipe(...t){return Gg(t)(this)}toPromise(t){return t=M0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function M0(n){var e;return(e=n??zn.Promise)!==null&&e!==void 0?e:Promise}function kO(n){return n&&he(n.next)&&he(n.error)&&he(n.complete)}function FO(n){return n&&n instanceof Xo||kO(n)&&dh(n)}function Wg(n){return he(n?.lift)}function xe(n){return e=>{if(Wg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(n,e,t,r,i){return new Kg(n,e,t,r,i)}var Kg=class extends Xo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function pa(){return xe((n,e)=>{let t=null;n._refCount++;let r=Te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ma=class extends be{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Wg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new et;let t=this.getSubject();e.add(this.source.subscribe(Te(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=et.EMPTY)}return e}refCount(){return pa()(this)}};var N0=ua(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var It=(()=>{class n extends be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ph(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new N0}next(t){da(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){da(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){da(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jg:(this.currentObservers=null,o.push(t),new et(()=>{this.currentObservers=null,Zo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new be;return t.source=this,t}}return n.create=(e,t)=>new ph(e,t),n})(),ph=class extends It{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:jg}};var Et=class extends It{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Qg={now(){return(Qg.delegate||Date).now()},delegate:void 0};var mh=class extends et{constructor(e,t){super()}schedule(e,t=0){return this}};var wu={setInterval(n,e,...t){let{delegate:r}=wu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=wu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ga=class extends mh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return wu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&wu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Zo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ya=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ya.now=Qg.now;var va=class extends ya{constructor(e,t=ya.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Yg=new va(ga);var gh=class extends ga{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var yh=class extends va{};var Zg=new yh(gh);var fn=new be(n=>n.complete());function P0(n){return n&&he(n.schedule)}function O0(n){return n[n.length-1]}function vh(n){return he(O0(n))?n.pop():void 0}function Wi(n){return P0(O0(n))?n.pop():void 0}function Jg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function F0(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function u(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,u)}d((r=r.apply(n,e||[])).next())})}function k0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function es(n){return this instanceof es?(this.v=n,this):new es(n)}function L0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(I){return function(x){return Promise.resolve(x).then(I,m)}}function a(I,x){r[I]&&(i[I]=function(k){return new Promise(function(N,B){o.push([I,k,N,B])>1||u(I,k)})},x&&(i[I]=x(i[I])))}function u(I,x){try{d(r[I](x))}catch(k){_(o[0][3],k)}}function d(I){I.value instanceof es?Promise.resolve(I.value.v).then(p,m):_(o[0][2],I)}function p(I){u("next",I)}function m(I){u("throw",I)}function _(I,x){I(x),o.shift(),o.length&&u(o[0][0],o[0][1])}}function V0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof k0=="function"?k0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(d){o({value:d,done:a})},s)}}var _h=n=>n&&typeof n.length=="number"&&typeof n!="function";function wh(n){return he(n?.then)}function Ih(n){return he(n[fa])}function Eh(n){return Symbol.asyncIterator&&he(n?.[Symbol.asyncIterator])}function bh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function LO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ch=LO();function Th(n){return he(n?.[Ch])}function Dh(n){return L0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield es(t.read());if(i)return yield es(void 0);yield yield es(r)}}finally{t.releaseLock()}})}function Sh(n){return he(n?.getReader)}function dt(n){if(n instanceof be)return n;if(n!=null){if(Ih(n))return VO(n);if(_h(n))return UO(n);if(wh(n))return jO(n);if(Eh(n))return U0(n);if(Th(n))return BO(n);if(Sh(n))return $O(n)}throw bh(n)}function VO(n){return new be(e=>{let t=n[fa]();if(he(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UO(n){return new be(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function jO(n){return new be(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,hh)})}function BO(n){return new be(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function U0(n){return new be(e=>{HO(n,e).catch(t=>e.error(t))})}function $O(n){return U0(Dh(n))}function HO(n,e){var t,r,i,o;return F0(this,void 0,void 0,function*(){try{for(t=V0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function tn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ki(n,e=0){return xe((t,r)=>{t.subscribe(Te(r,i=>tn(r,n,()=>r.next(i),e),()=>tn(r,n,()=>r.complete(),e),i=>tn(r,n,()=>r.error(i),e)))})}function Qi(n,e=0){return xe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function j0(n,e){return dt(n).pipe(Qi(e),Ki(e))}function B0(n,e){return dt(n).pipe(Qi(e),Ki(e))}function $0(n,e){return new be(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function H0(n,e){return new be(t=>{let r;return tn(t,e,()=>{r=n[Ch](),tn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>he(r?.return)&&r.return()})}function Ah(n,e){if(!n)throw new Error("Iterable cannot be null");return new be(t=>{tn(t,e,()=>{let r=n[Symbol.asyncIterator]();tn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function q0(n,e){return Ah(Dh(n),e)}function z0(n,e){if(n!=null){if(Ih(n))return j0(n,e);if(_h(n))return $0(n,e);if(wh(n))return B0(n,e);if(Eh(n))return Ah(n,e);if(Th(n))return H0(n,e);if(Sh(n))return q0(n,e)}throw bh(n)}function ze(n,e){return e?z0(n,e):dt(n)}function oe(...n){let e=Wi(n);return ze(n,e)}function _a(n,e){let t=he(n)?n:()=>n,r=i=>i.error(t());return new be(e?i=>e.schedule(r,0,i):r)}function Xg(n){return!!n&&(n instanceof be||he(n.lift)&&he(n.subscribe))}var zr=ua(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function me(n,e){return xe((t,r)=>{let i=0;t.subscribe(Te(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:qO}=Array;function zO(n,e){return qO(e)?n(...e):n(e)}function Rh(n){return me(e=>zO(n,e))}var{isArray:GO}=Array,{getPrototypeOf:WO,prototype:KO,keys:QO}=Object;function xh(n){if(n.length===1){let e=n[0];if(GO(e))return{args:e,keys:null};if(YO(e)){let t=QO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function YO(n){return n&&typeof n=="object"&&WO(n)===KO}function Mh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Iu(...n){let e=Wi(n),t=vh(n),{args:r,keys:i}=xh(n);if(r.length===0)return ze([],e);let o=new be(ZO(r,e,i?s=>Mh(i,s):hn));return t?o.pipe(Rh(t)):o}function ZO(n,e,t=hn){return r=>{G0(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)G0(e,()=>{let d=ze(n[u],e),p=!1;d.subscribe(Te(r,m=>{o[u]=m,p||(p=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function G0(n,e,t){n?tn(t,n,e):e()}function W0(n,e,t,r,i,o,s,a){let u=[],d=0,p=0,m=!1,_=()=>{m&&!u.length&&!d&&e.complete()},I=k=>d<r?x(k):u.push(k),x=k=>{o&&e.next(k),d++;let N=!1;dt(t(k,p++)).subscribe(Te(e,B=>{i?.(B),o?I(B):e.next(B)},()=>{N=!0},void 0,()=>{if(N)try{for(d--;u.length&&d<r;){let B=u.shift();s?tn(e,s,()=>x(B)):x(B)}_()}catch(B){e.error(B)}}))};return n.subscribe(Te(e,I,()=>{m=!0,_()})),()=>{a?.()}}function ht(n,e,t=1/0){return he(e)?ht((r,i)=>me((o,s)=>e(r,o,i,s))(dt(n(r,i))),t):(typeof e=="number"&&(t=e),xe((r,i)=>W0(r,i,n,t)))}function Yi(n=1/0){return ht(hn,n)}function K0(){return Yi(1)}function wa(...n){return K0()(ze(n,Wi(n)))}function Nh(n){return new be(e=>{dt(n()).subscribe(e)})}function ey(...n){let e=vh(n),{args:t,keys:r}=xh(n),i=new be(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,d=s;for(let p=0;p<s;p++){let m=!1;dt(t[p]).subscribe(Te(o,_=>{m||(m=!0,d--),a[p]=_},()=>u--,void 0,()=>{(!u||!m)&&(d||o.next(r?Mh(r,a):a),o.complete())}))}});return e?i.pipe(Rh(e)):i}function Lt(n,e){return xe((t,r)=>{let i=0;t.subscribe(Te(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Zi(n){return xe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Te(t,void 0,void 0,s=>{o=dt(n(s,Zi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Q0(n,e,t,r,i){return(o,s)=>{let a=t,u=e,d=0;o.subscribe(Te(s,p=>{let m=d++;u=a?n(u,p,m):(a=!0,p),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Gr(n,e){return he(e)?ht(n,e,1):ht(n,1)}function Ji(n){return xe((e,t)=>{let r=!1;e.subscribe(Te(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Wr(n){return n<=0?()=>fn:xe((e,t)=>{let r=0;e.subscribe(Te(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ty(n){return me(()=>n)}function Ph(n=JO){return xe((e,t)=>{let r=!1;e.subscribe(Te(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function JO(){return new zr}function ts(n){return xe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Gn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Lt((i,o)=>n(i,o,r)):hn,Wr(1),t?Ji(e):Ph(()=>new zr))}function Ia(n){return n<=0?()=>fn:xe((e,t)=>{let r=[];e.subscribe(Te(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ny(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Lt((i,o)=>n(i,o,r)):hn,Ia(1),t?Ji(e):Ph(()=>new zr))}function ry(n,e){return xe(Q0(n,e,arguments.length>=2,!0))}function iy(...n){let e=Wi(n);return xe((t,r)=>{(e?wa(n,t,e):wa(n,t)).subscribe(r)})}function nn(n,e){return xe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Te(r,u=>{i?.unsubscribe();let d=0,p=o++;dt(n(u,p)).subscribe(i=Te(r,m=>r.next(e?e(u,m,p,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function oy(n){return xe((e,t)=>{dt(n).subscribe(Te(t,()=>t.complete(),_u)),!t.closed&&e.subscribe(t)})}function ot(n,e,t){let r=he(n)||e||t?{next:n,error:e,complete:t}:n;return r?xe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Te(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):hn}var FC="https://g.co/ng/security#xss",ne=class extends Error{constructor(e,t){super(wf(e,t)),this.code=e}};function wf(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Nu(n){return{toString:n}.toString()}var Oh="__parameters__";function XO(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function LC(n,e,t){return Nu(()=>{let r=XO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,d,p){let m=u.hasOwnProperty(Oh)?u[Oh]:Object.defineProperty(u,Oh,{value:[]})[Oh];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Iy=globalThis;function He(n){for(let e in n)if(n[e]===He)return e;throw Error("Could not find renamed property on target object.")}function ek(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Wt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Wt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Y0(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var tk=He({__forward_ref__:He});function Jn(n){return n.__forward_ref__=Jn,n.toString=function(){return Wt(this())},n}function Gt(n){return VC(n)?n():n}function VC(n){return typeof n=="function"&&n.hasOwnProperty(tk)&&n.__forward_ref__===Jn}function J(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gn(n){return{providers:n.providers||[],imports:n.imports||[]}}function If(n){return Z0(n,jC)||Z0(n,BC)}function UC(n){return If(n)!==null}function Z0(n,e){return n.hasOwnProperty(e)?n[e]:null}function nk(n){let e=n&&(n[jC]||n[BC]);return e||null}function J0(n){return n&&(n.hasOwnProperty(X0)||n.hasOwnProperty(rk))?n[X0]:null}var jC=He({\u0275prov:He}),X0=He({\u0275inj:He}),BC=He({ngInjectableDef:He}),rk=He({ngInjectorDef:He}),W=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=J({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $C(n){return n&&!!n.\u0275providers}var ik=He({\u0275cmp:He}),ok=He({\u0275dir:He}),sk=He({\u0275pipe:He}),ak=He({\u0275mod:He}),Wh=He({\u0275fac:He}),Cu=He({__NG_ELEMENT_ID__:He}),eC=He({__NG_ENV_ID__:He});function Ef(n){return typeof n=="string"?n:n==null?"":String(n)}function ck(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ef(n)}function uk(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ne(-200,n)}function wv(n,e){throw new ne(-201,!1)}var Ee=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ee||{}),Ey;function HC(){return Ey}function Rn(n){let e=Ey;return Ey=n,e}function qC(n,e,t){let r=If(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ee.Optional)return null;if(e!==void 0)return e;wv(n,"Injector")}var lk={},Tu=lk,by="__NG_DI_FLAG__",Kh="ngTempTokenPath",dk="ngTokenPath",hk=/\n/gm,fk="\u0275",tC="__source",Da;function pk(){return Da}function Xi(n){let e=Da;return Da=n,e}function mk(n,e=Ee.Default){if(Da===void 0)throw new ne(-203,!1);return Da===null?qC(n,void 0,e):Da.get(n,e&Ee.Optional?null:void 0,e)}function Z(n,e=Ee.Default){return(HC()||mk)(Gt(n),e)}function V(n,e=Ee.Default){return Z(n,bf(e))}function bf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Cy(n){let e=[];for(let t=0;t<n.length;t++){let r=Gt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ne(900,!1);let i,o=Ee.Default;for(let s=0;s<r.length;s++){let a=r[s],u=gk(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Z(i,o))}else e.push(Z(r))}return e}function zC(n,e){return n[by]=e,n.prototype[by]=e,n}function gk(n){return n[by]}function yk(n,e,t,r){let i=n[Kh];throw e[tC]&&i.unshift(e[tC]),n.message=vk(`
`+n.message,i,t,r),n[dk]=i,n[Kh]=null,n}function vk(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==fk?n.slice(2):n;let i=Wt(e);if(Array.isArray(e))i=e.map(Wt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Wt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(hk,`
  `)}`}var st=zC(LC("Optional"),8);var Iv=zC(LC("SkipSelf"),4);function Aa(n,e){let t=n.hasOwnProperty(Wh);return t?n[Wh]:null}function _k(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function wk(n){return n.flat(Number.POSITIVE_INFINITY)}function Ev(n,e){n.forEach(t=>Array.isArray(t)?Ev(t,e):e(t))}function GC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Qh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ik(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Ek(n,e,t){let r=Pu(n,e);return r>=0?n[r|1]=t:(r=~r,Ik(n,r,e,t)),r}function sy(n,e){let t=Pu(n,e);if(t>=0)return n[t|1]}function Pu(n,e){return bk(n,e,1)}function bk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ra={},pn=[],rs=new W(""),WC=new W("",-1),KC=new W(""),Yh=class{get(e,t=Tu){if(t===Tu){let r=new Error(`NullInjectorError: No provider for ${Wt(e)}!`);throw r.name="NullInjectorError",r}return t}},QC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(QC||{}),_r=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(_r||{}),to=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(to||{});function Ck(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Ty(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Tk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function YC(n){return n===3||n===4||n===6}function Tk(n){return n.charCodeAt(0)===64}function Du(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?nC(n,t,i,null,e[++r]):nC(n,t,i,null,null))}}return n}function nC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var ZC="ng-template";function Dk(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Ck(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(bv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function bv(n){return n.type===4&&n.value!==ZC}function Sk(n,e,t){let r=n.type===4&&!t?ZC:n.value;return e===r}function Ak(n,e,t){let r=4,i=n.attrs,o=i!==null?Mk(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Wn(r)&&!Wn(u))return!1;if(s&&Wn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Sk(n,u,t)||u===""&&e.length===1){if(Wn(r))return!1;s=!0}}else if(r&8){if(i===null||!Dk(n,i,u,t)){if(Wn(r))return!1;s=!0}}else{let d=e[++a],p=Rk(u,i,bv(n),t);if(p===-1){if(Wn(r))return!1;s=!0;continue}if(d!==""){let m;if(p>o?m="":m=i[p+1].toLowerCase(),r&2&&d!==m){if(Wn(r))return!1;s=!0}}}}return Wn(r)||s}function Wn(n){return(n&1)===0}function Rk(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Nk(e,n)}function xk(n,e,t=!1){for(let r=0;r<e.length;r++)if(Ak(n,e[r],t))return!0;return!1}function Mk(n){for(let e=0;e<n.length;e++){let t=n[e];if(YC(t))return e}return n.length}function Nk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function rC(n,e){return n?":not("+e.trim()+")":e}function Pk(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Wn(s)&&(e+=rC(o,i),i=""),r=s,o=o||!Wn(r);t++}return i!==""&&(e+=rC(o,i)),e}function Ok(n){return n.map(Pk).join(",")}function kk(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Wn(i))break;i=o}r++}return{attrs:e,classes:t}}function Vt(n){return Nu(()=>{let e=nT(n),t=we(H({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===QC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||_r.Emulated,styles:n.styles||pn,_:null,schemas:n.schemas||null,tView:null,id:""});rT(t);let r=n.dependencies;return t.directiveDefs=oC(r,!1),t.pipeDefs=oC(r,!0),t.id=Vk(t),t})}function Fk(n){return no(n)||JC(n)}function Lk(n){return n!==null}function yn(n){return Nu(()=>({type:n.type,bootstrap:n.bootstrap||pn,declarations:n.declarations||pn,imports:n.imports||pn,exports:n.exports||pn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function iC(n,e){if(n==null)return Ra;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=to.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==to.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Qe(n){return Nu(()=>{let e=nT(n);return rT(e),e})}function no(n){return n[ik]||null}function JC(n){return n[ok]||null}function XC(n){return n[sk]||null}function eT(n){let e=no(n)||JC(n)||XC(n);return e!==null?e.standalone:!1}function tT(n,e){let t=n[ak]||null;if(!t&&e===!0)throw new Error(`Type ${Wt(n)} does not have '\u0275mod' property.`);return t}function nT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ra,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||pn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:iC(n.inputs,e),outputs:iC(n.outputs),debugInfo:null}}function rT(n){n.features?.forEach(e=>e(n))}function oC(n,e){if(!n)return null;let t=e?XC:Fk;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(Lk)}function Vk(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ut(n){return{\u0275providers:n}}function Uk(...n){return{\u0275providers:iT(!0,n),\u0275fromNgModule:!0}}function iT(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Ev(e,s=>{let a=s;Dy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&oT(i,o),t}function oT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Cv(i,o=>{e(o,r)})}}function Dy(n,e,t,r){if(n=Gt(n),!n)return!1;let i=null,o=J0(n),s=!o&&no(n);if(!o&&!s){let u=n.ngModule;if(o=J0(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)Dy(d,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{Ev(o.imports,p=>{Dy(p,e,t,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&oT(d,e)}if(!a){let d=Aa(i)||(()=>new i);e({provide:i,useFactory:d,deps:pn},i),e({provide:KC,useValue:i,multi:!0},i),e({provide:rs,useValue:()=>Z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let d=n;Cv(u,p=>{e(p,d)})}}else return!1;return i!==n&&n.providers!==void 0}function Cv(n,e){for(let t of n)$C(t)&&(t=t.\u0275providers),Array.isArray(t)?Cv(t,e):e(t)}var jk=He({provide:String,useValue:He});function sT(n){return n!==null&&typeof n=="object"&&jk in n}function Bk(n){return!!(n&&n.useExisting)}function $k(n){return!!(n&&n.useFactory)}function xa(n){return typeof n=="function"}function Hk(n){return!!n.useClass}var Cf=new W(""),Bh={},qk={},ay;function Tv(){return ay===void 0&&(ay=new Yh),ay}var Kt=class{},Su=class extends Kt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ay(e,s=>this.processProvider(s)),this.records.set(WC,Ea(void 0,this)),i.has("environment")&&this.records.set(Kt,Ea(void 0,this));let o=this.records.get(Cf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(KC,pn,Ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Oe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Xi(this),r=Rn(void 0),i;try{return e()}finally{Xi(t),Rn(r)}}get(e,t=Tu,r=Ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(eC))return e[eC](this);r=bf(r);let i,o=Xi(this),s=Rn(void 0);try{if(!(r&Ee.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=Qk(e)&&If(e);d&&this.injectableDefInScope(d)?u=Ea(Sy(e),Bh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&Ee.Self?Tv():this.parent;return t=r&Ee.Optional&&t===Tu?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Kh]=a[Kh]||[]).unshift(Wt(e)),o)throw a;return yk(a,e,"R3InjectorError",this.source)}else throw a}finally{Rn(s),Xi(o)}}resolveInjectorInitializers(){let e=Oe(null),t=Xi(this),r=Rn(void 0),i;try{let o=this.get(rs,pn,Ee.Self);for(let s of o)s()}finally{Xi(t),Rn(r),Oe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(e){e=Gt(e);let t=xa(e)?e:Gt(e&&e.provide),r=Gk(e);if(!xa(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ea(void 0,Bh,!0),i.factory=()=>Cy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Oe(null);try{return t.value===Bh&&(t.value=qk,t.value=t.factory()),typeof t.value=="object"&&t.value&&Kk(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Oe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Gt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Sy(n){let e=If(n),t=e!==null?e.factory:Aa(n);if(t!==null)return t;if(n instanceof W)throw new ne(204,!1);if(n instanceof Function)return zk(n);throw new ne(204,!1)}function zk(n){if(n.length>0)throw new ne(204,!1);let t=nk(n);return t!==null?()=>t.factory(n):()=>new n}function Gk(n){if(sT(n))return Ea(void 0,n.useValue);{let e=aT(n);return Ea(e,Bh)}}function aT(n,e,t){let r;if(xa(n)){let i=Gt(n);return Aa(i)||Sy(i)}else if(sT(n))r=()=>Gt(n.useValue);else if($k(n))r=()=>n.useFactory(...Cy(n.deps||[]));else if(Bk(n))r=()=>Z(Gt(n.useExisting));else{let i=Gt(n&&(n.useClass||n.provide));if(Wk(n))r=()=>new i(...Cy(n.deps));else return Aa(i)||Sy(i)}return r}function Ea(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Wk(n){return!!n.deps}function Kk(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Qk(n){return typeof n=="function"||typeof n=="object"&&n instanceof W}function Ay(n,e){for(let t of n)Array.isArray(t)?Ay(t,e):t&&$C(t)?Ay(t.\u0275providers,e):e(t)}function Nn(n,e){n instanceof Su&&n.assertNotDestroyed();let t,r=Xi(n),i=Rn(void 0);try{return e()}finally{Xi(r),Rn(i)}}function cT(){return HC()!==void 0||pk()!=null}function Yk(n){if(!cT())throw new ne(-203,!1)}function Zk(n){return typeof n=="function"}var mn=0,ge=1,ue=2,Pt=3,Kn=4,Xn=5,wr=6,Zh=7,Yn=8,Ma=9,Ir=10,tt=11,Au=12,sC=13,Va=14,Mn=15,is=16,ba=17,Kr=18,Tf=19,uT=20,eo=21,cy=22,xn=23,Qt=25,lT=1,Ru=6,Qr=7,Jh=8,Na=9,rn=10,Xh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Xh||{});function Qn(n){return Array.isArray(n)&&typeof n[lT]=="object"}function Er(n){return Array.isArray(n)&&n[lT]===!0}function dT(n){return(n.flags&4)!==0}function Ou(n){return n.componentOffset>-1}function Dv(n){return(n.flags&1)===1}function ro(n){return!!n.template}function ef(n){return(n[ue]&512)!==0}var Ry=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function hT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function br(){return fT}function fT(n){return n.type.prototype.ngOnChanges&&(n.setInput=Xk),Jk}br.ngInherit=!0;function Jk(){let n=mT(this),e=n?.current;if(e){let t=n.previous;if(t===Ra)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Xk(n,e,t,r,i){let o=this.declaredInputs[r],s=mT(n)||e1(n,{previous:Ra,current:null}),a=s.current||(s.current={}),u=s.previous,d=u[o];a[o]=new Ry(d&&d.currentValue,t,u===Ra),hT(n,e,i,t)}var pT="__ngSimpleChanges__";function mT(n){return n[pT]||null}function e1(n,e){return n[pT]=e}var aC=null;var yr=function(n,e,t){aC?.(n,e,t)},t1="svg",n1="math";function Zn(n){for(;Array.isArray(n);)n=n[mn];return n}function gT(n,e){return Zn(e[n])}function vn(n,e){return Zn(e[n.index])}function yT(n,e){return n.data[e]}function r1(n,e){return n[e]}function oo(n,e){let t=e[n];return Qn(t)?t:t[mn]}function i1(n){return(n[ue]&4)===4}function Sv(n){return(n[ue]&128)===128}function o1(n){return Er(n[Pt])}function tf(n,e){return e==null?null:n[e]}function vT(n){n[ba]=0}function _T(n){n[ue]&1024||(n[ue]|=1024,Sv(n)&&Sf(n))}function s1(n,e){for(;n>0;)e=e[Va],n--;return e}function Df(n){return!!(n[ue]&9216||n[xn]?.dirty)}function xy(n){n[Ir].changeDetectionScheduler?.notify(8),n[ue]&64&&(n[ue]|=1024),Df(n)&&Sf(n)}function Sf(n){n[Ir].changeDetectionScheduler?.notify(0);let e=os(n);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!Sv(e)));)e=os(e)}function wT(n,e){if((n[ue]&256)===256)throw new ne(911,!1);n[eo]===null&&(n[eo]=[]),n[eo].push(e)}function a1(n,e){if(n[eo]===null)return;let t=n[eo].indexOf(e);t!==-1&&n[eo].splice(t,1)}function os(n){let e=n[Pt];return Er(e)?e[Pt]:e}var Ie={lFrame:RT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var IT=!1;function c1(){return Ie.lFrame.elementDepthCount}function u1(){Ie.lFrame.elementDepthCount++}function l1(){Ie.lFrame.elementDepthCount--}function ET(){return Ie.bindingsEnabled}function ku(){return Ie.skipHydrationRootTNode!==null}function d1(n){return Ie.skipHydrationRootTNode===n}function h1(n){Ie.skipHydrationRootTNode=n}function f1(){Ie.skipHydrationRootTNode=null}function qe(){return Ie.lFrame.lView}function _n(){return Ie.lFrame.tView}function wn(n){return Ie.lFrame.contextLView=n,n[Yn]}function In(n){return Ie.lFrame.contextLView=null,n}function Yt(){let n=bT();for(;n!==null&&n.type===64;)n=n.parent;return n}function bT(){return Ie.lFrame.currentTNode}function p1(){let n=Ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Fu(n,e){let t=Ie.lFrame;t.currentTNode=n,t.isParent=e}function CT(){return Ie.lFrame.isParent}function m1(){Ie.lFrame.isParent=!1}function g1(){return Ie.lFrame.contextLView}function TT(){return IT}function cC(n){IT=n}function y1(){let n=Ie.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function v1(n){return Ie.lFrame.bindingIndex=n}function Av(){return Ie.lFrame.bindingIndex++}function _1(n){let e=Ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function w1(){return Ie.lFrame.inI18n}function I1(n,e){let t=Ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,My(e)}function E1(){return Ie.lFrame.currentDirectiveIndex}function My(n){Ie.lFrame.currentDirectiveIndex=n}function b1(n){let e=Ie.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function DT(){return Ie.lFrame.currentQueryIndex}function Rv(n){Ie.lFrame.currentQueryIndex=n}function C1(n){let e=n[ge];return e.type===2?e.declTNode:e.type===1?n[Xn]:null}function ST(n,e,t){if(t&Ee.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Ee.Host);)if(i=C1(o),i===null||(o=o[Va],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ie.lFrame=AT();return r.currentTNode=e,r.lView=n,!0}function xv(n){let e=AT(),t=n[ge];Ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function AT(){let n=Ie.lFrame,e=n===null?null:n.child;return e===null?RT(n):e}function RT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function xT(){let n=Ie.lFrame;return Ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var MT=xT;function Mv(){let n=xT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function T1(n){return(Ie.lFrame.contextLView=s1(n,Ie.lFrame.contextLView))[Yn]}function Ua(){return Ie.lFrame.selectedIndex}function ss(n){Ie.lFrame.selectedIndex=n}function NT(){let n=Ie.lFrame;return yT(n.tView,n.selectedIndex)}function PT(){return Ie.lFrame.currentNamespace}var OT=!0;function Nv(){return OT}function so(n){OT=n}function D1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=fT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Pv(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),p!=null&&(n.destroyHooks??=[]).push(t,p)}}function $h(n,e,t){kT(n,e,3,t)}function Hh(n,e,t,r){(n[ue]&3)===t&&kT(n,e,t,r)}function uy(n,e){let t=n[ue];(t&3)===e&&(t&=16383,t+=1,n[ue]=t)}function kT(n,e,t,r){let i=r!==void 0?n[ba]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[ba]+=65536),(a<o||o==-1)&&(S1(n,t,e,u),n[ba]=(n[ba]&4294901760)+u+2),u++}function uC(n,e){yr(4,n,e);let t=Oe(null);try{e.call(n)}finally{Oe(t),yr(5,n,e)}}function S1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ue]>>14<n[ba]>>16&&(n[ue]&3)===e&&(n[ue]+=16384,uC(a,o)):uC(a,o)}var Sa=-1,as=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function A1(n){return n instanceof as}function R1(n){return(n.flags&8)!==0}function x1(n){return(n.flags&16)!==0}var ly={},Ny=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=bf(r);let i=this.injector.get(e,ly,r);return i!==ly||t===ly?i:this.parentInjector.get(e,t,r)}};function FT(n){return n!==Sa}function nf(n){return n&32767}function M1(n){return n>>16}function rf(n,e){let t=M1(n),r=e;for(;t>0;)r=r[Va],t--;return r}var Py=!0;function lC(n){let e=Py;return Py=n,e}var N1=256,LT=N1-1,VT=5,P1=0,vr={};function O1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Cu)&&(r=t[Cu]),r==null&&(r=t[Cu]=P1++);let i=r&LT,o=1<<i;e.data[n+(i>>VT)]|=o}function of(n,e){let t=UT(n,e);if(t!==-1)return t;let r=e[ge];r.firstCreatePass&&(n.injectorIndex=e.length,dy(r.data,n),dy(e,null),dy(r.blueprint,null));let i=Ov(n,e),o=n.injectorIndex;if(FT(i)){let s=nf(i),a=rf(i,e),u=a[ge].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|u[s+d]}return e[o+8]=i,o}function dy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function UT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ov(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=qT(i),r===null)return Sa;if(t++,i=i[Va],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Sa}function Oy(n,e,t){O1(n,e,t)}function k1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(YC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function jT(n,e,t){if(t&Ee.Optional||n!==void 0)return n;wv(e,"NodeInjector")}function BT(n,e,t,r){if(t&Ee.Optional&&r===void 0&&(r=null),!(t&(Ee.Self|Ee.Host))){let i=n[Ma],o=Rn(void 0);try{return i?i.get(e,r,t&Ee.Optional):qC(e,r,t&Ee.Optional)}finally{Rn(o)}}return jT(r,e,t)}function $T(n,e,t,r=Ee.Default,i){if(n!==null){if(e[ue]&2048&&!(r&Ee.Self)){let s=U1(n,e,t,r,vr);if(s!==vr)return s}let o=HT(n,e,t,r,vr);if(o!==vr)return o}return BT(e,t,r,i)}function HT(n,e,t,r,i){let o=L1(t);if(typeof o=="function"){if(!ST(e,n,r))return r&Ee.Host?jT(i,t,r):BT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Ee.Optional))wv(t);else return s}finally{MT()}}else if(typeof o=="number"){let s=null,a=UT(n,e),u=Sa,d=r&Ee.Host?e[Mn][Xn]:null;for((a===-1||r&Ee.SkipSelf)&&(u=a===-1?Ov(n,e):e[a+8],u===Sa||!hC(r,!1)?a=-1:(s=e[ge],a=nf(u),e=rf(u,e)));a!==-1;){let p=e[ge];if(dC(o,a,p.data)){let m=F1(a,e,t,s,r,d);if(m!==vr)return m}u=e[a+8],u!==Sa&&hC(r,e[ge].data[a+8]===d)&&dC(o,a,e)?(s=p,a=nf(u),e=rf(u,e)):a=-1}}return i}function F1(n,e,t,r,i,o){let s=e[ge],a=s.data[n+8],u=r==null?Ou(a)&&Py:r!=s&&(a.type&3)!==0,d=i&Ee.Host&&o===a,p=qh(a,s,t,u,d);return p!==null?cs(e,s,p,a):vr}function qh(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,d=n.directiveEnd,p=o>>20,m=r?a:a+p,_=i?a+p:d;for(let I=m;I<_;I++){let x=s[I];if(I<u&&t===x||I>=u&&x.type===t)return I}if(i){let I=s[u];if(I&&ro(I)&&I.type===t)return u}return null}function cs(n,e,t,r){let i=n[t],o=e.data;if(A1(i)){let s=i;s.resolving&&uk(ck(o[t]));let a=lC(s.canSeeViewProviders);s.resolving=!0;let u,d=s.injectImpl?Rn(s.injectImpl):null,p=ST(n,r,Ee.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&D1(t,o[t],e)}finally{d!==null&&Rn(d),lC(a),s.resolving=!1,MT()}}return i}function L1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Cu)?n[Cu]:void 0;return typeof e=="number"?e>=0?e&LT:V1:e}function dC(n,e,t){let r=1<<n;return!!(t[e+(n>>VT)]&r)}function hC(n,e){return!(n&Ee.Self)&&!(n&Ee.Host&&e)}var ns=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return $T(this._tNode,this._lView,e,bf(r),t)}};function V1(){return new ns(Yt(),qe())}function Xr(n){return Nu(()=>{let e=n.prototype.constructor,t=e[Wh]||ky(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Wh]||ky(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ky(n){return VC(n)?()=>{let e=ky(Gt(n));return e&&e()}:Aa(n)}function U1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ue]&2048&&!(s[ue]&512);){let a=HT(o,s,t,r|Ee.Self,vr);if(a!==vr)return a;let u=o.parent;if(!u){let d=s[uT];if(d){let p=d.get(t,vr,r);if(p!==vr)return p}u=qT(s),s=s[Va]}o=u}return i}function qT(n){let e=n[ge],t=e.type;return t===2?e.declTNode:t===1?n[Xn]:null}function kv(n){return k1(Yt(),n)}function fC(n,e=null,t=null,r){let i=zT(n,e,t,r);return i.resolveInjectorInitializers(),i}function zT(n,e=null,t=null,r,i=new Set){let o=[t||pn,Uk(n)];return r=r||(typeof n=="object"?void 0:Wt(n)),new Su(o,e||Tv(),r||null,i)}var ft=class n{static{this.THROW_IF_NOT_FOUND=Tu}static{this.NULL=new Yh}static create(e,t){if(Array.isArray(e))return fC({name:""},t,e,"");{let r=e.name??"";return fC({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=J({token:n,providedIn:"any",factory:()=>Z(WC)})}static{this.__NG_ELEMENT_ID__=-1}};var j1=new W("");j1.__NG_ELEMENT_ID__=n=>{let e=Yt();if(e===null)throw new ne(204,!1);if(e.type&2)return e.value;if(n&Ee.Optional)return null;throw new ne(204,!1)};var B1="ngOriginalError";function hy(n){return n[B1]}var GT=!0,Fv=(()=>{class n{static{this.__NG_ELEMENT_ID__=$1}static{this.__NG_ENV_ID__=t=>t}}return n})(),Fy=class extends Fv{constructor(e){super(),this._lView=e}onDestroy(e){return wT(this._lView,e),()=>a1(this._lView,e)}};function $1(){return new Fy(qe())}var ao=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Et(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Ly=class extends It{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,cT()&&(this.destroyRef=V(Fv,{optional:!0})??void 0,this.pendingTasks=V(ao,{optional:!0})??void 0)}emit(e){let t=Oe(null);try{super.next(e)}finally{Oe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof et&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Be=Ly;function sf(...n){}function WT(n){let e,t;function r(){n=sf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function pC(n){return queueMicrotask(()=>n()),()=>{n=sf}}var Lv="isAngularZone",af=Lv+"_ID",H1=0,De=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Be(!1),this.onMicrotaskEmpty=new Be(!1),this.onStable=new Be(!1),this.onError=new Be(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=GT}=e;if(typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,G1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Lv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ne(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,q1,sf,sf);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},q1={};function Vv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function z1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){WT(()=>{n.callbackScheduled=!1,Vy(n),n.isCheckStableRunning=!0,Vv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Vy(n)}function G1(n){let e=()=>{z1(n)},t=H1++;n._inner=n._inner.fork({name:"angular",properties:{[Lv]:!0,[af]:t,[af+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(W1(u))return r.invokeTask(o,s,a,u);try{return mC(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),gC(n)}},onInvoke:(r,i,o,s,a,u,d)=>{try{return mC(n),r.invoke(o,s,a,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!K1(u)&&e(),gC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Vy(n),Vv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Vy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function mC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gC(n){n._nesting--,Vv(n)}var Uy=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Be,this.onMicrotaskEmpty=new Be,this.onStable=new Be,this.onError=new Be}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function W1(n){return KT(n,"__ignore_ng_zone__")}function K1(n){return KT(n,"__scheduler_tick__")}function KT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Yr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&hy(e);for(;t&&hy(t);)t=hy(t);return t||null}},Q1=new W("",{providedIn:"root",factory:()=>{let n=V(De),e=V(Yr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Y1(){return ja(Yt(),qe())}function ja(n,e){return new jt(vn(n,e))}var jt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Y1}}return n})();function Z1(n){return n instanceof jt?n.nativeElement:n}function J1(){return this._results[Symbol.iterator]()}var jy=class n{get changes(){return this._changes??=new Be}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=J1)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=wk(e);(this._changesDetected=!_k(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},X1="ngSkipHydration",eF="ngskiphydration";function QT(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===eF)return!0}return!1}function YT(n){return n.hasAttribute(X1)}function cf(n){return(n.flags&128)===128}function tF(n){if(cf(n))return!0;let e=n.parent;for(;e;){if(cf(n)||QT(e))return!0;e=e.parent}return!1}var ZT=new Map,nF=0;function rF(){return nF++}function iF(n){ZT.set(n[Tf],n)}function By(n){ZT.delete(n[Tf])}var yC="__ngContext__";function us(n,e){Qn(e)?(n[yC]=e[Tf],iF(e)):n[yC]=e}function JT(n){return eD(n[Au])}function XT(n){return eD(n[Kn])}function eD(n){for(;n!==null&&!Er(n);)n=n[Kn];return n}var $y;function tD(n){$y=n}function Af(){if($y!==void 0)return $y;if(typeof document<"u")return document;throw new ne(210,!1)}var Rf=new W("",{providedIn:"root",factory:()=>oF}),oF="ng",Uv=new W(""),Bt=new W("",{providedIn:"platform",factory:()=>"unknown"});var jv=new W("",{providedIn:"root",factory:()=>Af().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function sF(){let n=new Ba;return V(Bt)==="browser"&&(n.store=aF(Af(),V(Rf))),n}var Ba=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=J({token:n,providedIn:"root",factory:sF})}get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function aF(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var nD="h",rD="b",Hy=function(n){return n.FirstChild="f",n.NextSibling="n",n}(Hy||{}),cF="e",uF="t",Bv="c",iD="x",uf="r",lF="i",dF="n",oD="d";var hF="__nghData__",sD=hF,fy="ngh",fF="nghm",aD=()=>null;function pF(n,e,t=!1){let r=n.getAttribute(fy);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,u={};if(r!==""){let p=e.get(Ba,null,{optional:!0});p!==null&&(u=p.get(sD,[])[Number(r)])}let d={data:u,firstChild:n.firstChild??null};return t&&(d.firstChild=n,xf(d,0,n.nextSibling)),a?n.setAttribute(fy,a):n.removeAttribute(fy),d}function mF(){aD=pF}function $v(n,e,t=!1){return aD(n,e,t)}function gF(n){let e=n._lView;return e[ge].type===2?null:(ef(e)&&(e=e[Qt]),e)}function yF(n){return n.textContent?.replace(/\s/gm,"")}function vF(n){let e=Af(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=yF(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function xf(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function qy(n,e){return n.segmentHeads?.[e]??null}function _F(n,e){let t=n.data,r=t[cF]?.[e]??null;return r===null&&t[Bv]?.[e]&&(r=Hv(n,e)),r}function cD(n,e){return n.data[Bv]?.[e]??null}function Hv(n,e){let t=cD(n,e)??[],r=0;for(let i of t)r+=i[uf]*(i[iD]??1);return r}function wF(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[oD];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function Lu(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[oD];n.disconnectedNodes=t?new Set(t):null}return!!wF(n)?.has(e)}var kh=new W(""),uD=!1,lD=new W("",{providedIn:"root",factory:()=>uD});var Fh;function IF(){if(Fh===void 0&&(Fh=null,Iy.trustedTypes))try{Fh=Iy.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Fh}function vC(n){return IF()?.createScriptURL(n)||n}var lf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${FC})`}};function Vu(n){return n instanceof lf?n.changingThisBreaksApplicationSecurity:n}function qv(n,e){let t=EF(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${FC})`)}return t===e}function EF(n){return n instanceof lf&&n.getTypeName()||null}var bF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function dD(n){return n=String(n),n.match(bF)?n:"unsafe:"+n}var Mf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Mf||{});function CF(n){let e=fD();return e?e.sanitize(Mf.URL,n)||"":qv(n,"URL")?Vu(n):dD(Ef(n))}function TF(n){let e=fD();if(e)return vC(e.sanitize(Mf.RESOURCE_URL,n)||"");if(qv(n,"ResourceURL"))return vC(Vu(n));throw new ne(904,!1)}function DF(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?TF:CF}function hD(n,e,t){return DF(e,t)(n)}function fD(){let n=qe();return n&&n[Ir].sanitizer}var SF=/^>|^->|<!--|-->|--!>|<!-$/g,AF=/(<|>)/g,RF="\u200B$1\u200B";function xF(n){return n.replace(SF,e=>e.replace(AF,RF))}function MF(n){return n.ownerDocument.body}function pD(n){return n instanceof Function?n():n}function Eu(n){return(n??V(ft)).get(Bt)==="browser"}var Zr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Zr||{}),NF;function zv(n,e){return NF(n,e)}function Ca(n,e,t,r,i){if(r!=null){let o,s=!1;Er(r)?o=r:Qn(r)&&(s=!0,r=r[mn]);let a=Zn(r);n===0&&t!==null?i==null?wD(e,t,a):df(e,t,a,i||null,!0):n===1&&t!==null?df(e,t,a,i||null,!0):n===2?Qv(e,a,s):n===3&&e.destroyNode(a),o!=null&&WF(e,n,o,t,i)}}function mD(n,e){return n.createText(e)}function PF(n,e,t){n.setValue(e,t)}function gD(n,e){return n.createComment(xF(e))}function Gv(n,e,t){return n.createElement(e,t)}function OF(n,e){yD(n,e),e[mn]=null,e[Xn]=null}function kF(n,e,t,r,i,o){r[mn]=i,r[Xn]=e,Nf(n,r,t,1,i,o)}function yD(n,e){e[Ir].changeDetectionScheduler?.notify(9),Nf(n,e,e[tt],2,null,null)}function FF(n){let e=n[Au];if(!e)return py(n[ge],n);for(;e;){let t=null;if(Qn(e))t=e[Au];else{let r=e[rn];r&&(t=r)}if(!t){for(;e&&!e[Kn]&&e!==n;)Qn(e)&&py(e[ge],e),e=e[Pt];e===null&&(e=n),Qn(e)&&py(e[ge],e),t=e&&e[Kn]}e=t}}function LF(n,e,t,r){let i=rn+r,o=t.length;r>0&&(t[i-1][Kn]=e),r<o-rn?(e[Kn]=t[i],GC(t,rn+r,e)):(t.push(e),e[Kn]=null),e[Pt]=t;let s=e[is];s!==null&&t!==s&&vD(s,e);let a=e[Kr];a!==null&&a.insertView(n),xy(e),e[ue]|=128}function vD(n,e){let t=n[Na],r=e[Pt];if(Qn(r))n[ue]|=Xh.HasTransplantedViews;else{let i=r[Pt][Mn];e[Mn]!==i&&(n[ue]|=Xh.HasTransplantedViews)}t===null?n[Na]=[e]:t.push(e)}function Wv(n,e){let t=n[Na],r=t.indexOf(e);t.splice(r,1)}function zy(n,e){if(n.length<=rn)return;let t=rn+e,r=n[t];if(r){let i=r[is];i!==null&&i!==n&&Wv(i,r),e>0&&(n[t-1][Kn]=r[Kn]);let o=Qh(n,rn+e);OF(r[ge],r);let s=o[Kr];s!==null&&s.detachView(o[ge]),r[Pt]=null,r[Kn]=null,r[ue]&=-129}return r}function _D(n,e){if(!(e[ue]&256)){let t=e[tt];t.destroyNode&&Nf(n,e,t,3,null,null),FF(e)}}function py(n,e){if(e[ue]&256)return;let t=Oe(null);try{e[ue]&=-129,e[ue]|=256,e[xn]&&Vg(e[xn]),UF(n,e),VF(n,e),e[ge].type===1&&e[tt].destroy();let r=e[is];if(r!==null&&Er(e[Pt])){r!==e[Pt]&&Wv(r,e);let i=e[Kr];i!==null&&i.detachView(n)}By(e)}finally{Oe(t)}}function VF(n,e){let t=n.cleanup,r=e[Zh];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Zh]=null);let i=e[eo];if(i!==null){e[eo]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function UF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof as)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];yr(4,a,u);try{u.call(a)}finally{yr(5,a,u)}}else{yr(4,i,o);try{o.call(i)}finally{yr(5,i,o)}}}}}function jF(n,e,t){return BF(n,e.parent,t)}function BF(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[mn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===_r.None||o===_r.Emulated)return null}return vn(r,t)}}function df(n,e,t,r,i){n.insertBefore(e,t,r,i)}function wD(n,e,t){n.appendChild(e,t)}function _C(n,e,t,r,i){r!==null?df(n,e,t,r,i):wD(n,e,t)}function ID(n,e){return n.parentNode(e)}function $F(n,e){return n.nextSibling(e)}function HF(n,e,t){return zF(n,e,t)}function qF(n,e,t){return n.type&40?vn(n,t):null}var zF=qF,wC;function Kv(n,e,t,r){let i=jF(n,r,e),o=e[tt],s=r.parent||e[Xn],a=HF(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)_C(o,i,t[u],a,!1);else _C(o,i,t,a,!1);wC!==void 0&&wC(o,r,e,t,i)}function bu(n,e){if(e!==null){let t=e.type;if(t&3)return vn(e,n);if(t&4)return Gy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return bu(n,r);{let i=n[e.index];return Er(i)?Gy(-1,i):Zn(i)}}else{if(t&128)return bu(n,e.next);if(t&32)return zv(e,n)()||Zn(n[e.index]);{let r=ED(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=os(n[Mn]);return bu(i,r)}else return bu(n,e.next)}}}return null}function ED(n,e){if(e!==null){let r=n[Mn][Xn],i=e.projection;return r.projection[i]}return null}function Gy(n,e){let t=rn+n+1;if(t<e.length){let r=e[t],i=r[ge].firstChild;if(i!==null)return bu(r,i)}return e[Qr]}function Qv(n,e,t){n.removeChild(null,e,t)}function bD(n){n.textContent=""}function Yv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&us(Zn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Yv(n,e,t.child,r,i,o,!1),Ca(e,n,i,a,o);else if(u&32){let d=zv(t,r),p;for(;p=d();)Ca(e,n,i,p,o);Ca(e,n,i,a,o)}else u&16?GF(n,e,r,t,i,o):Ca(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Nf(n,e,t,r,i,o){Yv(t,r,n.firstChild,e,i,o,!1)}function GF(n,e,t,r,i,o){let s=t[Mn],u=s[Xn].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];Ca(e,n,i,p,o)}else{let d=u,p=s[Pt];cf(r)&&(d.flags|=128),Yv(n,e,d,p,i,o,!0)}}function WF(n,e,t,r,i){let o=t[Qr],s=Zn(t);o!==s&&Ca(e,n,r,o,i);for(let a=rn;a<t.length;a++){let u=t[a];Nf(u[ge],u,n,e,r,o)}}function KF(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Zr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Zr.Important),n.setStyle(t,r,i,o))}}function QF(n,e,t){n.setAttribute(e,"style",t)}function CD(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function TD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Ty(n,e,r),i!==null&&CD(n,e,i),o!==null&&QF(n,e,o)}var fs={};function z(n=1){DD(_n(),qe(),Ua()+n,!1)}function DD(n,e,t,r){if(!r)if((e[ue]&3)===3){let o=n.preOrderCheckHooks;o!==null&&$h(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Hh(e,o,0,t)}ss(t)}function Y(n,e=Ee.Default){let t=qe();if(t===null)return Z(n,e);let r=Yt();return $T(r,t,Gt(n),e)}function SD(){let n="invalid";throw new Error(n)}function AD(n,e,t,r,i,o){let s=Oe(null);try{let a=null;i&to.SignalBased&&(a=e[r][Gi]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&to.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):hT(e,a,r,o)}finally{Oe(s)}}function YF(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ss(~i);else{let o=i,s=t[++r],a=t[++r];I1(s,o);let u=e[o];a(2,u)}}}finally{ss(-1)}}function Pf(n,e,t,r,i,o,s,a,u,d,p){let m=e.blueprint.slice();return m[mn]=i,m[ue]=r|4|128|8|64,(d!==null||n&&n[ue]&2048)&&(m[ue]|=2048),vT(m),m[Pt]=m[Va]=n,m[Yn]=t,m[Ir]=s||n&&n[Ir],m[tt]=a||n&&n[tt],m[Ma]=u||n&&n[Ma]||null,m[Xn]=o,m[Tf]=rF(),m[wr]=p,m[uT]=d,m[Mn]=e.type==2?n[Mn]:m,m}function Of(n,e,t,r,i){let o=n.data[e];if(o===null)o=ZF(n,e,t,r,i),w1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=p1();o.injectorIndex=s===null?-1:s.injectorIndex}return Fu(o,!0),o}function ZF(n,e,t,r,i){let o=bT(),s=CT(),a=s?o:o&&o.parent,u=n.data[e]=iL(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function RD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function xD(n,e,t,r,i){let o=Ua(),s=r&2;try{ss(-1),s&&e.length>Qt&&DD(n,e,Qt,!1),yr(s?2:0,i),t(r,i)}finally{ss(o),yr(s?3:1,i)}}function MD(n,e,t){if(dT(e)){let r=Oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Oe(r)}}}function ND(n,e,t){ET()&&(dL(n,e,t,vn(t,e)),(t.flags&64)===64&&VD(n,e,t))}function PD(n,e,t=vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function OD(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Zv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Zv(n,e,t,r,i,o,s,a,u,d,p){let m=Qt+r,_=m+i,I=JF(m,_),x=typeof d=="function"?d():d;return I[ge]={type:n,blueprint:I,template:t,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:x,incompleteFirstPass:!1,ssrId:p}}function JF(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:fs);return t}function XF(n,e,t,r){let o=r.get(lD,uD)||t===_r.ShadowDom,s=n.selectRootElement(e,o);return eL(s),s}function eL(n){kD(n)}var kD=()=>null;function tL(n){YT(n)?bD(n):vF(n)}function nL(){kD=tL}function rL(n,e,t,r){let i=BD(e);i.push(t),n.firstCreatePass&&$D(n).push(r,i.length-1)}function iL(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return ku()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function IC(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=to.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}n===0?EC(r,t,d,a,u):EC(r,t,d,a)}return r}function EC(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function oL(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let m=o[p],_=t?t.get(m):null,I=_?_.inputs:null,x=_?_.outputs:null;u=IC(0,m.inputs,p,u,I),d=IC(1,m.outputs,p,d,x);let k=u!==null&&s!==null&&!bv(e)?EL(u,p,s):null;a.push(k)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function sL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function aL(n,e,t,r,i,o,s,a){let u=vn(e,t),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(Jv(n,t,p,r,i),Ou(e)&&cL(t,e.index)):e.type&3?(r=sL(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function cL(n,e){let t=oo(e,n);t[ue]&16||(t[ue]|=64)}function FD(n,e,t,r){if(ET()){let i=r===null?null:{"":-1},o=fL(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&LD(n,e,t,s,i,a),i&&pL(t,r,i)}t.mergedAttrs=Du(t.mergedAttrs,t.attrs)}function LD(n,e,t,r,i,o){for(let d=0;d<r.length;d++)Oy(of(t,e),n,r[d].type);gL(t,n.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,u=RD(n,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];t.mergedAttrs=Du(t.mergedAttrs,p.hostAttrs),yL(n,t,e,u,p),mL(u,p,i),p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let m=p.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}oL(n,t,o)}function uL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;lL(s)!=a&&s.push(a),s.push(t,r,o)}}function lL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function dL(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Ou(t)&&vL(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||of(t,e),us(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],d=cs(e,n,a,t);if(us(d,e),s!==null&&IL(e,a-i,d,u,t,s),ro(u)){let p=oo(t.index,e);p[Yn]=cs(e,n,a,t)}}}function VD(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=E1();try{ss(o);for(let a=r;a<i;a++){let u=n.data[a],d=e[a];My(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&hL(u,d)}}finally{ss(-1),My(s)}}function hL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function fL(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(xk(e,s.selectors,!1))if(r||(r=[]),ro(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Wy(n,e,u)}else r.unshift(s),Wy(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Wy(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function pL(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new ne(-301,!1);r.push(e[i],o)}}}function mL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ro(e)&&(t[""]=n)}}function gL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function yL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Aa(i.type,!0)),s=new as(o,ro(i),Y);n.blueprint[r]=s,t[r]=s,uL(n,e,r,RD(n,t,i.hostVars,fs),i)}function vL(n,e,t){let r=vn(e,n),i=OD(t),o=n[Ir].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=kf(n,Pf(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function _L(n,e,t,r,i,o){let s=vn(n,e);wL(e[tt],s,o,n.value,t,r,i)}function wL(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ef(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function IL(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],d=s[a++],p=s[a++],m=s[a++];AD(r,t,u,d,p,m)}}function EL(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function UD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function jD(n,e){let t=n.contentQueries;if(t!==null){let r=Oe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Rv(o),a.contentQueries(2,e[s],s)}}}finally{Oe(r)}}}function kf(n,e){return n[Au]?n[sC][Kn]=e:n[Au]=e,n[sC]=e,e}function Ky(n,e,t){Rv(0);let r=Oe(null);try{e(n,t)}finally{Oe(r)}}function BD(n){return n[Zh]??=[]}function $D(n){return n.cleanup??=[]}function HD(n,e){let t=n[Ma],r=t?t.get(Yr,null):null;r&&r.handleError(e)}function Jv(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],d=e[s],p=n.data[s];AD(p,d,r,a,u,i)}}function bL(n,e,t){let r=gT(e,n);PF(n[tt],r,t)}function CL(n,e){let t=oo(e,n),r=t[ge];TL(r,t);let i=t[mn];i!==null&&t[wr]===null&&(t[wr]=$v(i,t[Ma])),Xv(r,t,t[Yn])}function TL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Xv(n,e,t){xv(e);try{let r=n.viewQuery;r!==null&&Ky(1,r,t);let i=n.template;i!==null&&xD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Kr]?.finishViewCreation(n),n.staticContentQueries&&jD(n,e),n.staticViewQueries&&Ky(2,n.viewQuery,t);let o=n.components;o!==null&&DL(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ue]&=-5,Mv()}}function DL(n,e){for(let t=0;t<e.length;t++)CL(n,e[t])}function SL(n,e,t,r){let i=Oe(null);try{let o=e.tView,a=n[ue]&4096?4096:16,u=Pf(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];u[is]=d;let p=n[Kr];return p!==null&&(u[Kr]=p.createEmbeddedView(o)),Xv(o,u,t),u}finally{Oe(i)}}function bC(n,e){return!e||e.firstChild===null||cf(n)}function AL(n,e,t,r=!0){let i=e[ge];if(LF(i,e,n,t),r){let s=Gy(t,n),a=e[tt],u=ID(a,n[Qr]);u!==null&&kF(i,n[Xn],a,e,u,s)}let o=e[wr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function hf(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Zn(o)),Er(o)&&RL(o,r);let s=t.type;if(s&8)hf(n,e,t.child,r);else if(s&32){let a=zv(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=ED(e,t);if(Array.isArray(a))r.push(...a);else{let u=os(e[Mn]);hf(u[ge],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function RL(n,e){for(let t=rn;t<n.length;t++){let r=n[t],i=r[ge].firstChild;i!==null&&hf(r[ge],r,i,e)}n[Qr]!==n[mn]&&e.push(n[Qr])}var qD=[];function xL(n){return n[xn]??ML(n)}function ML(n){let e=qD.pop()??Object.create(PL);return e.lView=n,e}function NL(n){n.lView[xn]!==n&&(n.lView=null,qD.push(n))}var PL=we(H({},vu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Sf(n.lView)},consumerOnSignalRead(){this.lView[xn]=this}});function OL(n){let e=n[xn]??Object.create(kL);return e.lView=n,e}var kL=we(H({},vu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=os(n.lView);for(;e&&!zD(e[ge]);)e=os(e);e&&_T(e)},consumerOnSignalRead(){this.lView[xn]=this}});function zD(n){return n.type!==2}var FL=100;function GD(n,e=!0,t=0){let r=n[Ir],i=r.rendererFactory,o=!1;o||i.begin?.();try{LL(n,t)}catch(s){throw e&&HD(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function LL(n,e){let t=TT();try{cC(!0),Qy(n,e);let r=0;for(;Df(n);){if(r===FL)throw new ne(103,!1);r++,Qy(n,1)}}finally{cC(t)}}function VL(n,e,t,r){let i=e[ue];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Ir].inlineEffectRunner?.flush(),xv(e);let a=!0,u=null,d=null;o||(zD(n)?(d=xL(e),u=ah(d)):h0()===null?(a=!1,d=OL(e),u=ah(d)):e[xn]&&(Vg(e[xn]),e[xn]=null));try{vT(e),v1(n.bindingStartIndex),t!==null&&xD(n,e,t,2,r);let p=(i&3)===3;if(!o)if(p){let I=n.preOrderCheckHooks;I!==null&&$h(e,I,null)}else{let I=n.preOrderHooks;I!==null&&Hh(e,I,0,null),uy(e,0)}if(s||UL(e),WD(e,0),n.contentQueries!==null&&jD(n,e),!o)if(p){let I=n.contentCheckHooks;I!==null&&$h(e,I)}else{let I=n.contentHooks;I!==null&&Hh(e,I,1),uy(e,1)}YF(n,e);let m=n.components;m!==null&&QD(e,m,0);let _=n.viewQuery;if(_!==null&&Ky(2,_,r),!o)if(p){let I=n.viewCheckHooks;I!==null&&$h(e,I)}else{let I=n.viewHooks;I!==null&&Hh(e,I,2),uy(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[cy]){for(let I of e[cy])I();e[cy]=null}o||(e[ue]&=-73)}catch(p){throw o||Sf(e),p}finally{d!==null&&(Fg(d,u),a&&NL(d)),Mv()}}function WD(n,e){for(let t=JT(n);t!==null;t=XT(t))for(let r=rn;r<t.length;r++){let i=t[r];KD(i,e)}}function UL(n){for(let e=JT(n);e!==null;e=XT(e)){if(!(e[ue]&Xh.HasTransplantedViews))continue;let t=e[Na];for(let r=0;r<t.length;r++){let i=t[r];_T(i)}}}function jL(n,e,t){let r=oo(e,n);KD(r,t)}function KD(n,e){Sv(n)&&Qy(n,e)}function Qy(n,e){let r=n[ge],i=n[ue],o=n[xn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Lg(o)),s||=!1,o&&(o.dirty=!1),n[ue]&=-9217,s)VL(r,n,r.template,n[Yn]);else if(i&8192){WD(n,1);let a=r.components;a!==null&&QD(n,a,1)}}function QD(n,e,t){for(let r=0;r<e.length;r++)jL(n,e[r],t)}function e_(n,e){let t=TT()?64:1088;for(n[Ir].changeDetectionScheduler?.notify(e);n;){n[ue]|=t;let r=os(n);if(ef(n)&&!r)return n;n=r}return null}var ls=class{get rootNodes(){let e=this._lView,t=e[ge];return hf(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yn]}set context(e){this._lView[Yn]=e}get destroyed(){return(this._lView[ue]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pt];if(Er(e)){let t=e[Jh],r=t?t.indexOf(this):-1;r>-1&&(zy(e,r),Qh(t,r))}this._attachedToViewContainer=!1}_D(this._lView[ge],this._lView)}onDestroy(e){wT(this._lView,e)}markForCheck(){e_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ue]&=-129}reattach(){xy(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,GD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ef(this._lView),t=this._lView[is];t!==null&&!e&&Wv(t,this._lView),yD(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=e;let t=ef(this._lView),r=this._lView[is];r!==null&&!t&&vD(r,this._lView),xy(this._lView)}},ds=(()=>{class n{static{this.__NG_ELEMENT_ID__=HL}}return n})(),BL=ds,$L=class extends BL{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=SL(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ls(i)}};function HL(){return Ff(Yt(),qe())}function Ff(n,e){return n.type&4?new $L(e,n,ja(n,e)):null}var qL=new RegExp(`^(\\d+)*(${rD}|${nD})*(.*)`);function zL(n){let e=n.match(qL),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,d,p]of o.matchAll(/(f|n)(\d*)/g)){let m=parseInt(p,10)||1;a.push(d,m)}return[s,...a]}function GL(n){return!n.prev&&n.parent?.type===8}function my(n){return n.index-Qt}function WL(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function Lf(n,e,t,r){let i=my(r),o=WL(n,i);if(o===void 0){let s=n.data[dF];if(s?.[i])o=QL(s[i],t);else if(e.firstChild===r)o=n.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(GL(r)){let d=my(r.parent);o=qy(n,d)}else{let d=vn(u,t);if(a)o=d.firstChild;else{let p=my(u),m=qy(n,p);if(u.type===2&&m){let I=Hv(n,p)+1;o=Vf(I,m)}else o=d.nextSibling}}}}return o}function Vf(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function KL(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Hy.FirstChild:t=t.firstChild;break;case Hy.NextSibling:t=t.nextSibling;break}}return t}function QL(n,e){let[t,...r]=zL(n),i;if(t===nD)i=e[Mn][mn];else if(t===rD)i=MF(e[Mn][mn]);else{let o=Number(t);i=Zn(e[o+Qt])}return KL(i,r)}var YL=!1;function ZL(n){YL=n}function JL(n){let e=n[wr];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[tt];for(let o of r.values())XL(i,t,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function XL(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-Qt);i&&Qv(n,i,!1)}}function YD(n){let e=n[Ru]??[],r=n[Pt][tt];for(let i of e)eV(i,r);n[Ru]=pn}function eV(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[uf];for(;t<i;){let o=r.nextSibling;Qv(e,r,!1),r=o,t++}}}function ZD(n){YD(n);let e=n[mn];Qn(e)&&ff(e);for(let t=rn;t<n.length;t++)ff(n[t])}function ff(n){JL(n);let e=n[ge];for(let t=Qt;t<e.bindingStartIndex;t++)if(Er(n[t])){let r=n[t];ZD(r)}else Qn(n[t])&&ff(n[t])}function tV(n){let e=n._views;for(let t of e){let r=gF(t);r!==null&&r[mn]!==null&&(Qn(r)?ff(r):ZD(r))}}function nV(n,e){let t=[];for(let r of e)for(let i=0;i<(r[iD]??1);i++){let o={data:r,firstChild:null};r[uf]>0&&(o.firstChild=n,n=Vf(r[uf],n)),t.push(o)}return[n,t]}var JD=()=>null;function rV(n,e){let t=n[Ru];return!e||t===null||t.length===0?null:t[0].data[lF]===e?t.shift():(YD(n),null)}function iV(){JD=rV}function CC(n,e){return JD(n,e)}var Pa=class{},Uf=new W("",{providedIn:"root",factory:()=>!1});var XD=new W(""),eS=new W(""),Yy=class{},pf=class{};function oV(n){let e=Error(`No component factory found for ${Wt(n)}.`);return e[sV]=n,e}var sV="ngComponent";var Zy=class{resolveComponentFactory(e){throw oV(e)}},Oa=class{static{this.NULL=new Zy}},ka=class{},Cr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>aV()}}return n})();function aV(){let n=qe(),e=Yt(),t=oo(e.index,n);return(Qn(t)?t:n)[tt]}var cV=(()=>{class n{static{this.\u0275prov=J({token:n,providedIn:"root",factory:()=>null})}}return n})();function Jy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Y0(i,a);else if(o==2){let u=a,d=e[++s];r=Y0(r,u+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var mf=class extends Oa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=no(e);return new Fa(t,this.ngModule)}};function TC(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:to.None;e?t.push({propName:s,templateName:r,isSignal:(a&to.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function uV(n){let e=n.toLowerCase();return e==="svg"?t1:e==="math"?n1:null}var Fa=class extends pf{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=TC(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return TC(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Ok(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Oe(null);try{i=i||this.ngModule;let s=i instanceof Kt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ny(e,s):e,u=a.get(ka,null);if(u===null)throw new ne(407,!1);let d=a.get(cV,null),p=a.get(Pa,null),m={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",x=r?XF(_,r,this.componentDef.encapsulation,a):Gv(_,I,uV(I)),k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let N=null;x!==null&&(N=$v(x,a,!0));let B=Zv(0,null,null,1,0,null,null,null,null,null,null),X=Pf(null,B,null,k,null,null,m,_,a,null,N);xv(X);let G,ee,pe=null;try{let ie=this.componentDef,D,E=null;ie.findHostDirectiveDefs?(D=[],E=new Map,ie.findHostDirectiveDefs(ie,D,E),D.push(ie)):D=[ie];let b=lV(X,x);pe=dV(b,x,ie,D,X,m,_),ee=yT(B,Qt),x&&pV(_,ie,x,r),t!==void 0&&mV(ee,this.ngContentSelectors,t),G=fV(pe,ie,D,E,X,[gV]),Xv(B,X,null)}catch(ie){throw pe!==null&&By(pe),By(X),ie}finally{Mv()}return new Xy(this.componentType,G,ja(ee,X),X,ee)}finally{Oe(o)}}},Xy=class extends Yy{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ls(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Jv(o[ge],o,i,e,t),this.previousInputValues.set(e,t);let s=oo(this._tNode.index,o);e_(s,1)}}get injector(){return new ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function lV(n,e){let t=n[ge],r=Qt;return n[r]=e,Of(t,r,2,"#host",null)}function dV(n,e,t,r,i,o,s){let a=i[ge];hV(r,n,e,s);let u=null;e!==null&&(u=$v(e,i[Ma]));let d=o.rendererFactory.createRenderer(e,t),p=16;t.signals?p=4096:t.onPush&&(p=64);let m=Pf(i,OD(t),null,p,i[n.index],n,o,d,null,null,u);return a.firstCreatePass&&Wy(a,n,r.length-1),kf(i,m),i[n.index]=m}function hV(n,e,t,r){for(let i of n)e.mergedAttrs=Du(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Jy(e,e.mergedAttrs,!0),t!==null&&TD(r,t,e))}function fV(n,e,t,r,i,o){let s=Yt(),a=i[ge],u=vn(s,i);LD(a,i,s,t,null,r);for(let p=0;p<t.length;p++){let m=s.directiveStart+p,_=cs(i,a,m,s);us(_,i)}VD(a,i,s),u&&us(u,i);let d=cs(i,a,s.directiveStart+s.componentOffset,s);if(n[Yn]=i[Yn]=d,o!==null)for(let p of o)p(d,e);return MD(a,s,i),d}function pV(n,e,t,r){if(r)Ty(n,t,["ng-version","18.2.10"]);else{let{attrs:i,classes:o}=kk(e.selectors[0]);i&&Ty(n,t,i),o&&o.length>0&&CD(n,t,o.join(" "))}}function mV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function gV(){let n=Yt();Pv(qe()[ge],n)}var co=(()=>{class n{static{this.__NG_ELEMENT_ID__=yV}}return n})();function yV(){let n=Yt();return nS(n,qe())}var vV=co,tS=class extends vV{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ja(this._hostTNode,this._hostLView)}get injector(){return new ns(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ov(this._hostTNode,this._hostLView);if(FT(e)){let t=rf(e,this._hostLView),r=nf(e),i=t[ge].data[r+8];return new ns(i,t)}else return new ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=DC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-rn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=CC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,bC(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!Zk(e),a;if(s)a=t;else{let x=t||{};a=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let u=s?e:new Fa(no(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let k=(s?d:this.parentInjector).get(Kt,null);k&&(o=k)}let p=no(u.componentType??{}),m=CC(this._lContainer,p?.id??null),_=m?.firstChild??null,I=u.create(d,i,_,o);return this.insertImpl(I.hostView,a,bC(this._hostTNode,m)),I}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(o1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Pt],d=new tS(u,u[Xn],u[Pt]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return AL(s,i,o,r),e.attachToViewContainerRef(),GC(gy(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=DC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=zy(this._lContainer,t);r&&(Qh(gy(this._lContainer),t),_D(r[ge],r))}detach(e){let t=this._adjustIndex(e,-1),r=zy(this._lContainer,t);return r&&Qh(gy(this._lContainer),t)!=null?new ls(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function DC(n){return n[Jh]}function gy(n){return n[Jh]||(n[Jh]=[])}function nS(n,e){let t,r=e[n.index];return Er(r)?t=r:(t=UD(r,e,null,n),e[n.index]=t,kf(e,t)),rS(t,e,n,r),new tS(t,n,e)}function _V(n,e){let t=n[tt],r=t.createComment(""),i=vn(e,n),o=ID(t,i);return df(t,o,r,$F(t,i),!1),r}var rS=iS,t_=()=>!1;function wV(n,e,t){return t_(n,e,t)}function iS(n,e,t,r){if(n[Qr])return;let i;t.type&8?i=Zn(r):i=_V(e,t),n[Qr]=i}function IV(n,e,t){if(n[Qr]&&n[Ru])return!0;let r=t[wr],i=e.index-Qt;if(!r||tF(e)||Lu(r,i))return!1;let s=qy(r,i),a=r.data[Bv]?.[i],[u,d]=nV(s,a);return n[Qr]=u,n[Ru]=d,!0}function EV(n,e,t,r){t_(n,t,e)||iS(n,e,t,r)}function bV(){rS=EV,t_=IV}var ev=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},tv=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)n_(e,t).matches!==null&&this.queries[t].setDirty()}},nv=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=MV(e):this.predicate=e}},rv=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},iv=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,CV(t,o)),this.matchTNodeWithReadOption(e,t,qh(t,e,o,!1,!1))}else r===ds?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,qh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===jt||i===co||i===ds&&t.type&4)this.addMatch(t.index,-2);else{let o=qh(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function CV(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function TV(n,e){return n.type&11?ja(n,e):n.type&4?Ff(n,e):null}function DV(n,e,t,r){return t===-1?TV(e,n):t===-2?SV(n,e,r):cs(n,n[ge],t,e)}function SV(n,e,t){if(t===jt)return ja(e,n);if(t===ds)return Ff(e,n);if(t===co)return nS(e,n)}function oS(n,e,t,r){let i=e[Kr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let d=s[u];if(d<0)a.push(null);else{let p=o[d];a.push(DV(e,p,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function ov(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=oS(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let d=o[a+1],p=e[-u];for(let m=rn;m<p.length;m++){let _=p[m];_[is]===_[Pt]&&ov(_[ge],_,d,r)}if(p[Na]!==null){let m=p[Na];for(let _=0;_<m.length;_++){let I=m[_];ov(I[ge],I,d,r)}}}}}return r}function AV(n,e){return n[Kr].queries[e].queryList}function RV(n,e,t){let r=new jy((t&4)===4);return rL(n,e,r,r.destroy),(e[Kr]??=new tv).queries.push(new ev(r))-1}function xV(n,e,t,r){let i=_n();if(i.firstCreatePass){let o=Yt();NV(i,new nv(e,t,r),o.index),PV(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return RV(i,qe(),t)}function MV(n){return n.split(",").map(e=>e.trim())}function NV(n,e,t){n.queries===null&&(n.queries=new rv),n.queries.track(new iv(e,t))}function PV(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function n_(n,e){return n.queries.getByIndex(e)}function OV(n,e){let t=n[ge],r=n_(t,e);return r.crossesNgTemplate?ov(t,n,e,[]):oS(t,n,r,e)}var SC=new Set;function ei(n){SC.has(n)||(SC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Uu(n,e){ei("NgSignals");let t=b0(n),r=t[Gi];return e?.equal&&(r.equal=e.equal),t.set=i=>Ug(r,i),t.update=i=>C0(r,i),t.asReadonly=kV.bind(t),t}function kV(){let n=this[Gi];if(n.readonlyFn===void 0){let e=()=>this();e[Gi]=n,n.readonlyFn=e}return n.readonlyFn}function FV(n){return Object.getPrototypeOf(n.prototype).constructor}function Pn(n){let e=FV(n.type),t=!0,r=[n];for(;e;){let i;if(ro(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ne(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Lh(n.inputs),s.inputTransforms=Lh(n.inputTransforms),s.declaredInputs=Lh(n.declaredInputs),s.outputs=Lh(n.outputs);let a=i.hostBindings;a&&BV(n,a);let u=i.viewQuery,d=i.contentQueries;if(u&&UV(n,u),d&&jV(n,d),LV(n,i),ek(n.outputs,i.outputs),ro(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Pn&&(t=!1)}}e=Object.getPrototypeOf(e)}VV(r)}function LV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function VV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Du(i.hostAttrs,t=Du(t,i.hostAttrs))}}function Lh(n){return n===Ra?{}:n===pn?[]:n}function UV(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function jV(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function BV(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function r_(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var io=class{},xu=class{};var sv=class extends io{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mf(this);let o=tT(e);this._bootstrapComponents=pD(o.bootstrap),this._r3Injector=zT(e,t,[{provide:io,useValue:this},{provide:Oa,useValue:this.componentFactoryResolver},...r],Wt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},av=class extends xu{constructor(e){super(),this.moduleType=e}create(e){return new sv(this.moduleType,e,[])}};var gf=class extends io{constructor(e){super(),this.componentFactoryResolver=new mf(this),this.instance=null;let t=new Su([...e.providers,{provide:io,useValue:this},{provide:Oa,useValue:this.componentFactoryResolver}],e.parent||Tv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function jf(n,e,t=null){return new gf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function sS(n){return HV(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function $V(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function HV(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function qV(n,e,t){return n[e]=t}function zV(n,e){return n[e]}function Bf(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function ju(n){return(n.flags&32)===32}function GV(n,e,t,r,i,o,s,a,u){let d=e.consts,p=Of(e,n,4,s||null,a||null);FD(e,t,p,tf(d,u)),Pv(e,p);let m=p.tView=Zv(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}function WV(n,e,t,r,i,o,s,a,u,d){let p=t+Qt,m=e.firstCreatePass?GV(p,e,n,r,i,o,s,a,u):e.data[p];Fu(m,!1);let _=aS(e,n,m,t);Nv()&&Kv(e,n,_,m),us(_,n);let I=UD(_,n,_,m);return n[p]=I,kf(n,I),wV(I,m,n),Dv(m)&&ND(e,n,m),u!=null&&PD(n,m,d),m}function fe(n,e,t,r,i,o,s,a){let u=qe(),d=_n(),p=tf(d.consts,o);return WV(u,d,n,e,t,r,i,p,s,a),fe}var aS=cS;function cS(n,e,t,r){return so(!0),e[tt].createComment("")}function KV(n,e,t,r){let i=e[wr],o=!i||ku()||ju(t)||Lu(i,r);if(so(o),o)return cS(n,e,t,r);let s=i.data[uF]?.[r]??null;s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s);let a=Lf(i,n,e,t);xf(i,r,a);let u=Hv(i,r);return Vf(u,a)}function QV(){aS=KV}var Ta=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ta||{}),uS=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new n})}}return n})(),cv=class n{constructor(){this.ngZone=V(De),this.scheduler=V(Pa),this.errorHandler=V(Yr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ta.EarlyRead,Ta.Write,Ta.MixedReadWrite,Ta.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new n})}},uv=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function i_(n,e){!e?.injector&&Yk(i_);let t=e?.injector??V(ft);return Eu(t)?(ei("NgAfterNextRender"),ZV(n,t,e,!0)):JV}function YV(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function ZV(n,e,t,r){let i=e.get(uS);i.impl??=e.get(cv);let o=t?.phase??Ta.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(Fv):null,a=new uv(i.impl,YV(n,o),r,s);return i.impl.register(a),a}var JV={destroy(){}};function ps(n,e,t,r){let i=qe(),o=Av();if(Bf(i,o,e)){let s=_n(),a=NT();_L(a,i,n,e,t,r)}return ps}function XV(n,e,t,r){return Bf(n,Av(),t)?e+Ef(t)+r:fs}function Vh(n,e){return n<<17|e<<2}function hs(n){return n>>17&32767}function e2(n){return(n&2)==2}function t2(n,e){return n&131071|e<<17}function lv(n){return n|2}function La(n){return(n&131068)>>2}function yy(n,e){return n&-131069|e<<2}function n2(n){return(n&1)===1}function dv(n){return n|1}function r2(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=hs(s),u=La(s);n[r]=t;let d=!1,p;if(Array.isArray(t)){let m=t;p=m[1],(p===null||Pu(m,p)>0)&&(d=!0)}else p=t;if(i)if(u!==0){let _=hs(n[a+1]);n[r+1]=Vh(_,a),_!==0&&(n[_+1]=yy(n[_+1],r)),n[a+1]=t2(n[a+1],r)}else n[r+1]=Vh(a,0),a!==0&&(n[a+1]=yy(n[a+1],r)),a=r;else n[r+1]=Vh(u,0),a===0?a=r:n[u+1]=yy(n[u+1],r),u=r;d&&(n[r+1]=lv(n[r+1])),AC(n,p,r,!0),AC(n,p,r,!1),i2(e,p,n,r,o),s=Vh(a,u),o?e.classBindings=s:e.styleBindings=s}function i2(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Pu(o,e)>=0&&(t[r+1]=dv(t[r+1]))}function AC(n,e,t,r){let i=n[t+1],o=e===null,s=r?hs(i):La(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],d=n[s+1];o2(u,e)&&(a=!0,n[s+1]=r?dv(d):lv(d)),s=r?hs(d):La(d)}a&&(n[t+1]=r?lv(i):dv(i))}function o2(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Pu(n,e)>=0:!1}function K(n,e,t){let r=qe(),i=Av();if(Bf(r,i,e)){let o=_n(),s=NT();aL(o,s,r,n,e,r[tt],t,!1)}return K}function RC(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Jv(n,t,o[s],s,r)}function ms(n,e){return s2(n,e,null,!0),ms}function s2(n,e,t,r){let i=qe(),o=_n(),s=_1(2);if(o.firstUpdatePass&&c2(o,n,s,r),e!==fs&&Bf(i,s,e)){let a=o.data[Ua()];f2(o,a,i,i[tt],n,i[s+1]=p2(e,t),r,s)}}function a2(n,e){return e>=n.expandoStartIndex}function c2(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ua()],s=a2(n,t);m2(o,r)&&e===null&&!s&&(e=!1),e=u2(i,o,e,r),r2(i,o,e,t,s,r)}}function u2(n,e,t,r){let i=b1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=vy(null,n,e,t,r),t=Mu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=vy(i,n,e,t,r),o===null){let u=l2(n,e,r);u!==void 0&&Array.isArray(u)&&(u=vy(null,n,e,u[1],r),u=Mu(u,e.attrs,r),d2(n,e,r,u))}else o=h2(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function l2(n,e,t){let r=t?e.classBindings:e.styleBindings;if(La(r)!==0)return n[hs(r)]}function d2(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[hs(i)]=r}function h2(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Mu(r,s,t)}return Mu(r,e.attrs,t)}function vy(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Mu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Mu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Ek(n,s,t?!0:e[++o]))}return n===void 0?null:n}function f2(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,d=u[a+1],p=n2(d)?xC(u,e,t,i,La(d),s):void 0;if(!yf(p)){yf(o)||e2(d)&&(o=xC(u,null,t,i,a,s));let m=gT(Ua(),t);KF(r,s,m,i,o)}}function xC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],d=Array.isArray(u),p=d?u[1]:u,m=p===null,_=t[i+1];_===fs&&(_=m?pn:void 0);let I=m?sy(_,r):p===r?_:void 0;if(d&&!yf(I)&&(I=sy(u,r)),yf(I)&&(a=I,s))return a;let x=n[i+1];i=s?hs(x):La(x)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=sy(u,r))}return a}function yf(n){return n!==void 0}function p2(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Wt(Vu(n)))),n}function m2(n,e){return(n.flags&(e?8:16))!==0}function g2(n,e,t,r,i,o){let s=e.consts,a=tf(s,i),u=Of(e,n,2,r,a);return FD(e,t,u,tf(s,o)),u.attrs!==null&&Jy(u,u.attrs,!1),u.mergedAttrs!==null&&Jy(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function F(n,e,t,r){let i=qe(),o=_n(),s=Qt+n,a=i[tt],u=o.firstCreatePass?g2(s,o,i,e,t,r):o.data[s],d=lS(o,i,u,a,e,n);i[s]=d;let p=Dv(u);return Fu(u,!0),TD(a,d,u),!ju(u)&&Nv()&&Kv(o,i,d,u),c1()===0&&us(d,i),u1(),p&&(ND(o,i,u),MD(o,u,i)),r!==null&&PD(i,u),F}function L(){let n=Yt();CT()?m1():(n=n.parent,Fu(n,!1));let e=n;d1(e)&&f1(),l1();let t=_n();return t.firstCreatePass&&(Pv(t,n),dT(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&R1(e)&&RC(t,e,qe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&x1(e)&&RC(t,e,qe(),e.stylesWithoutHost,!1),L}function Ge(n,e,t,r){return F(n,e,t,r),L(),Ge}var lS=(n,e,t,r,i,o)=>(so(!0),Gv(r,i,PT()));function y2(n,e,t,r,i,o){let s=e[wr],a=!s||ku()||ju(t)||Lu(s,o);if(so(a),a)return Gv(r,i,PT());let u=Lf(s,n,e,t);return cD(s,o)&&xf(s,o,u.nextSibling),s&&(QT(t)||YT(u))&&Ou(t)&&(h1(t),bD(u)),u}function v2(){lS=y2}var _2=(n,e,t,r)=>(so(!0),gD(e[tt],""));function w2(n,e,t,r){let i,o=e[wr],s=!o||ku()||Lu(o,r)||ju(t);if(so(s),s)return gD(e[tt],"");let a=Lf(o,n,e,t),u=_F(o,r);return xf(o,r,a),i=Vf(u,a),i}function I2(){_2=w2}function er(){return qe()}var vf="en-US";var E2=vf;function b2(n){typeof n=="string"&&(E2=n.toLowerCase().replace(/_/g,"-"))}var C2=(n,e,t)=>{};function Fe(n,e,t,r){let i=qe(),o=_n(),s=Yt();return D2(o,i,i[tt],s,n,e,r),Fe}function T2(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Zh],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function D2(n,e,t,r,i,o,s){let a=Dv(r),d=n.firstCreatePass&&$D(n),p=e[Yn],m=BD(e),_=!0;if(r.type&3||s){let k=vn(r,e),N=s?s(k):k,B=m.length,X=s?ee=>s(Zn(ee[r.index])):r.index,G=null;if(!s&&a&&(G=T2(n,e,i,r.index)),G!==null){let ee=G.__ngLastListenerFn__||G;ee.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,_=!1}else{o=NC(r,e,p,o),C2(k,i,o);let ee=t.listen(N,i,o);m.push(o,ee),d&&d.push(i,X,B,B+1)}}else o=NC(r,e,p,o);let I=r.outputs,x;if(_&&I!==null&&(x=I[i])){let k=x.length;if(k)for(let N=0;N<k;N+=2){let B=x[N],X=x[N+1],pe=e[B][X].subscribe(o),ie=m.length;m.push(o,pe),d&&d.push(i,r.index,ie,-(ie+1))}}}function MC(n,e,t,r){let i=Oe(null);try{return yr(6,e,t),t(r)!==!1}catch(o){return HD(n,o),!1}finally{yr(7,e,t),Oe(i)}}function NC(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?oo(n.index,e):e;e_(s,5);let a=MC(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=MC(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Me(n=1){return T1(n)}function dS(n,e,t,r){xV(n,e,t,r)}function hS(n){let e=qe(),t=_n(),r=DT();Rv(r+1);let i=n_(t,r);if(n.dirty&&i1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=OV(e,r);n.reset(o,Z1),n.notifyOnChanges()}return!0}return!1}function fS(){return AV(qe(),DT())}function pS(n){let e=g1();return r1(e,Qt+n)}function j(n,e=""){let t=qe(),r=_n(),i=n+Qt,o=r.firstCreatePass?Of(r,i,1,e,null):r.data[i],s=mS(r,t,o,e,n);t[i]=s,Nv()&&Kv(r,t,s,o),Fu(o,!1)}var mS=(n,e,t,r,i)=>(so(!0),mD(e[tt],r));function S2(n,e,t,r,i){let o=e[wr],s=!o||ku()||ju(t)||Lu(o,i);return so(s),s?mD(e[tt],r):Lf(o,n,e,t)}function A2(){mS=S2}function On(n){return $f("",n,""),On}function $f(n,e,t){let r=qe(),i=XV(r,n,e,t);return i!==fs&&bL(r,Ua(),i),$f}function R2(n,e,t){let r=_n();if(r.firstCreatePass){let i=ro(n);hv(t,r.data,r.blueprint,i,!0),hv(e,r.data,r.blueprint,i,!1)}}function hv(n,e,t,r,i){if(n=Gt(n),Array.isArray(n))for(let o=0;o<n.length;o++)hv(n[o],e,t,r,i);else{let o=_n(),s=qe(),a=Yt(),u=xa(n)?n:Gt(n.provide),d=aT(n),p=a.providerIndexes&1048575,m=a.directiveStart,_=a.providerIndexes>>20;if(xa(n)||!n.multi){let I=new as(d,i,Y),x=wy(u,e,i?p:p+_,m);x===-1?(Oy(of(a,s),o,u),_y(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(I),s.push(I)):(t[x]=I,s[x]=I)}else{let I=wy(u,e,p+_,m),x=wy(u,e,p,p+_),k=I>=0&&t[I],N=x>=0&&t[x];if(i&&!N||!i&&!k){Oy(of(a,s),o,u);let B=N2(i?M2:x2,t.length,i,r,d);!i&&N&&(t[x].providerFactory=B),_y(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(B),s.push(B)}else{let B=gS(t[i?x:I],d,!i&&r);_y(o,n,I>-1?I:x,B)}!i&&r&&N&&t[x].componentProviders++}}}function _y(n,e,t,r){let i=xa(e),o=Hk(e);if(i||o){let u=(o?Gt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(t);p===-1?d.push(t,[r,u]):d[p+1].push(r,u)}else d.push(t,u)}}}function gS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function wy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function x2(n,e,t,r){return fv(this.multi,[])}function M2(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=cs(t,t[ge],this.providerFactory.index,r);o=a.slice(0,s),fv(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],fv(i,o);return o}function fv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function N2(n,e,t,r,i){let o=new as(n,t,Y);return o.multi=[],o.index=e,o.componentProviders=0,gS(o,i,r&&!t),o}function ti(n,e=[]){return t=>{t.providersResolver=(r,i)=>R2(r,i?i(n):n,e)}}var P2=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=iT(!1,t.type),i=r.length>0?jf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=J({token:n,providedIn:"environment",factory:()=>new n(Z(Kt))})}}return n})();function on(n){ei("NgStandalone"),n.getStandaloneInjector=e=>e.get(P2).getOrCreateStandaloneInjector(n)}function Hf(n,e,t){let r=y1()+n,i=qe();return i[r]===fs?qV(i,r,t?e.call(t):e()):zV(i,r)}function yS(n,e){return Ff(n,e)}var Jr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},vS=new Jr("18.2.10");var qf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var _S=new W("");function gs(n){return!!n&&typeof n.then=="function"}function wS(n){return!!n&&typeof n.subscribe=="function"}var zf=new W(""),IS=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=V(zf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(gs(o))t.push(o);else if(wS(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ys=new W("");function O2(){E0(()=>{throw new ne(600,!1)})}function k2(n){return n.isBoundToModule}var F2=10;function L2(n,e,t){try{let r=t();return gs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Tr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(Q1),this.afterRenderManager=V(uS),this.zonelessEnabled=V(Uf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new It,this.afterTick=new It,this.componentTypes=[],this.components=[],this.isStable=V(ao).hasPendingTasks.pipe(me(t=>!t)),this._injector=V(Kt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof pf;if(!this._injector.get(IS).done){let _=!i&&eT(t),I=!1;throw new ne(405,I)}let s;i?s=t:s=this._injector.get(Oa).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=k2(s)?void 0:this._injector.get(io),u=r||s.selector,d=s.create(ft.NULL,[],u,a),p=d.location.nativeElement,m=d.injector.get(_S,null);return m?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),zh(this.components,d),m?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ne(101,!1);let t=Oe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Oe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ka,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<F2;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)V2(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Df(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;zh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(ys,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>zh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ne(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Uh;function Gf(n){Uh??=new WeakMap;let e=Uh.get(n);if(e)return e;let t=n.isStable.pipe(Gn(r=>r)).toPromise().then(()=>{});return Uh.set(n,t),n.onDestroy(()=>Uh?.delete(n)),t}function V2(n,e,t,r){if(!t&&!Df(n))return;GD(n,e,t&&!r?0:1)}var pv=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Wf=(()=>{class n{compileModuleSync(t){return new av(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=tT(t),o=pD(i.declarations).reduce((s,a)=>{let u=no(a);return u&&s.push(new Fa(u)),s},[]);return new pv(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var U2=(()=>{class n{constructor(){this.zone=V(De),this.changeDetectionScheduler=V(Pa),this.applicationRef=V(Tr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),j2=new W("",{factory:()=>!1});function ES({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new De(we(H({},CS()),{scheduleInRootZone:t})),[{provide:De,useFactory:n},{provide:rs,multi:!0,useFactory:()=>{let r=V(U2,{optional:!0});return()=>r.initialize()}},{provide:rs,multi:!0,useFactory:()=>{let r=V(B2);return()=>{r.initialize()}}},e===!0?{provide:XD,useValue:!0}:[],{provide:eS,useValue:t??GT}]}function bS(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=ES({ngZoneFactory:()=>{let i=CS(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&ei("NgZone_CoalesceEvent"),new De(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Ut([{provide:j2,useValue:!0},{provide:Uf,useValue:!1},r])}function CS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var B2=(()=>{class n{constructor(){this.subscription=new et,this.initialized=!1,this.zone=V(De),this.pendingTasks=V(ao)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var $2=(()=>{class n{constructor(){this.appRef=V(Tr),this.taskService=V(ao),this.ngZone=V(De),this.zonelessEnabled=V(Uf),this.disableScheduling=V(XD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new et,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(af):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(eS,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Uy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?pC:WT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(af+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,pC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function H2(){return typeof $localize<"u"&&$localize.locale||vf}var o_=new W("",{providedIn:"root",factory:()=>V(o_,Ee.Optional|Ee.SkipSelf)||H2()});var mv=new W("");function jh(n){return!n.moduleRef}function q2(n){let e=jh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(De);return t.run(()=>{jh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Yr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),jh(n)){let o=()=>e.destroy(),s=n.platformInjector.get(mv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(mv);s.add(o),n.moduleRef.onDestroy(()=>{zh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return L2(r,t,()=>{let o=e.get(IS);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(o_,vf);if(b2(s||vf),jh(n)){let a=e.get(Tr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return z2(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function z2(n,e){let t=n.injector.get(Tr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ne(-403,!1);e.push(n)}var Gh=null;function G2(n=[],e){return ft.create({name:e,providers:[{provide:Cf,useValue:"platform"},{provide:mv,useValue:new Set([()=>Gh=null])},...n]})}function W2(n=[]){if(Gh)return Gh;let e=G2(n);return Gh=e,O2(),K2(e),e}function K2(n){n.get(Uv,null)?.forEach(t=>t())}var vs=(()=>{class n{static{this.__NG_ELEMENT_ID__=Q2}}return n})();function Q2(n){return Y2(Yt(),qe(),(n&16)===16)}function Y2(n,e,t){if(Ou(n)&&!t){let r=oo(n.index,e);return new ls(r,r)}else if(n.type&175){let r=e[Mn];return new ls(r,e)}return null}var gv=class{constructor(){}supports(e){return sS(e)}create(e){return new yv(e)}},Z2=(n,e)=>e,yv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Z2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<PC(r,i,o)?t:r,a=PC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=u-i;if(d!=p){for(let _=0;_<d;_++){let I=_<o.length?o[_]:o[_]=0,x=I+_;p<=x&&x<d&&(o[_]=I+1)}let m=s.previousIndex;o[m]=p-d}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!sS(e))throw new ne(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,$V(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new vv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new _f),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new _f),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},vv=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},_v=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},_f=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new _v,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function PC(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function OC(){return new s_([new gv])}var s_=(()=>{class n{static{this.\u0275prov=J({token:n,providedIn:"root",factory:OC})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||OC()),deps:[[n,new Iv,new st]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new ne(901,!1)}}return n})();function TS(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=W2(r),o=[ES({}),{provide:Pa,useExisting:$2},...t||[]],s=new gf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return q2({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var kC=!1;function J2(){kC||(kC=!0,mF(),v2(),A2(),I2(),QV(),bV(),iV(),nL())}function X2(n,e){return Gf(n)}function DS(){return Ut([{provide:kh,useFactory:()=>{let n=!0;return Eu()&&(n=!!V(Ba,{optional:!0})?.get(sD,null)),n&&ei("NgHydration"),n}},{provide:rs,useValue:()=>{ZL(!1),Eu()&&V(kh)&&(eU(),J2())},multi:!0},{provide:lD,useFactory:()=>Eu()&&V(kh)},{provide:ys,useFactory:()=>{if(Eu()&&V(kh)){let n=V(Tr),e=V(ft);return()=>{X2(n,e).then(()=>{tV(n)})}}return()=>{}},multi:!0}])}function eU(){let n=Af(),e;for(let t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===fF){e=t;break}if(!e)throw new ne(-507,!1)}function _s(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Bu(n,e){ei("NgSignals");let t=_0(n);return e?.equal&&(t[Gi].equal=e.equal),t}function ni(n){let e=Oe(null);try{return n()}finally{Oe(e)}}function SS(n){let e=no(n);if(!e)return null;let t=new Fa(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var NS=null;function ii(){return NS}function PS(n){NS??=n}var Kf=class{};var $t=new W(""),d_=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>V(tU),providedIn:"platform"})}}return n})(),OS=new W(""),tU=(()=>{class n extends d_{constructor(){super(),this._doc=V($t),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ii().getBaseHref(this._doc)}onPopState(t){let r=ii().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ii().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function h_(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function AS(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function ri(n){return n&&n[0]!=="?"?"?"+n:n}var oi=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>V(f_),providedIn:"root"})}}return n})(),kS=new W(""),f_=(()=>{class n extends oi{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V($t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return h_(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ri(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ri(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ri(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(d_),Z(kS,8))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FS=(()=>{class n extends oi{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=h_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ri(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ri(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(d_),Z(kS,8))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),Ha=(()=>{class n{constructor(t){this._subject=new Be,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=iU(AS(RS(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ri(r))}normalize(t){return n.stripTrailingSlash(rU(this._basePath,RS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ri(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ri(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=ri}static{this.joinWithSlash=h_}static{this.stripTrailingSlash=AS}static{this.\u0275fac=function(r){return new(r||n)(Z(oi))}}static{this.\u0275prov=J({token:n,factory:()=>nU(),providedIn:"root"})}}return n})();function nU(){return new Ha(Z(oi))}function rU(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function RS(n){return n.replace(/\/index.html$/,"")}function iU(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Qf(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var a_=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qa=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new a_(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),xS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);xS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Y(co),Y(ds),Y(s_))}}static{this.\u0275dir=Qe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function xS(n,e){n.context.$implicit=e.item}var uo=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new c_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){MS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){MS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Y(co),Y(ds))}}static{this.\u0275dir=Qe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),c_=class{constructor(){this.$implicit=null,this.ngIf=null}};function MS(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Wt(e)}'.`)}var tr=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=yn({type:n})}static{this.\u0275inj=gn({})}}return n})(),p_="browser",oU="server";function m_(n){return n===p_}function $u(n){return n===oU}var LS=(()=>{class n{static{this.\u0275prov=J({token:n,providedIn:"root",factory:()=>m_(V(Bt))?new u_(V($t),window):new l_})}}return n})(),u_=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=sU(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function sU(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var l_=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},$a=class{};var qu=class{},Jf=class{},Dr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var y_=class{encodeKey(e){return VS(e)}encodeValue(e){return VS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function aU(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var cU=/%(\d[a-f0-9])/gi,uU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function VS(n){return encodeURIComponent(n).replace(cU,(e,t)=>uU[t]??e)}function Yf(n){return`${n}`}var ho=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new y_,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=aU(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Yf):[Yf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Yf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Yf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var v_=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function lU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function US(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function jS(n){return typeof Blob<"u"&&n instanceof Blob}function BS(n){return typeof FormData<"u"&&n instanceof FormData}function dU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Hu=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(lU(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Dr,this.context??=new v_,!this.params)this.params=new ho,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||US(this.body)||jS(this.body)||BS(this.body)||dU(this.body)?this.body:this.body instanceof ho?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||BS(this.body)?null:jS(this.body)?this.body.type||null:US(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ho?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,p=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((_,I)=>_.set(I,e.setHeaders[I]),d)),e.setParams&&(p=Object.keys(e.setParams).reduce((_,I)=>_.set(I,e.setParams[I]),p)),new n(t,r,s,{params:p,headers:d,context:m,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},fo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(fo||{}),zu=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Dr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Xf=class n extends zu{constructor(e={}){super(e),this.type=fo.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ws=class n extends zu{constructor(e={}){super(e),this.type=fo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},lo=class extends zu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},JS=200,hU=204;function g_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var fU=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Hu)o=t;else{let u;i.headers instanceof Dr?u=i.headers:u=new Dr(i.headers);let d;i.params&&(i.params instanceof ho?d=i.params:d=new ho({fromObject:i.params})),o=new Hu(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=oe(o).pipe(Gr(u=>this.handler.handle(u)));if(t instanceof Hu||i.observe==="events")return s;let a=s.pipe(Lt(u=>u instanceof ws));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(me(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(me(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(me(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(me(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ho().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,g_(i,r))}post(t,r,i={}){return this.request("POST",t,g_(i,r))}put(t,r,i={}){return this.request("PUT",t,g_(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Z(qu))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),pU=/^\)\]\}',?\n/,mU="X-Request-URL";function $S(n){if(n.url)return n.url;let e=mU.toLocaleLowerCase();return n.headers.get(e)}var gU=(()=>{class n{constructor(){this.fetchImpl=V(__,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=V(De)}handle(t){return new be(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(w_,o=>r.error(new lo({error:o}))),()=>i.abort()})}doRequest(t,r,i){return C(this,null,function*(){let o=this.createRequestInit(t),s;try{let I=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,H({signal:r},o)));yU(I),i.next({type:fo.Sent}),s=yield I}catch(I){i.error(new lo({error:I,status:I.status??0,statusText:I.statusText,url:t.urlWithParams,headers:I.headers}));return}let a=new Dr(s.headers),u=s.statusText,d=$S(s)??t.urlWithParams,p=s.status,m=null;if(t.reportProgress&&i.next(new Xf({headers:a,status:p,statusText:u,url:d})),s.body){let I=s.headers.get("content-length"),x=[],k=s.body.getReader(),N=0,B,X,G=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>C(this,null,function*(){for(;;){let{done:pe,value:ie}=yield k.read();if(pe)break;if(x.push(ie),N+=ie.length,t.reportProgress){X=t.responseType==="text"?(X??"")+(B??=new TextDecoder).decode(ie,{stream:!0}):void 0;let D=()=>i.next({type:fo.DownloadProgress,total:I?+I:void 0,loaded:N,partialText:X});G?G.run(D):D()}}}));let ee=this.concatChunks(x,N);try{let pe=s.headers.get("Content-Type")??"";m=this.parseBody(t,ee,pe)}catch(pe){i.error(new lo({error:pe,headers:new Dr(s.headers),status:s.status,statusText:s.statusText,url:$S(s)??t.urlWithParams}));return}}p===0&&(p=m?JS:0),p>=200&&p<300?(i.next(new ws({body:m,headers:a,status:p,statusText:u,url:d})),i.complete()):i.error(new lo({error:m,headers:a,status:p,statusText:u,url:d}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(pU,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),__=class{};function w_(){}function yU(n){n.then(w_,w_)}function vU(n,e){return e(n)}function _U(n,e,t){return(r,i)=>Nn(t,()=>e(r,o=>n(o,i)))}var XS=new W(""),eA=new W(""),wU=new W("",{providedIn:"root",factory:()=>!0});var HS=(()=>{class n extends qu{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=V(ao),this.contributeToStability=V(wU)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(XS),...this.injector.get(eA,[])]));this.chain=r.reduceRight((i,o)=>_U(i,o,this.injector),vU)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ts(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(Z(Jf),Z(Kt))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})();var IU=/^\)\]\}',?\n/;function EU(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var qS=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new ne(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ze(r.\u0275loadImpl()):oe(null)).pipe(nn(()=>new be(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((k,N)=>s.setRequestHeader(k,N.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let k=t.detectContentTypeHeader();k!==null&&s.setRequestHeader("Content-Type",k)}if(t.responseType){let k=t.responseType.toLowerCase();s.responseType=k!=="json"?k:"text"}let a=t.serializeBody(),u=null,d=()=>{if(u!==null)return u;let k=s.statusText||"OK",N=new Dr(s.getAllResponseHeaders()),B=EU(s)||t.url;return u=new Xf({headers:N,status:s.status,statusText:k,url:B}),u},p=()=>{let{headers:k,status:N,statusText:B,url:X}=d(),G=null;N!==hU&&(G=typeof s.response>"u"?s.responseText:s.response),N===0&&(N=G?JS:0);let ee=N>=200&&N<300;if(t.responseType==="json"&&typeof G=="string"){let pe=G;G=G.replace(IU,"");try{G=G!==""?JSON.parse(G):null}catch(ie){G=pe,ee&&(ee=!1,G={error:ie,text:G})}}ee?(o.next(new ws({body:G,headers:k,status:N,statusText:B,url:X||void 0})),o.complete()):o.error(new lo({error:G,headers:k,status:N,statusText:B,url:X||void 0}))},m=k=>{let{url:N}=d(),B=new lo({error:k,status:s.status||0,statusText:s.statusText||"Unknown Error",url:N||void 0});o.error(B)},_=!1,I=k=>{_||(o.next(d()),_=!0);let N={type:fo.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(N.total=k.total),t.responseType==="text"&&s.responseText&&(N.partialText=s.responseText),o.next(N)},x=k=>{let N={type:fo.UploadProgress,loaded:k.loaded};k.lengthComputable&&(N.total=k.total),o.next(N)};return s.addEventListener("load",p),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",I),a!==null&&s.upload&&s.upload.addEventListener("progress",x)),s.send(a),o.next({type:fo.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",p),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",I),a!==null&&s.upload&&s.upload.removeEventListener("progress",x)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Z($a))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),tA=new W(""),bU="XSRF-TOKEN",CU=new W("",{providedIn:"root",factory:()=>bU}),TU="X-XSRF-TOKEN",DU=new W("",{providedIn:"root",factory:()=>TU}),ep=class{},SU=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Qf(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Z($t),Z(Bt),Z(CU))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})();function AU(n,e){let t=n.url.toLowerCase();if(!V(tA)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=V(ep).getToken(),i=V(DU);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function nA(...n){let e=[fU,qS,HS,{provide:qu,useExisting:HS},{provide:Jf,useFactory:()=>V(gU,{optional:!0})??V(qS)},{provide:XS,useValue:AU,multi:!0},{provide:tA,useValue:!0},{provide:ep,useClass:SU}];for(let t of n)e.push(...t.\u0275providers);return Ut(e)}var RU=new W(""),zS="b",GS="h",WS="s",KS="st",QS="u",YS="rt",Zf=new W(""),xU=["GET","HEAD"];function MU(n,e){let I=V(Zf),{isCacheActive:t}=I,r=nh(I,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!xU.includes(o)||!r.includeRequestsWithAuthHeaders&&NU(n)||r.filter?.(n)===!1)return e(n);let s=V(Ba),a=V(RU,{optional:!0}),u=$u(V(Bt));if(a&&!u)throw new ne(2803,!1);let d=u&&a?FU(n.url,a):n.url,p=OU(n,d),m=s.get(p,null),_=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(_=i.includeHeaders),m){let{[zS]:x,[YS]:k,[GS]:N,[WS]:B,[KS]:X,[QS]:G}=m,ee=x;switch(k){case"arraybuffer":ee=new TextEncoder().encode(x).buffer;break;case"blob":ee=new Blob([x]);break}let pe=new Dr(N);return oe(new ws({body:ee,headers:pe,status:B,statusText:X,url:G}))}return e(n).pipe(ot(x=>{x instanceof ws&&u&&s.set(p,{[zS]:x.body,[GS]:PU(x.headers,_),[WS]:x.status,[KS]:x.statusText,[QS]:d,[YS]:n.responseType})}))}function NU(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function PU(n,e){if(!e)return{};let t={};for(let r of e){let i=n.getAll(r);i!==null&&(t[r]=i)}return t}function ZS(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function OU(n,e){let{params:t,method:r,responseType:i}=n,o=ZS(t),s=n.serializeBody();s instanceof URLSearchParams?s=ZS(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=kU(a);return u}function kU(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function rA(n){return[{provide:Zf,useFactory:()=>(ei("NgHttpTransferCache"),H({isCacheActive:!0},n))},{provide:eA,useValue:MU,multi:!0,deps:[Ba,Zf]},{provide:ys,multi:!0,useFactory:()=>{let e=V(Tr),t=V(Zf);return()=>{Gf(e).then(()=>{t.isCacheActive=!1})}}}]}function FU(n,e){let t=new URL(n,"resolve://").origin,r=e[t];return r?n.replace(t,r):n}var b_=class extends Kf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},C_=class n extends b_{static makeCurrent(){PS(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=LU();return t==null?null:VU(t)}resetBaseElement(){Gu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Qf(document.cookie,e)}},Gu=null;function LU(){return Gu=Gu||document.querySelector("base"),Gu?Gu.getAttribute("href"):null}function VU(n){return new URL(n,document.baseURI).pathname}var UU=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),T_=new W(""),aA=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new ne(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Z(T_),Z(De))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),tp=class{constructor(e){this._doc=e}},I_="ng-app-id",cA=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$u(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${I_}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(I_),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(I_,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Z($t),Z(Rf),Z(jv,8),Z(Bt))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),E_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},A_=/%COMP%/g,uA="%COMP%",jU=`_nghost-${uA}`,BU=`_ngcontent-${uA}`,$U=!0,HU=new W("",{providedIn:"root",factory:()=>$U});function qU(n){return BU.replace(A_,n)}function zU(n){return jU.replace(A_,n)}function lA(n,e){return e.map(t=>t.replace(A_,n))}var iA=(()=>{class n{constructor(t,r,i,o,s,a,u,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=$u(a),this.defaultRenderer=new Wu(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_r.ShadowDom&&(r=we(H({},r),{encapsulation:_r.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof np?i.applyToHost(t):i instanceof Ku&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case _r.Emulated:o=new np(u,d,r,this.appId,p,s,a,m);break;case _r.ShadowDom:return new D_(u,d,t,r,s,a,this.nonce,m);default:o=new Ku(u,d,r,p,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Z(aA),Z(cA),Z(Rf),Z(HU),Z($t),Z(Bt),Z(De),Z(jv))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),Wu=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(E_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(oA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(oA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ne(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=E_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=E_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Zr.DashCase|Zr.Important)?e.style.setProperty(t,r,i&Zr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Zr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=ii().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function oA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var D_=class extends Wu{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=lA(i.id,i.styles);for(let p of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ku=class extends Wu{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?lA(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},np=class extends Ku{constructor(e,t,r,i,o,s,a,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,u,d),this.contentAttr=qU(d),this.hostAttr=zU(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},GU=(()=>{class n extends tp{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Z($t))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),sA=["alt","control","meta","shift"],WU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},QU=(()=>{class n extends tp{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ii().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),sA.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=WU[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),sA.forEach(s=>{if(s!==i){let a=KU[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Z($t))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})();function dA(n,e){return TS(H({rootComponent:n},YU(e)))}function YU(n){return{appProviders:[...tj,...n?.providers??[]],platformProviders:ej}}function ZU(){C_.makeCurrent()}function JU(){return new Yr}function XU(){return tD(document),document}var ej=[{provide:Bt,useValue:p_},{provide:Uv,useValue:ZU,multi:!0},{provide:$t,useFactory:XU,deps:[]}];var tj=[{provide:Cf,useValue:"root"},{provide:Yr,useFactory:JU,deps:[]},{provide:T_,useClass:GU,multi:!0,deps:[$t,De,Bt]},{provide:T_,useClass:QU,multi:!0,deps:[$t]},iA,cA,aA,{provide:ka,useExisting:iA},{provide:$a,useClass:UU,deps:[]},[]];var hA=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Z($t))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var S_=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(S_||{});function fA(...n){let e=[],t=new Set,r=t.has(S_.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);return Ut([[],DS(),t.has(S_.NoHttpTransferCache)||r?[]:rA({}),e])}var ve="primary",ul=Symbol("RouteTitle"),P_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Za(n){return new P_(n)}function rj(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ij(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Sr(n[t],e[t]))return!1;return!0}function Sr(n,e){let t=n?O_(n):void 0,r=e?O_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!CA(n[i],e[i]))return!1;return!0}function O_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function CA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function TA(n){return n.length>0?n[n.length-1]:null}function yo(n){return Xg(n)?n:gs(n)?ze(Promise.resolve(n)):oe(n)}var oj={exact:SA,subset:AA},DA={exact:sj,subset:aj,ignored:()=>!0};function pA(n,e,t){return oj[t.paths](n.root,e.root,t.matrixParams)&&DA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function sj(n,e){return Sr(n,e)}function SA(n,e,t){if(!Es(n.segments,e.segments)||!op(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!SA(n.children[r],e.children[r],t))return!1;return!0}function aj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>CA(n[t],e[t]))}function AA(n,e,t){return RA(n,e,e.segments,t)}function RA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Es(i,t)||e.hasChildren()||!op(i,t,r))}else if(n.segments.length===t.length){if(!Es(n.segments,t)||!op(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!AA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Es(n.segments,i)||!op(n.segments,i,r)||!n.children[ve]?!1:RA(n.children[ve],e,o,r)}}function op(n,e,t){return e.every((r,i)=>DA[t](n[i].parameters,r.parameters))}var ai=class{constructor(e=new Ue([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Za(this.queryParams),this._queryParamMap}toString(){return lj.serialize(this)}},Ue=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sp(this)}},Is=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Za(this.parameters),this._parameterMap}toString(){return MA(this)}};function cj(n,e){return Es(n,e)&&n.every((t,r)=>Sr(t.parameters,e[r].parameters))}function Es(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function uj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ve&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ve&&(t=t.concat(e(i,r)))}),t}var ll=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>new Ja,providedIn:"root"})}}return n})(),Ja=class{parse(e){let t=new F_(e);return new ai(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Qu(e.root,!0)}`,r=fj(e.queryParams),i=typeof e.fragment=="string"?`#${dj(e.fragment)}`:"";return`${t}${r}${i}`}},lj=new Ja;function sp(n){return n.segments.map(e=>MA(e)).join("/")}function Qu(n,e){if(!n.hasChildren())return sp(n);if(e){let t=n.children[ve]?Qu(n.children[ve],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ve&&r.push(`${i}:${Qu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=uj(n,(r,i)=>i===ve?[Qu(n.children[ve],!1)]:[`${i}:${Qu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ve]!=null?`${sp(n)}/${t[0]}`:`${sp(n)}/(${t.join("//")})`}}function xA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rp(n){return xA(n).replace(/%3B/gi,";")}function dj(n){return encodeURI(n)}function k_(n){return xA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ap(n){return decodeURIComponent(n)}function mA(n){return ap(n.replace(/\+/g,"%20"))}function MA(n){return`${k_(n.path)}${hj(n.parameters)}`}function hj(n){return Object.entries(n).map(([e,t])=>`;${k_(e)}=${k_(t)}`).join("")}function fj(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${rp(t)}=${rp(i)}`).join("&"):`${rp(t)}=${rp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var pj=/^[^\/()?;#]+/;function R_(n){let e=n.match(pj);return e?e[0]:""}var mj=/^[^\/()?;=#]+/;function gj(n){let e=n.match(mj);return e?e[0]:""}var yj=/^[^=?&#]+/;function vj(n){let e=n.match(yj);return e?e[0]:""}var _j=/^[^&#]+/;function wj(n){let e=n.match(_j);return e?e[0]:""}var F_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ve]=new Ue(e,t)),r}parseSegment(){let e=R_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ne(4009,!1);return this.capture(e),new Is(ap(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=gj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=R_(this.remaining);i&&(r=i,this.capture(r))}e[ap(t)]=ap(r)}parseQueryParam(e){let t=vj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=wj(this.remaining);s&&(r=s,this.capture(r))}let i=mA(t),o=mA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=R_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ne(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ve);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ve]:new Ue([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ne(4011,!1)}};function NA(n){return n.segments.length>0?new Ue([],{[ve]:n}):n}function PA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=PA(i);if(r===ve&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ue(n.segments,e);return Ij(t)}function Ij(n){if(n.numberOfChildren===1&&n.children[ve]){let e=n.children[ve];return new Ue(n.segments.concat(e.segments),e.children)}return n}function bs(n){return n instanceof ai}function Ej(n,e,t=null,r=null){let i=OA(n);return kA(i,e,t,r)}function OA(n){let e;function t(o){let s={};for(let u of o.children){let d=t(u);s[u.outlet]=d}let a=new Ue(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=NA(r);return e??i}function kA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return x_(i,i,i,t,r);let o=bj(e);if(o.toRoot())return x_(i,i,new Ue([],{}),t,r);let s=Cj(o,i,n),a=s.processChildren?Ju(s.segmentGroup,s.index,o.commands):LA(s.segmentGroup,s.index,o.commands);return x_(i,s.segmentGroup,a,t,r)}function cp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function tl(n){return typeof n=="object"&&n!=null&&n.outlets}function x_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;n===e?s=t:s=FA(n,e,t);let a=NA(PA(s));return new ai(a,o,i)}function FA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=FA(o,e,t)}),new Ue(n.segments,r)}var up=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&cp(r[0]))throw new ne(4003,!1);let i=r.find(tl);if(i&&i!==TA(r))throw new ne(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new up(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new up(t,e,r)}var Ka=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Cj(n,e,t){if(n.isAbsolute)return new Ka(e,!0,0);if(!t)return new Ka(e,!1,NaN);if(t.parent===null)return new Ka(t,!0,0);let r=cp(n.commands[0])?0:1,i=t.segments.length-1+r;return Tj(t,i,n.numberOfDoubleDots)}function Tj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ne(4005,!1);i=r.segments.length}return new Ka(r,!1,i-o)}function Dj(n){return tl(n[0])?n[0].outlets:{[ve]:n}}function LA(n,e,t){if(n??=new Ue([],{}),n.segments.length===0&&n.hasChildren())return Ju(n,e,t);let r=Sj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ue(n.segments.slice(0,r.pathIndex),{});return o.children[ve]=new Ue(n.segments.slice(r.pathIndex),n.children),Ju(o,0,i)}else return r.match&&i.length===0?new Ue(n.segments,{}):r.match&&!n.hasChildren()?L_(n,e,t):r.match?Ju(n,0,i):L_(n,e,t)}function Ju(n,e,t){if(t.length===0)return new Ue(n.segments,{});{let r=Dj(t),i={};if(Object.keys(r).some(o=>o!==ve)&&n.children[ve]&&n.numberOfChildren===1&&n.children[ve].segments.length===0){let o=Ju(n.children[ve],e,t);return new Ue(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=LA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ue(n.segments,i)}}function Sj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(tl(a))break;let u=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!yA(u,d,s))return o;r+=2}else{if(!yA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function L_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(tl(o)){let u=Aj(o.outlets);return new Ue(r,u)}if(i===0&&cp(t[0])){let u=n.segments[e];r.push(new Is(u.path,gA(t[0]))),i++;continue}let s=tl(o)?o.outlets[ve]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&cp(a)?(r.push(new Is(s,gA(a))),i+=2):(r.push(new Is(s,{})),i++)}return new Ue(r,{})}function Aj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=L_(new Ue([],{}),0,r))}),e}function gA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function yA(n,e,t){return n==t.path&&Sr(e,t.parameters)}var Xu="imperative",At=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(At||{}),kn=class{constructor(e,t){this.id=e,this.url=t}},Xa=class extends kn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=At.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rr=class extends kn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=At.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(bn||{}),lp=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(lp||{}),si=class extends kn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=At.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},po=class extends kn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=At.NavigationSkipped}},nl=class extends kn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=At.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},dp=class extends kn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=At.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},V_=class extends kn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=At.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},U_=class extends kn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=At.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},j_=class extends kn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=At.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},B_=class extends kn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=At.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$_=class{constructor(e){this.route=e,this.type=At.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},H_=class{constructor(e){this.route=e,this.type=At.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},q_=class{constructor(e){this.snapshot=e,this.type=At.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},z_=class{constructor(e){this.snapshot=e,this.type=At.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},G_=class{constructor(e){this.snapshot=e,this.type=At.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},W_=class{constructor(e){this.snapshot=e,this.type=At.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hp=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=At.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},rl=class{},ec=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Rj(n,e){return n.providers&&!n._injector&&(n._injector=jf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function nr(n){return n.outlet||ve}function xj(n,e){let t=n.filter(r=>nr(r)===e);return t.push(...n.filter(r=>nr(r)!==e)),t}function dl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var K_=class{get injector(){return dl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new hl(this.rootInjector),this.attachRef=null}},hl=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new K_(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(Z(Kt))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Q_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Q_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Y_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Y_(e,this._root).map(t=>t.value)}};function Q_(n,e){if(n===e.value)return e;for(let t of e.children){let r=Q_(n,t);if(r)return r}return null}function Y_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Y_(n,t);if(r.length)return r.unshift(e),r}return[]}var En=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Wa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var pp=class extends fp{constructor(e,t){super(e),this.snapshot=t,ow(this,e)}toString(){return this.snapshot.toString()}};function VA(n){let e=Mj(n),t=new Et([new Is("",{})]),r=new Et({}),i=new Et({}),o=new Et({}),s=new Et(""),a=new mo(t,r,o,s,i,ve,n,e.root);return a.snapshot=e.root,new pp(new En(a,[]),e)}function Mj(n){let e={},t={},r={},i="",o=new Qa([],e,r,i,t,ve,n,null,{});return new gp("",new En(o,[]))}var mo=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(me(d=>d[ul]))??oe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(me(e=>Za(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(me(e=>Za(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:H(H({},e.params),n.params),data:H(H({},e.data),n.data),resolve:H(H(H(H({},n.data),e.data),i?.data),n._resolvedData)}:r={params:H({},n.params),data:H({},n.data),resolve:H(H({},n.data),n._resolvedData??{})},i&&jA(i)&&(r.resolve[ul]=i.title),r}var Qa=class{get title(){return this.data?.[ul]}constructor(e,t,r,i,o,s,a,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Za(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Za(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},gp=class extends fp{constructor(e,t){super(t),this.url=e,ow(this,t)}toString(){return UA(this._root)}};function ow(n,e){e.value._routerState=n,e.children.forEach(t=>ow(n,t))}function UA(n){let e=n.children.length>0?` { ${n.children.map(UA).join(", ")} } `:"";return`${n.value}${e}`}function M_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Sr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Sr(e.params,t.params)||n.paramsSubject.next(t.params),ij(e.url,t.url)||n.urlSubject.next(t.url),Sr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Z_(n,e){let t=Sr(n.params,e.params)&&cj(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Z_(n.parent,e.parent))}function jA(n){return typeof n.title=="string"||n.title===null}var sw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new Be,this.deactivateEvents=new Be,this.attachEvents=new Be,this.detachEvents=new Be,this.parentContexts=V(hl),this.location=V(co),this.changeDetector=V(vs),this.inputBinder=V(wp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ne(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ne(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new J_(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Qe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[br]})}}return n})(),J_=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===mo?this.route:e===hl?this.childContexts:this.parent.get(e,t)}},wp=new W(""),vA=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Iu([r.queryParams,r.params,r.data]).pipe(nn(([o,s,a],u)=>(a=H(H(H({},o),s),a),u===0?oe(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=SS(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})();function Nj(n,e,t){let r=il(n,e._root,t?t._root:void 0);return new pp(r,e)}function il(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Pj(n,e,t);return new En(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>il(n,a)),s}}let r=Oj(e.value),i=e.children.map(o=>il(n,o));return new En(r,i)}}function Pj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return il(n,r,i);return il(n,r)})}function Oj(n){return new mo(new Et(n.url),new Et(n.params),new Et(n.queryParams),new Et(n.fragment),new Et(n.data),n.outlet,n.component,n)}var ol=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},BA="ngNavigationCancelingError";function yp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=bs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$A(!1,bn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function $A(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[BA]=!0,t.cancellationCode=e,t}function kj(n){return HA(n)&&bs(n.url)}function HA(n){return!!n&&n[BA]}var Fj=(n,e,t,r)=>me(i=>(new X_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),X_=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),M_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Wa(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Wa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Wa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Wa(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new W_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new z_(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(M_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),M_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},vp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ya=class{constructor(e,t){this.component=e,this.route=t}};function Lj(n,e,t){let r=n._root,i=e?e._root:null;return Yu(r,i,t,[r.value])}function Vj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function nc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!UC(n)?n:e.get(n):r}function Yu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wa(e);return n.children.forEach(s=>{Uj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>el(a,t.getContext(s),i)),i}function Uj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=jj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Yu(n,e,a?a.children:null,r,i):Yu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ya(a.outlet.component,s))}else s&&el(e,a,i),i.canActivateChecks.push(new vp(r)),o.component?Yu(n,null,a?a.children:null,r,i):Yu(n,null,t,r,i);return i}function jj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Es(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Es(n.url,e.url)||!Sr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Z_(n,e)||!Sr(n.queryParams,e.queryParams);case"paramsChange":default:return!Z_(n,e)}}function el(n,e,t){let r=Wa(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?el(s,e.children.getContext(o),t):el(s,null,t):el(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ya(e.outlet.component,i)):t.canDeactivateChecks.push(new Ya(null,i)):t.canDeactivateChecks.push(new Ya(null,i))}function fl(n){return typeof n=="function"}function Bj(n){return typeof n=="boolean"}function $j(n){return n&&fl(n.canLoad)}function Hj(n){return n&&fl(n.canActivate)}function qj(n){return n&&fl(n.canActivateChild)}function zj(n){return n&&fl(n.canDeactivate)}function Gj(n){return n&&fl(n.canMatch)}function qA(n){return n instanceof zr||n?.name==="EmptyError"}var ip=Symbol("INITIAL_VALUE");function tc(){return nn(n=>Iu(n.map(e=>e.pipe(Wr(1),iy(ip)))).pipe(me(e=>{for(let t of e)if(t!==!0){if(t===ip)return ip;if(t===!1||Wj(t))return t}return!0}),Lt(e=>e!==ip),Wr(1)))}function Wj(n){return bs(n)||n instanceof ol}function Kj(n,e){return ht(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?oe(we(H({},t),{guardsResult:!0})):Qj(s,r,i,n).pipe(ht(a=>a&&Bj(a)?Yj(r,o,n,e):oe(a)),me(a=>we(H({},t),{guardsResult:a})))})}function Qj(n,e,t,r){return ze(n).pipe(ht(i=>tB(i.component,i.route,t,e,r)),Gn(i=>i!==!0,!0))}function Yj(n,e,t,r){return ze(e).pipe(Gr(i=>wa(Jj(i.route.parent,r),Zj(i.route,r),eB(n,i.path,t),Xj(n,i.route,t))),Gn(i=>i!==!0,!0))}function Zj(n,e){return n!==null&&e&&e(new G_(n)),oe(!0)}function Jj(n,e){return n!==null&&e&&e(new q_(n)),oe(!0)}function Xj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return oe(!0);let i=r.map(o=>Nh(()=>{let s=dl(e)??t,a=nc(o,s),u=Hj(a)?a.canActivate(e,n):Nn(s,()=>a(e,n));return yo(u).pipe(Gn())}));return oe(i).pipe(tc())}function eB(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Vj(s)).filter(s=>s!==null).map(s=>Nh(()=>{let a=s.guards.map(u=>{let d=dl(s.node)??t,p=nc(u,d),m=qj(p)?p.canActivateChild(r,n):Nn(d,()=>p(r,n));return yo(m).pipe(Gn())});return oe(a).pipe(tc())}));return oe(o).pipe(tc())}function tB(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return oe(!0);let s=o.map(a=>{let u=dl(e)??i,d=nc(a,u),p=zj(d)?d.canDeactivate(n,e,t,r):Nn(u,()=>d(n,e,t,r));return yo(p).pipe(Gn())});return oe(s).pipe(tc())}function nB(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return oe(!0);let o=i.map(s=>{let a=nc(s,n),u=$j(a)?a.canLoad(e,t):Nn(n,()=>a(e,t));return yo(u)});return oe(o).pipe(tc(),zA(r))}function zA(n){return zg(ot(e=>{if(typeof e!="boolean")throw yp(n,e)}),me(e=>e===!0))}function rB(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return oe(!0);let o=i.map(s=>{let a=nc(s,n),u=Gj(a)?a.canMatch(e,t):Nn(n,()=>a(e,t));return yo(u)});return oe(o).pipe(tc(),zA(r))}var sl=class{constructor(e){this.segmentGroup=e||null}},al=class extends Error{constructor(e){super(),this.urlTree=e}};function Ga(n){return _a(new sl(n))}function iB(n){return _a(new ne(4e3,!1))}function oB(n){return _a($A(!1,bn.GuardRejected))}var ew=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return oe(r);if(i.numberOfChildren>1||!i.children[ve])return iB(`${e.redirectTo}`);i=i.children[ve]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:d,routeConfig:p,url:m,outlet:_,params:I,data:x,title:k}=i,N=Nn(o,()=>a({params:I,data:x,queryParams:u,fragment:d,routeConfig:p,url:m,outlet:_,title:k}));if(N instanceof ai)throw new al(N);t=N}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new al(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ai(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ue(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ne(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},tw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sB(n,e,t,r,i){let o=GA(n,e,t);return o.matched?(r=Rj(e,r),rB(r,e,t,i).pipe(me(s=>s===!0?o:H({},tw)))):oe(o)}function GA(n,e,t){if(e.path==="**")return aB(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?H({},tw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||rj)(t,n,e);if(!i)return H({},tw);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?H(H({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function aB(n){return{matched:!0,parameters:n.length>0?TA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function _A(n,e,t,r){return t.length>0&&lB(n,t,r)?{segmentGroup:new Ue(e,uB(r,new Ue(t,n.children))),slicedSegments:[]}:t.length===0&&dB(n,t,r)?{segmentGroup:new Ue(n.segments,cB(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ue(n.segments,n.children),slicedSegments:t}}function cB(n,e,t,r){let i={};for(let o of t)if(Ip(n,e,o)&&!r[nr(o)]){let s=new Ue([],{});i[nr(o)]=s}return H(H({},r),i)}function uB(n,e){let t={};t[ve]=e;for(let r of n)if(r.path===""&&nr(r)!==ve){let i=new Ue([],{});t[nr(r)]=i}return t}function lB(n,e,t){return t.some(r=>Ip(n,e,r)&&nr(r)!==ve)}function dB(n,e,t){return t.some(r=>Ip(n,e,r))}function Ip(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function hB(n,e,t){return e.length===0&&!n.children[t]}var nw=class{};function fB(n,e,t,r,i,o,s="emptyOnly"){return new rw(n,e,t,r,i,s,o).recognize()}var pB=31,rw=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ew(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ne(4002,`'${e.segmentGroup}'`)}recognize(){let e=_A(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(me(({children:t,rootSnapshot:r})=>{let i=new En(r,t),o=new gp("",i),s=Ej(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Qa([],Object.freeze({}),Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ve,t).pipe(me(r=>({children:r,rootSnapshot:t})),Zi(r=>{if(r instanceof al)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof sl?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(me(s=>s instanceof En?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ze(o).pipe(Gr(s=>{let a=r.children[s],u=xj(t,s);return this.processSegmentGroup(e,u,a,s,i)}),ry((s,a)=>(s.push(...a),s)),Ji(null),ny(),ht(s=>{if(s===null)return Ga(r);let a=WA(s);return mB(a),oe(a)}))}processSegment(e,t,r,i,o,s,a){return ze(t).pipe(Gr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Zi(d=>{if(d instanceof sl)return oe(null);throw d}))),Gn(u=>!!u),Zi(u=>{if(qA(u))return hB(r,i,o)?oe(new nw):Ga(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return nr(r)!==s&&(s===ve||!Ip(i,o,r))?Ga(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Ga(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:m,remainingSegments:_}=GA(t,i,o);if(!u)return Ga(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pB&&(this.allowRedirects=!1));let I=new Qa(o,d,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,wA(i),nr(i),i.component??i._loadedComponent??null,i,IA(i)),x=mp(I,a,this.paramsInheritanceStrategy);I.params=Object.freeze(x.params),I.data=Object.freeze(x.data);let k=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,m,I,e);return this.applyRedirects.lineralizeSegments(i,k).pipe(ht(N=>this.processSegment(e,r,t,N.concat(_),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=sB(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(nn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(nn(({routes:d})=>{let p=r._loadedInjector??e,{parameters:m,consumedSegments:_,remainingSegments:I}=u,x=new Qa(_,m,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,wA(r),nr(r),r.component??r._loadedComponent??null,r,IA(r)),k=mp(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(k.params),x.data=Object.freeze(k.data);let{segmentGroup:N,slicedSegments:B}=_A(t,_,I,d);if(B.length===0&&N.hasChildren())return this.processChildren(p,d,N,x).pipe(me(G=>new En(x,G)));if(d.length===0&&B.length===0)return oe(new En(x,[]));let X=nr(r)===o;return this.processSegment(p,d,N,B,X?ve:o,!0,x).pipe(me(G=>new En(x,G instanceof En?[G]:[])))}))):Ga(t)))}getChildConfig(e,t,r){return t.children?oe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?oe({routes:t._loadedRoutes,injector:t._loadedInjector}):nB(e,t,r,this.urlSerializer).pipe(ht(i=>i?this.configLoader.loadChildren(e,t).pipe(ot(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):oB(t))):oe({routes:[],injector:e})}};function mB(n){n.sort((e,t)=>e.value.outlet===ve?-1:t.value.outlet===ve?1:e.value.outlet.localeCompare(t.value.outlet))}function gB(n){let e=n.value.routeConfig;return e&&e.path===""}function WA(n){let e=[],t=new Set;for(let r of n){if(!gB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=WA(r.children);e.push(new En(r.value,i))}return e.filter(r=>!t.has(r))}function wA(n){return n.data||{}}function IA(n){return n.resolve||{}}function yB(n,e,t,r,i,o){return ht(s=>fB(n,e,t,r,s.extractedUrl,i,o).pipe(me(({state:a,tree:u})=>we(H({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function vB(n,e){return ht(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return oe(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of KA(u))s.add(d);let a=0;return ze(s).pipe(Gr(u=>o.has(u)?_B(u,r,n,e):(u.data=mp(u,u.parent,n).resolve,oe(void 0))),ot(()=>a++),Ia(1),ht(u=>a===s.size?oe(t):fn))})}function KA(n){let e=n.children.map(t=>KA(t)).flat();return[n,...e]}function _B(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!jA(i)&&(o[ul]=i.title),wB(o,n,e,r).pipe(me(s=>(n._resolvedData=s,n.data=mp(n,n.parent,t).resolve,null)))}function wB(n,e,t,r){let i=O_(n);if(i.length===0)return oe({});let o={};return ze(i).pipe(ht(s=>IB(n[s],e,t,r).pipe(Gn(),ot(a=>{if(a instanceof ol)throw yp(new Ja,a);o[s]=a}))),Ia(1),ty(o),Zi(s=>qA(s)?fn:_a(s)))}function IB(n,e,t,r){let i=dl(e)??r,o=nc(n,i),s=o.resolve?o.resolve(e,t):Nn(i,()=>o(e,t));return yo(s)}function N_(n){return nn(e=>{let t=n(e);return t?ze(t).pipe(me(()=>e)):oe(e)})}var QA=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ve);return r}getResolvedTitleForRoute(t){return t.data[ul]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>V(EB),providedIn:"root"})}}return n})(),EB=(()=>{class n extends QA{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Z(hA))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pl=new W("",{providedIn:"root",factory:()=>({})}),bB=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Vt({type:n,selectors:[["ng-component"]],standalone:!0,features:[on],decls:1,vars:0,template:function(r,i){r&1&&Ge(0,"router-outlet")},dependencies:[sw],encapsulation:2})}}return n})();function aw(n){let e=n.children&&n.children.map(aw),t=e?we(H({},n),{children:e}):H({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ve&&(t.component=bB),t}var cl=new W(""),cw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(Wf)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return oe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=yo(t.loadComponent()).pipe(me(YA),ot(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ts(()=>{this.componentLoaders.delete(t)})),i=new ma(r,()=>new It).pipe(pa());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return oe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=CB(r,this.compiler,t,this.onLoadEndListener).pipe(ts(()=>{this.childrenLoaders.delete(r)})),s=new ma(o,()=>new It).pipe(pa());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function CB(n,e,t,r){return yo(n.loadChildren()).pipe(me(YA),ht(i=>i instanceof xu||Array.isArray(i)?oe(i):ze(e.compileModuleAsync(i))),me(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(cl,[],{optional:!0,self:!0}).flat()),{routes:s.map(aw),injector:o}}))}function TB(n){return n&&typeof n=="object"&&"default"in n}function YA(n){return TB(n)?n.default:n}var uw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>V(DB),providedIn:"root"})}}return n})(),DB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ZA=new W(""),JA=new W("");function SB(n,e,t){let r=n.get(JA),i=n.get($t);return n.get(De).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=i.startViewTransition(()=>(o(),AB(n))),{onViewTransitionCreated:u}=r;return u&&Nn(n,()=>u({transition:a,from:e,to:t})),s})}function AB(n){return new Promise(e=>{i_({read:()=>setTimeout(e)},{injector:n})})}var RB=new W(""),lw=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new It,this.transitionAbortSubject=new It,this.configLoader=V(cw),this.environmentInjector=V(Kt),this.urlSerializer=V(ll),this.rootContexts=V(hl),this.location=V(Ha),this.inputBindingEnabled=V(wp,{optional:!0})!==null,this.titleStrategy=V(QA),this.options=V(pl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(uw),this.createViewTransition=V(ZA,{optional:!0}),this.navigationErrorHandler=V(RB,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>oe(void 0),this.rootComponentType=null;let t=i=>this.events.next(new $_(i)),r=i=>this.events.next(new H_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(we(H(H({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Et({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Xu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Lt(o=>o.id!==0),me(o=>we(H({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),nn(o=>{let s=!1,a=!1;return oe(o).pipe(nn(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",bn.SupersededByNewNavigation),fn;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?we(H({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&p!=="reload"){let m="";return this.events.next(new po(u.id,this.urlSerializer.serialize(u.rawUrl),m,lp.IgnoredSameUrlNavigation)),u.resolve(!1),fn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return oe(u).pipe(nn(m=>{let _=this.transitions?.getValue();return this.events.next(new Xa(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?fn:Promise.resolve(m)}),yB(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=we(H({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let _=new dp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:_,source:I,restoredState:x,extras:k}=u,N=new Xa(m,this.urlSerializer.serialize(_),I,x);this.events.next(N);let B=VA(this.rootComponentType).snapshot;return this.currentTransition=o=we(H({},u),{targetSnapshot:B,urlAfterRedirects:_,extras:we(H({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,oe(o)}else{let m="";return this.events.next(new po(u.id,this.urlSerializer.serialize(u.extractedUrl),m,lp.IgnoredByUrlHandlingStrategy)),u.resolve(!1),fn}}),ot(u=>{let d=new V_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),me(u=>(this.currentTransition=o=we(H({},u),{guards:Lj(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Kj(this.environmentInjector,u=>this.events.next(u)),ot(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw yp(this.urlSerializer,u.guardsResult);let d=new U_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Lt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",bn.GuardRejected),!1)),N_(u=>{if(u.guards.canActivateChecks.length)return oe(u).pipe(ot(d=>{let p=new j_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),nn(d=>{let p=!1;return oe(d).pipe(vB(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",bn.NoDataFromResolver)}}))}),ot(d=>{let p=new B_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),N_(u=>{let d=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(ot(_=>{p.component=_}),me(()=>{})));for(let _ of p.children)m.push(...d(_));return m};return Iu(d(u.targetSnapshot.root)).pipe(Ji(null),Wr(1))}),N_(()=>this.afterPreactivation()),nn(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?ze(p).pipe(me(()=>o)):oe(o)}),me(u=>{let d=Nj(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=we(H({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),ot(()=>{this.events.next(new rl)}),Fj(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Wr(1),ot({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),oy(this.transitionAbortSubject.pipe(ot(u=>{throw u}))),ts(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",bn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zi(u=>{if(a=!0,HA(u))this.events.next(new si(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),kj(u)?this.events.next(new ec(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new nl(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let p=Nn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof ol){let{message:m,cancellationCode:_}=yp(this.urlSerializer,p);this.events.next(new si(o.id,this.urlSerializer.serialize(o.extractedUrl),m,_)),this.events.next(new ec(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let m=t.errorHandler(u);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return fn}))}))}cancelNavigationTransition(t,r,i){let o=new si(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function xB(n){return n!==Xu}var MB=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>V(NB),providedIn:"root"})}}return n})(),iw=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},NB=(()=>{class n extends iw{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xr(n)))(i||n)}})()}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>V(PB),providedIn:"root"})}}return n})(),PB=(()=>{class n extends XA{constructor(){super(...arguments),this.location=V(Ha),this.urlSerializer=V(ll),this.options=V(pl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(uw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ai,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=VA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Xa)this.stateMemento=this.createStateMemento();else if(t instanceof po)this.rawUrlTree=r.initialUrl;else if(t instanceof dp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof rl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof si&&(t.code===bn.GuardRejected||t.code===bn.NoDataFromResolver)?this.restoreHistory(r):t instanceof nl?this.restoreHistory(r,!0):t instanceof rr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof ai?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=H(H({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=H(H({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xr(n)))(i||n)}})()}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Zu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Zu||{});function eR(n,e){n.events.pipe(Lt(t=>t instanceof rr||t instanceof si||t instanceof nl||t instanceof po),me(t=>t instanceof rr||t instanceof po?Zu.COMPLETE:(t instanceof si?t.code===bn.Redirect||t.code===bn.SupersededByNewNavigation:!1)?Zu.REDIRECTING:Zu.FAILED),Lt(t=>t!==Zu.REDIRECTING),Wr(1)).subscribe(()=>{e()})}function OB(n){throw n}var kB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=V(qf),this.stateManager=V(XA),this.options=V(pl,{optional:!0})||{},this.pendingTasks=V(ao),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(lw),this.urlSerializer=V(ll),this.location=V(Ha),this.urlHandlingStrategy=V(uw),this._events=new It,this.errorHandler=this.options.errorHandler||OB,this.navigated=!1,this.routeReuseStrategy=V(MB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(cl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(wp,{optional:!0}),this.eventsSubscription=new et,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof si&&r.code!==bn.Redirect&&r.code!==bn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rr)this.navigated=!0;else if(r instanceof ec){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=H({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||xB(i.source)},s);this.scheduleNavigation(a,Xu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}VB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=H({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(aw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=H(H({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let _=i?i.snapshot:this.routerState.snapshot.root;m=OA(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return kA(m,t,p,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=bs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xu,null,r)}navigate(t,r={skipLocationChange:!1}){return LB(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=H({},kB):r===!1?i=H({},FB):i=r,bs(t))return pA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return pA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,d;s?(a=s.resolve,u=s.reject,d=s.promise):d=new Promise((m,_)=>{a=m,u=_});let p=this.pendingTasks.add();return eR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function LB(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ne(4008,!1)}function VB(n){return!(n instanceof rl)&&!(n instanceof ec)}var go=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new It,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof rr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(bs(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:hD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:bs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(Y(pt),Y(mo),kv("tabindex"),Y(Cr),Y(jt),Y(oi))}}static{this.\u0275dir=Qe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Fe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ps("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",_s],skipLocationChange:[2,"skipLocationChange","skipLocationChange",_s],replaceUrl:[2,"replaceUrl","replaceUrl",_s],routerLink:"routerLink"},standalone:!0,features:[r_,br]})}}return n})(),tR=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Be,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof rr&&this.update()})}ngAfterContentInit(){oe(this.links.changes,oe(null)).pipe(Yi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ze(t).pipe(Yi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=UB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(Y(pt),Y(jt),Y(Cr),Y(vs),Y(go,8))}}static{this.\u0275dir=Qe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&dS(o,go,5),r&2){let s;hS(s=fS())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[br]})}}return n})();function UB(n){return!!n.paths}var _p=class{};var jB=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Lt(t=>t instanceof rr),Gr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=jf(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ze(i).pipe(Yi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=oe(null);let o=i.pipe(ht(s=>s===null?oe(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return ze([o,s]).pipe(Yi())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(Z(pt),Z(Wf),Z(Kt),Z(_p),Z(cw))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nR=new W(""),BB=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof po&&t.code===lp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof hp&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new hp(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){SD()}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})();function rR(n,...e){return Ut([{provide:cl,multi:!0,useValue:n},[],{provide:mo,useFactory:iR,deps:[pt]},{provide:ys,multi:!0,useFactory:oR},e.map(t=>t.\u0275providers)])}function iR(n){return n.routerState.root}function ml(n,e){return{\u0275kind:n,\u0275providers:e}}function oR(){let n=V(ft);return e=>{let t=n.get(Tr);if(e!==t.components[0])return;let r=n.get(pt),i=n.get(sR);n.get(dw)===1&&r.initialNavigation(),n.get(aR,null,Ee.Optional)?.setUpPreloading(),n.get(nR,null,Ee.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var sR=new W("",{factory:()=>new It}),dw=new W("",{providedIn:"root",factory:()=>1});function $B(){return ml(2,[{provide:dw,useValue:0},{provide:zf,multi:!0,deps:[ft],useFactory:e=>{let t=e.get(OS,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(pt),o=e.get(sR);eR(i,()=>{r(!0)}),e.get(lw).afterPreactivation=()=>(r(!0),o.closed?oe(void 0):o),i.initialNavigation()}))}}])}function HB(){return ml(3,[{provide:zf,multi:!0,useFactory:()=>{let e=V(pt);return()=>{e.setUpLocationChangeListener()}}},{provide:dw,useValue:2}])}var aR=new W("");function qB(n){return ml(0,[{provide:aR,useExisting:jB},{provide:_p,useExisting:n}])}function zB(){return ml(8,[vA,{provide:wp,useExisting:vA}])}function GB(n){let e=[{provide:ZA,useValue:SB},{provide:JA,useValue:H({skipNextTransition:!!n?.skipInitialTransition},n)}];return ml(9,e)}var EA=new W("ROUTER_FORROOT_GUARD"),WB=[Ha,{provide:ll,useClass:Ja},pt,hl,{provide:mo,useFactory:iR,deps:[pt]},cw,[]],rc=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[WB,[],{provide:cl,multi:!0,useValue:t},{provide:EA,useFactory:ZB,deps:[[pt,new st,new Iv]]},{provide:pl,useValue:r||{}},r?.useHash?QB():YB(),KB(),r?.preloadingStrategy?qB(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?JB(r):[],r?.bindToComponentInputs?zB().\u0275providers:[],r?.enableViewTransitions?GB().\u0275providers:[],XB()]}}static forChild(t){return{ngModule:n,providers:[{provide:cl,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(Z(EA,8))}}static{this.\u0275mod=yn({type:n})}static{this.\u0275inj=gn({})}}return n})();function KB(){return{provide:nR,useFactory:()=>{let n=V(LS),e=V(De),t=V(pl),r=V(lw),i=V(ll);return t.scrollOffset&&n.setOffset(t.scrollOffset),new BB(i,r,n,e,t)}}}function QB(){return{provide:oi,useClass:FS}}function YB(){return{provide:oi,useClass:f_}}function ZB(n){return"guarded"}function JB(n){return[n.initialNavigation==="disabled"?HB().\u0275providers:[],n.initialNavigation==="enabledBlocking"?$B().\u0275providers:[]]}var bA=new W("");function XB(){return[{provide:bA,useFactory:oR},{provide:ys,multi:!0,useExisting:bA}]}var yl=class n{constructor(e){this.router=e}titulo="BIENVENIDO A LA CLINICA ONLINE";navegarLogin(){this.router.navigate(["/ingresar"])}navegarRegistro(){this.router.navigate(["/registro"])}static \u0275fac=function(t){return new(t||n)(Y(pt))};static \u0275cmp=Vt({type:n,selectors:[["app-home"]],standalone:!0,features:[on],decls:11,vars:1,consts:[[1,"home-container"],[1,"header"],[1,"buttons-container"],[1,"btn","login-btn",3,"click"],[1,"btn","register-btn",3,"click"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"header",1)(2,"h1"),j(3),L(),F(4,"p"),j(5,"Bienvenidos a nuestra cl\xEDnica! Elija que desea hacer"),L()(),F(6,"div",2)(7,"button",3),Fe("click",function(){return r.navegarLogin()}),j(8,"Iniciar Sesi\xF3n"),L(),F(9,"button",4),Fe("click",function(){return r.navegarRegistro()}),j(10,"Registrarse"),L()()()),t&2&&(z(3),On(r.titulo))},dependencies:[tr,rc],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:url(https://img.freepik.com/foto-gratis/blur-hospital_1203-7972.jpg) no-repeat center center;background-size:cover;overflow:hidden;font-family:Roboto,sans-serif}.home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:40px;text-align:center;background:#fffc;border-radius:15px;box-shadow:0 4px 15px #0003}.header[_ngcontent-%COMP%]{margin-bottom:30px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;background:linear-gradient(135deg,#34568b,#ff6f61);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#34495e}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:20px}.btn[_ngcontent-%COMP%]{padding:12px 24px;font-size:1rem;font-weight:700;border:none;border-radius:8px;cursor:pointer;transition:transform .2s,background-color .3s}.login-btn[_ngcontent-%COMP%]{background-color:#34568b;color:#fff}.login-btn[_ngcontent-%COMP%]:hover{background-color:#2c3e50;transform:translateY(-3px)}.register-btn[_ngcontent-%COMP%]{background-color:#ff6f61;color:#fff}.register-btn[_ngcontent-%COMP%]:hover{background-color:#e74c3c;transform:translateY(-3px)}"]})};var Ep=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Vt({type:n,selectors:[["app-page-not-found"]],standalone:!0,features:[on],decls:9,vars:0,consts:[[1,"page-not-found-container"],["routerLink","/home",1,"back-home-button"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"h1"),j(2,"404"),L(),F(3,"h2"),j(4,"P\xE1gina no encontrada"),L(),F(5,"p"),j(6,"Lo sentimos, la p\xE1gina que buscas no existe."),L(),F(7,"button",1),j(8,"Volver al inicio "),L()())},styles:[".page-not-found-container[_ngcontent-%COMP%]{display:flex;font-family:system-ui;flex-direction:column;align-items:center;justify-content:center;height:100vh;text-align:center;color:#333;background-color:#f8f9fa}h1[_ngcontent-%COMP%]{font-size:6rem;margin:0;color:#ff4757}h2[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}p[_ngcontent-%COMP%]{font-size:1.2rem;margin:10px 0 20px}.back-home-button[_ngcontent-%COMP%]{font-size:1rem;font:system-ui;color:#fff;background-color:#007bff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;transition:background-color .3s,transform .2s;outline:none}.back-home-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}.back-home-button[_ngcontent-%COMP%]:active{background-color:#004494;transform:translateY(0)}"]})};var yR=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Y(Cr),Y(jt))}}static{this.\u0275dir=Qe({type:n})}}return n})(),Pp=(()=>{class n extends yR{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xr(n)))(i||n)}})()}static{this.\u0275dir=Qe({type:n,features:[Pn]})}}return n})(),Cl=new W("");var e$={provide:Cl,useExisting:Jn(()=>wo),multi:!0};function t$(){let n=ii()?ii().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var n$=new W(""),wo=(()=>{class n extends yR{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!t$())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Y(Cr),Y(jt),Y(n$,8))}}static{this.\u0275dir=Qe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Fe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ti([e$]),Pn]})}}return n})();function vo(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function vR(n){return n!=null&&typeof n.length=="number"}var yw=new W(""),_R=new W(""),r$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,le=class{static min(e){return i$(e)}static max(e){return o$(e)}static required(e){return wR(e)}static requiredTrue(e){return s$(e)}static email(e){return a$(e)}static minLength(e){return c$(e)}static maxLength(e){return u$(e)}static pattern(e){return l$(e)}static nullValidator(e){return Tp(e)}static compose(e){return DR(e)}static composeAsync(e){return AR(e)}};function i$(n){return e=>{if(vo(e.value)||vo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function o$(n){return e=>{if(vo(e.value)||vo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function wR(n){return vo(n.value)?{required:!0}:null}function s$(n){return n.value===!0?null:{required:!0}}function a$(n){return vo(n.value)||r$.test(n.value)?null:{email:!0}}function c$(n){return e=>vo(e.value)||!vR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function u$(n){return e=>vR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function l$(n){if(!n)return Tp;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(vo(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Tp(n){return null}function IR(n){return n!=null}function ER(n){return gs(n)?ze(n):n}function bR(n){let e={};return n.forEach(t=>{e=t!=null?H(H({},e),t):e}),Object.keys(e).length===0?null:e}function CR(n,e){return e.map(t=>t(n))}function d$(n){return!n.validate}function TR(n){return n.map(e=>d$(e)?e:t=>e.validate(t))}function DR(n){if(!n)return null;let e=n.filter(IR);return e.length==0?null:function(t){return bR(CR(t,e))}}function SR(n){return n!=null?DR(TR(n)):null}function AR(n){if(!n)return null;let e=n.filter(IR);return e.length==0?null:function(t){let r=CR(t,e).map(ER);return ey(r).pipe(me(bR))}}function RR(n){return n!=null?AR(TR(n)):null}function cR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function xR(n){return n._rawValidators}function MR(n){return n._rawAsyncValidators}function hw(n){return n?Array.isArray(n)?n:[n]:[]}function Dp(n,e){return Array.isArray(n)?n.includes(e):n===e}function uR(n,e){let t=hw(e);return hw(n).forEach(i=>{Dp(t,i)||t.push(i)}),t}function lR(n,e){return hw(e).filter(t=>!Dp(n,t))}var Sp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=SR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=RR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},sc=class extends Sp{get formDirective(){return null}get path(){return null}},bl=class extends Sp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ap=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},h$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},zZ=we(H({},h$),{"[class.ng-submitted]":"isSubmitted"}),cc=(()=>{class n extends Ap{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Y(bl,2))}}static{this.\u0275dir=Qe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ms("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Pn]})}}return n})(),uc=(()=>{class n extends Ap{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Y(sc,10))}}static{this.\u0275dir=Qe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ms("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Pn]})}}return n})();var _l="VALID",bp="INVALID",ic="PENDING",wl="DISABLED",_o=class{},Rp=class extends _o{constructor(e,t){super(),this.value=e,this.source=t}},Il=class extends _o{constructor(e,t){super(),this.pristine=e,this.source=t}},El=class extends _o{constructor(e,t){super(),this.touched=e,this.source=t}},oc=class extends _o{constructor(e,t){super(),this.status=e,this.source=t}},fw=class extends _o{constructor(e){super(),this.source=e}},pw=class extends _o{constructor(e){super(),this.source=e}};function vw(n){return(Op(n)?n.validators:n)||null}function f$(n){return Array.isArray(n)?SR(n):n||null}function _w(n,e){return(Op(e)?e.asyncValidators:n)||null}function p$(n){return Array.isArray(n)?RR(n):n||null}function Op(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function NR(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ne(1e3,"");if(!r[t])throw new ne(1001,"")}function PR(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ne(1002,"")})}var ac=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Bu(()=>this.statusReactive()),this.statusReactive=Uu(void 0),this._pristine=Bu(()=>this.pristineReactive()),this.pristineReactive=Uu(!0),this._touched=Bu(()=>this.touchedReactive()),this.touchedReactive=Uu(!1),this._events=new It,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ni(this.statusReactive)}set status(e){ni(()=>this.statusReactive.set(e))}get valid(){return this.status===_l}get invalid(){return this.status===bp}get pending(){return this.status==ic}get disabled(){return this.status===wl}get enabled(){return this.status!==wl}get pristine(){return ni(this.pristineReactive)}set pristine(e){ni(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return ni(this.touchedReactive)}set touched(e){ni(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lR(e,this._rawAsyncValidators))}hasValidator(e){return Dp(this._rawValidators,e)}hasAsyncValidator(e){return Dp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(we(H({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new El(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new El(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(we(H({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Il(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Il(!0,r))}markAsPending(e={}){this.status=ic;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new oc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(we(H({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=wl,this.errors=null,this._forEachChild(i=>{i.disable(we(H({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rp(this.value,r)),this._events.next(new oc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(we(H({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=_l,this._forEachChild(r=>{r.enable(we(H({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(we(H({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_l||this.status===ic)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rp(this.value,t)),this._events.next(new oc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(we(H({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wl:_l}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ic,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=ER(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new oc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?wl:this.errors?bp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ic)?ic:this._anyControlsHaveStatus(bp)?bp:_l}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Il(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new El(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Op(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=f$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=p$(this._rawAsyncValidators)}},xp=class extends ac{constructor(e,t,r){super(vw(t),_w(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){PR(this,!0,e),Object.keys(e).forEach(r=>{NR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var mw=class extends xp{};var ww=new W("CallSetDisabledState",{providedIn:"root",factory:()=>kp}),kp="always";function m$(n,e){return[...e.path,n]}function dR(n,e,t=kp){Iw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),y$(n,e),_$(n,e),v$(n,e),g$(n,e)}function hR(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Np(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Mp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function g$(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Iw(n,e){let t=xR(n);e.validator!==null?n.setValidators(cR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=MR(n);e.asyncValidator!==null?n.setAsyncValidators(cR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Mp(e._rawValidators,i),Mp(e._rawAsyncValidators,i)}function Np(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=xR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=MR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Mp(e._rawValidators,r),Mp(e._rawAsyncValidators,r),t}function y$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&OR(n,e)})}function v$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&OR(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function OR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _$(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function w$(n,e){n==null,Iw(n,e)}function I$(n,e){return Np(n,e)}function E$(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function b$(n){return Object.getPrototypeOf(n.constructor)===Pp}function C$(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function T$(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===wo?t=o:b$(o)?r=o:i=o}),i||r||t||null}function D$(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function fR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function pR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Cp=class extends ac{constructor(e=null,t,r){super(vw(t),_w(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Op(t)&&(t.nonNullable||t.initialValueIsDefault)&&(pR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){pR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var S$=n=>n instanceof Cp;var lc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Qe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),A$={provide:Cl,useExisting:Jn(()=>Tl),multi:!0},Tl=(()=>{class n extends Pp{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xr(n)))(i||n)}})()}static{this.\u0275dir=Qe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Fe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[ti([A$]),Pn]})}}return n})();var kR=new W("");var R$={provide:sc,useExisting:Jn(()=>Cs)},Cs=(()=>{class n extends sc{get submitted(){return ni(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Bu(()=>this._submittedReactive()),this._submittedReactive=Uu(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Be,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Np(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return dR(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){hR(t.control||null,t,!1),D$(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),C$(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new fw(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new pw(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(hR(r||null,t),S$(i)&&(dR(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);w$(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&I$(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Iw(this.form,this),this._oldForm&&Np(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(Y(yw,10),Y(_R,10),Y(ww,8))}}static{this.\u0275dir=Qe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Fe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ti([R$]),Pn,br]})}}return n})();var x$={provide:bl,useExisting:Jn(()=>Ts)},Ts=(()=>{class n extends bl{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Be,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=T$(this,o)}ngOnChanges(t){this._added||this._setUpControl(),E$(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return m$(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(Y(sc,13),Y(yw,10),Y(_R,10),Y(Cl,10),Y(kR,8))}}static{this.\u0275dir=Qe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ti([x$]),Pn,br]})}}return n})(),M$={provide:Cl,useExisting:Jn(()=>Fp),multi:!0};function FR(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function N$(n){return n.split(":")[0]}var Fp=(()=>{class n extends Pp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=FR(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=N$(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xr(n)))(i||n)}})()}static{this.\u0275dir=Qe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Fe("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ti([M$]),Pn]})}}return n})(),LR=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(FR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Y(jt),Y(Cr),Y(Fp,9))}}static{this.\u0275dir=Qe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),P$={provide:Cl,useExisting:Jn(()=>VR),multi:!0};function mR(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function O$(n){return n.split(":")[0]}var VR=(()=>{class n extends Pp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],d=this._getOptionValue(u.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=O$(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xr(n)))(i||n)}})()}static{this.\u0275dir=Qe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Fe("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ti([P$]),Pn]})}}return n})(),UR=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(mR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(mR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Y(jt),Y(Cr),Y(VR,9))}}static{this.\u0275dir=Qe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var k$=(()=>{class n{constructor(){this._validator=Tp}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Tp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Qe({type:n,features:[br]})}}return n})();var F$={provide:yw,useExisting:Jn(()=>Ds),multi:!0};var Ds=(()=>{class n extends k${constructor(){super(...arguments),this.inputName="required",this.normalizeInput=_s,this.createValidator=t=>wR}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xr(n)))(i||n)}})()}static{this.\u0275dir=Qe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ps("required",i._enabled?"":null)},inputs:{required:"required"},features:[ti([F$]),Pn]})}}return n})();var jR=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=yn({type:n})}static{this.\u0275inj=gn({})}}return n})(),gw=class extends ac{constructor(e,t,r){super(vw(t),_w(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){PR(this,!1,e),e.forEach((r,i)=>{NR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function gR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var dc=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return gR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new xp(i,o)}record(t,r=null){let i=this._reduceControls(t);return new mw(i,r)}control(t,r,i){let o={};return this.useNonNullable?(gR(r)?o=r:(o.validators=r,o.asyncValidators=i),new Cp(t,we(H({},o),{nonNullable:!0}))):new Cp(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new gw(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Cp)return t;if(t instanceof ac)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Lp=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ww,useValue:t.callSetDisabledState??kp}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=yn({type:n})}static{this.\u0275inj=gn({imports:[jR]})}}return n})(),hc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:kR,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ww,useValue:t.callSetDisabledState??kp}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=yn({type:n})}static{this.\u0275inj=gn({imports:[jR]})}}return n})();var $R=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},L$=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},HR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,p=o>>2,m=(o&3)<<4|a>>4,_=(a&15)<<2|d>>6,I=d&63;u||(I=64,s||(_=64)),r.push(t[p],t[m],t[_],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($R(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):L$(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let m=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||d==null||m==null)throw new Cw;let _=o<<2|a>>4;if(r.push(_),d!==64){let I=a<<4&240|d>>2;if(r.push(I),m!==64){let x=d<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Cw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},V$=function(n){let e=$R(n);return HR.encodeByteArray(e,!0)},Dl=function(n){return V$(n).replace(/\./g,"")},Dw=function(n){try{return HR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function U$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var j$=()=>U$().__FIREBASE_DEFAULTS__,B$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Dw(n[1]);return e&&JSON.parse(e)},Up=()=>{try{return j$()||B$()||$$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Sw=n=>{var e,t;return(t=(e=Up())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jp=n=>{let e=Sw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Aw=()=>{var n;return(n=Up())===null||n===void 0?void 0:n.config},Rw=n=>{var e;return(e=Up())===null||e===void 0?void 0:e[`_${n}`]};var Vp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Bp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Dl(JSON.stringify(t)),Dl(JSON.stringify(s)),""].join(".")}function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function H$(){var n;let e=(n=Up())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KR(){let n=Rt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QR(){return!H$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xw(){try{return typeof indexedDB=="object"}catch{return!1}}function YR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var q$="FirebaseError",Jt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=q$,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ci.prototype.create)}},ci=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?z$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Jt(i,a,r)}};function z$(n,e){return n.replace(G$,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var G$=/\{\$([^}]+)}/g;function ZR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ss(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(BR(o)&&BR(s)){if(!Ss(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function BR(n){return n!==null&&typeof n=="object"}function Sl(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function pc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function JR(n,e){let t=new Tw(n,e);return t.subscribe.bind(t)}var Tw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");W$(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=bw),i.error===void 0&&(i.error=bw),i.complete===void 0&&(i.complete=bw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function W$(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bw(){}var KZ=4*60*60*1e3;function at(n){return n&&n._delegate?n._delegate:n}var sn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var As="[DEFAULT]";var Mw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Vp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q$(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K$(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function K$(n){return n===As?void 0:n}function Q$(n){return n.instantiationMode==="EAGER"}var $p=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Mw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Y$=[],Se=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Se||{}),Z$={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},J$=Se.INFO,X$={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},eH=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=X$[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Io=class{constructor(e){this.name=e,this._logLevel=J$,this._logHandler=eH,this._userLogHandler=null,Y$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}};var tH=(n,e)=>e.some(t=>n instanceof t),XR,ex;function nH(){return XR||(XR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rH(){return ex||(ex=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var tx=new WeakMap,Pw=new WeakMap,nx=new WeakMap,Nw=new WeakMap,kw=new WeakMap;function iH(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ar(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&tx.set(t,n)}).catch(()=>{}),kw.set(e,n),e}function oH(n){if(Pw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Pw.set(n,e)}var Ow={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Pw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ar(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rx(n){Ow=n(Ow)}function sH(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Hp(this),e,...t);return nx.set(r,e.sort?e.sort():[e]),Ar(r)}:rH().includes(n)?function(...e){return n.apply(Hp(this),e),Ar(tx.get(this))}:function(...e){return Ar(n.apply(Hp(this),e))}}function aH(n){return typeof n=="function"?sH(n):(n instanceof IDBTransaction&&oH(n),tH(n,nH())?new Proxy(n,Ow):n)}function Ar(n){if(n instanceof IDBRequest)return iH(n);if(Nw.has(n))return Nw.get(n);let e=aH(n);return e!==n&&(Nw.set(n,e),kw.set(e,n)),e}var Hp=n=>kw.get(n);function ox(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Ar(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ar(s.result),u.oldVersion,u.newVersion,Ar(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var cH=["get","getKey","getAll","getAllKeys","count"],uH=["put","add","delete","clear"],Fw=new Map;function ix(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Fw.get(e))return Fw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=uH.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cH.includes(t)))return;let o=function(s,...a){return C(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[t](...a),i&&u.done]))[0]})};return Fw.set(e,o),o}rx(n=>we(H({},n),{get:(e,t,r)=>ix(e,t)||n.get(e,t,r),has:(e,t)=>!!ix(e,t)||n.has(e,t)}));var Vw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lH(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function lH(n){let e=n.getComponent();return e?.type==="VERSION"}var Uw="@firebase/app",sx="0.10.13";var ui=new Io("@firebase/app"),dH="@firebase/app-compat",hH="@firebase/analytics-compat",fH="@firebase/analytics",pH="@firebase/app-check-compat",mH="@firebase/app-check",gH="@firebase/auth",yH="@firebase/auth-compat",vH="@firebase/database",_H="@firebase/data-connect",wH="@firebase/database-compat",IH="@firebase/functions",EH="@firebase/functions-compat",bH="@firebase/installations",CH="@firebase/installations-compat",TH="@firebase/messaging",DH="@firebase/messaging-compat",SH="@firebase/performance",AH="@firebase/performance-compat",RH="@firebase/remote-config",xH="@firebase/remote-config-compat",MH="@firebase/storage",NH="@firebase/storage-compat",PH="@firebase/firestore",OH="@firebase/vertexai-preview",kH="@firebase/firestore-compat",FH="firebase",LH="10.14.1";var jw="[DEFAULT]",VH={[Uw]:"fire-core",[dH]:"fire-core-compat",[fH]:"fire-analytics",[hH]:"fire-analytics-compat",[mH]:"fire-app-check",[pH]:"fire-app-check-compat",[gH]:"fire-auth",[yH]:"fire-auth-compat",[vH]:"fire-rtdb",[_H]:"fire-data-connect",[wH]:"fire-rtdb-compat",[IH]:"fire-fn",[EH]:"fire-fn-compat",[bH]:"fire-iid",[CH]:"fire-iid-compat",[TH]:"fire-fcm",[DH]:"fire-fcm-compat",[SH]:"fire-perf",[AH]:"fire-perf-compat",[RH]:"fire-rc",[xH]:"fire-rc-compat",[MH]:"fire-gcs",[NH]:"fire-gcs-compat",[PH]:"fire-fst",[kH]:"fire-fst-compat",[OH]:"fire-vertex","fire-js":"fire-js",[FH]:"fire-js-all"};var Al=new Map,UH=new Map,Bw=new Map;function ax(n,e){try{n.container.addComponent(e)}catch(t){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rr(n){let e=n.name;if(Bw.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Bw.set(e,n);for(let t of Al.values())ax(t,n);for(let t of UH.values())ax(t,n);return!0}function Rs(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ir(n){return n.settings!==void 0}var jH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new ci("app","Firebase",jH);var $w=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}};var xr=LH;function zw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:jw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Eo.create("bad-app-name",{appName:String(i)});if(t||(t=Aw()),!t)throw Eo.create("no-options");let o=Al.get(i);if(o){if(Ss(t,o.options)&&Ss(r,o.config))return o;throw Eo.create("duplicate-app",{appName:i})}let s=new $p(i);for(let u of Bw.values())s.addComponent(u);let a=new $w(t,r,s);return Al.set(i,a),a}function bo(n=jw){let e=Al.get(n);if(!e&&n===jw&&Aw())return zw();if(!e)throw Eo.create("no-app",{appName:n});return e}function qp(){return Array.from(Al.values())}function Ye(n,e,t){var r;let i=(r=VH[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(a.join(" "));return}Rr(new sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var BH="firebase-heartbeat-database",$H=1,Rl="firebase-heartbeat-store",Lw=null;function dx(){return Lw||(Lw=ox(BH,$H,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Eo.create("idb-open",{originalErrorMessage:n.message})})),Lw}function HH(n){return C(this,null,function*(){try{let t=(yield dx()).transaction(Rl),r=yield t.objectStore(Rl).get(hx(n));return yield t.done,r}catch(e){if(e instanceof Jt)ui.warn(e.message);else{let t=Eo.create("idb-get",{originalErrorMessage:e?.message});ui.warn(t.message)}}})}function cx(n,e){return C(this,null,function*(){try{let r=(yield dx()).transaction(Rl,"readwrite");yield r.objectStore(Rl).put(e,hx(n)),yield r.done}catch(t){if(t instanceof Jt)ui.warn(t.message);else{let r=Eo.create("idb-set",{originalErrorMessage:t?.message});ui.warn(r.message)}}})}function hx(n){return`${n.name}!${n.options.appId}`}var qH=1024,zH=30*24*60*60*1e3,Hw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new qw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ux();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=zH}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ui.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=ux(),{heartbeatsToSend:r,unsentEntries:i}=GH(this._heartbeatsCache.heartbeats),o=Dl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ui.warn(t),""}})}};function ux(){return new Date().toISOString().substring(0,10)}function GH(n,e=qH){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),lx(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),lx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var qw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return xw()?YR().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield HH(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function lx(n){return Dl(JSON.stringify({version:2,heartbeats:n})).length}function WH(n){Rr(new sn("platform-logger",e=>new Vw(e),"PRIVATE")),Rr(new sn("heartbeat",e=>new Hw(e),"PRIVATE")),Ye(Uw,sx,n),Ye(Uw,sx,"esm2017"),Ye("fire-js","")}WH("");var KH="firebase",QH="10.14.1";Ye(KH,QH,"app");var li=new Jr("ANGULARFIRE2_VERSION");function gc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ms=(n,e)=>{let t=e?[e]:qp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Co=class{constructor(){return Ms(YH)}},YH="app-check";function mc(){}var zp=class{zone;delegate;constructor(e,t=Zg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},Gw=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mc,{},mc,mc)),t.pipe(ot({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},To=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new zp(Zone.current)),this.insideAngular=t.run(()=>new zp(Zone.current,Yg)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Z(De))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gp(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function ZH(n){return Gp().ngZone.runOutsideAngular(()=>n())}function xs(n){return Gp().ngZone.run(()=>n())}function JH(n){return XH(Gp())(n)}function XH(n){return function(t){return t=t.lift(new Gw(n.ngZone)),t.pipe(Qi(n.outsideAngular),Ki(n.insideAngular))}}var e4=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),xs(()=>n.apply(void 0,r))},bt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=xs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mc,{},mc,mc))),r[o]=e4(r[o],t));let i=ZH(()=>n.apply(this,r));if(!e)if(i instanceof be){let o=Gp();return i.pipe(Qi(o.outsideAngular),Ki(o.insideAngular))}else return xs(()=>i);return i instanceof be?i.pipe(JH):i instanceof Promise?xs(()=>new Promise((o,s)=>i.then(a=>xs(()=>o(a)),a=>xs(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:xs(()=>i)};var or=class{constructor(e){return e}},di=class{constructor(){return qp()}};function t4(n){return n&&n.length===1?n[0]:new or(bo())}var Ww=new W("angularfire2._apps"),n4={provide:or,useFactory:t4,deps:[[new st,Ww]]},r4={provide:di,deps:[[new st,Ww]]};function i4(n){return(e,t)=>{let r=t.get(Bt);Ye("angularfire",li.full,"core"),Ye("angularfire",li.full,"app"),Ye("angular",vS.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new or(i)}}function fx(n,...e){return Ut([n4,r4,{provide:Ww,useFactory:i4(n),multi:!0,deps:[De,ft,To,...e]}])}var px=bt(zw,!0);function Mx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Nx=Mx,Px=new ci("auth","Firebase",Mx());var Jp=new Io("@firebase/auth");function o4(n,...e){Jp.logLevel<=Se.WARN&&Jp.warn(`Auth (${xr}): ${n}`,...e)}function Kp(n,...e){Jp.logLevel<=Se.ERROR&&Jp.error(`Auth (${xr}): ${n}`,...e)}function Nr(n,...e){throw gI(n,...e)}function Ns(n,...e){return gI(n,...e)}function Ox(n,e,t){let r=Object.assign(Object.assign({},Nx()),{[e]:t});return new ci("auth","Firebase",r).create(e,{appName:n.name})}function pi(n){return Ox(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Px.create(n,...e)}function se(n,e,...t){if(!n)throw gI(e,...t)}function hi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Kp(e),new Error(e)}function So(n,e){n||hi(e)}function Zw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function s4(){return mx()==="http:"||mx()==="https:"}function mx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function a4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s4()||GR()||"connection"in navigator)?navigator.onLine:!0}function c4(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ps=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,So(t>e,"Short delay should be less than long delay!"),this.isMobile=qR()||WR()}get(){return a4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function yI(n,e){So(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Xp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var u4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var l4=new Ps(3e4,6e4);function mi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function gi(o,s,a,u){return C(this,arguments,function*(n,e,t,r,i={}){return kx(n,i,()=>C(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let m=Sl(Object.assign({key:n.config.apiKey},p)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let I=Object.assign({method:e,headers:_},d);return zR()||(I.referrerPolicy="no-referrer"),Xp.fetch()(Fx(n,n.config.apiHost,t,m),I)}))})}function kx(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},u4),e);try{let i=new Jw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Wp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wp(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Wp(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Wp(n,"user-disabled",s);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Ox(n,p,d);Nr(n,p)}}catch(i){if(i instanceof Jt)throw i;Nr(n,"network-request-failed",{message:String(i)})}})}function Ll(o,s,a,u){return C(this,arguments,function*(n,e,t,r,i={}){let d=yield gi(n,e,t,r,i);return"mfaPendingCredential"in d&&Nr(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function Fx(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?yI(n.config,i):`${n.config.apiScheme}://${i}`}function d4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Jw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ns(this.auth,"network-request-failed")),l4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Wp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ns(n,e,r);return i.customData._tokenResponse=t,i}function gx(n){return n!==void 0&&n.enterprise!==void 0}var Xw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return d4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function h4(n,e){return C(this,null,function*(){return gi(n,"GET","/v2/recaptchaConfig",mi(n,e))})}function f4(n,e){return C(this,null,function*(){return gi(n,"POST","/v1/accounts:delete",e)})}function Lx(n,e){return C(this,null,function*(){return gi(n,"POST","/v1/accounts:lookup",e)})}function xl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function vI(n,e=!1){return C(this,null,function*(){let t=at(n),r=yield t.getIdToken(e),i=_I(r);se(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:xl(Kw(i.auth_time)),issuedAtTime:xl(Kw(i.iat)),expirationTime:xl(Kw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Kw(n){return Number(n)*1e3}function _I(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Kp("JWT malformed, contained fewer than 3 sections"),null;try{let i=Dw(t);return i?JSON.parse(i):(Kp("Failed to decode base64 JWT payload"),null)}catch(i){return Kp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yx(n){let e=_I(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Nl(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Jt&&p4(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function p4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var eI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Pl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function em(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Nl(n,Lx(t,{idToken:r}));se(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Vx(o.providerUserInfo):[],a=m4(n.providerData,s),u=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!a?.length,p=u?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Pl(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,m)})}function wI(n){return C(this,null,function*(){let e=at(n);yield em(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function m4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Vx(n){return n.map(e=>{var{providerId:t}=e,r=Jg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function g4(n,e){return C(this,null,function*(){let t=yield kx(n,{},()=>C(this,null,function*(){let r=Sl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=Fx(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Xp.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function y4(n,e){return C(this,null,function*(){return gi(n,"POST","/v2/accounts:revokeToken",mi(n,e))})}var Ml=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){se(e.length!==0,"internal-error");let t=yx(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield g4(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(se(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return hi("not implemented")}};function Do(n,e){se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var yc=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Jg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield Nl(this,this.stsTokenManager.getToken(this.auth,e));return se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return vI(this,e)}reload(){return wI(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield em(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(ir(this.auth.app))return Promise.reject(pi(this.auth));let e=yield this.getIdToken();return yield Nl(this,f4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,d,p;let m=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,I=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,x=(s=t.photoURL)!==null&&s!==void 0?s:void 0,k=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,B=(d=t.createdAt)!==null&&d!==void 0?d:void 0,X=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:G,emailVerified:ee,isAnonymous:pe,providerData:ie,stsTokenManager:D}=t;se(G&&D,e,"internal-error");let E=Ml.fromJSON(this.name,D);se(typeof G=="string",e,"internal-error"),Do(m,e.name),Do(_,e.name),se(typeof ee=="boolean",e,"internal-error"),se(typeof pe=="boolean",e,"internal-error"),Do(I,e.name),Do(x,e.name),Do(k,e.name),Do(N,e.name),Do(B,e.name),Do(X,e.name);let b=new n({uid:G,auth:e,email:_,emailVerified:ee,displayName:m,isAnonymous:pe,photoURL:x,phoneNumber:I,tenantId:k,stsTokenManager:E,createdAt:B,lastLoginAt:X});return ie&&Array.isArray(ie)&&(b.providerData=ie.map(S=>Object.assign({},S))),N&&(b._redirectEventId=N),b}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new Ml;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield em(o),o})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];se(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Vx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ml;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Pl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var vx=new Map;function fi(n){So(n instanceof Function,"Expected a class definition");let e=vx.get(n);return e?(So(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vx.set(n,e),e)}var v4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),tI=v4;function Qp(n,e,t){return`firebase:${n}:${e}:${t}`}var tm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Qp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Qp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?yc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(fi(tI),e,r);let i=(yield Promise.all(t.map(d=>C(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||fi(tI),s=Qp(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let p=yield d._get(s);if(p){let m=yc._fromJSON(e,p);d!==o&&(a=m),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(d=>C(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new n(o,e,r))})}};function _x(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($x(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ux(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qx(e))return"Blackberry";if(zx(e))return"Webos";if(jx(e))return"Safari";if((e.includes("chrome/")||Bx(e))&&!e.includes("edge/"))return"Chrome";if(Hx(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Ux(n=Rt()){return/firefox\//i.test(n)}function jx(n=Rt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bx(n=Rt()){return/crios\//i.test(n)}function $x(n=Rt()){return/iemobile/i.test(n)}function Hx(n=Rt()){return/android/i.test(n)}function qx(n=Rt()){return/blackberry/i.test(n)}function zx(n=Rt()){return/webos/i.test(n)}function II(n=Rt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _4(n=Rt()){var e;return II(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w4(){return KR()&&document.documentMode===10}function Gx(n=Rt()){return II(n)||Hx(n)||zx(n)||qx(n)||/windows phone/i.test(n)||$x(n)}function Wx(n,e=[]){let t;switch(n){case"Browser":t=_x(Rt());break;case"Worker":t=`${_x(Rt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xr}/${r}`}var nI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function I4(t){return C(this,arguments,function*(n,e={}){return gi(n,"GET","/v2/passwordPolicy",mi(n,e))})}var E4=6,rI=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:E4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var iI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nm(this),this.idTokenSubscription=new nm(this),this.beforeStateQueue=new nI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Px,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fi(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield tm.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield Lx(this,{idToken:e}),r=yield yc._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(ir(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield em(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=c4()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(ir(this.app))return Promise.reject(pi(this));let t=e?at(e):null;return t&&se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return ir(this.app)?Promise.reject(pi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ir(this.app)?Promise.reject(pi(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(fi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield I4(this),t=new rI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ci("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield y4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&fi(e)||this._popupRedirectResolver;se(t,this,"argument-error"),this.redirectPersistenceManager=yield tm.create(this,[fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&o4(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ks(n){return at(n)}var nm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=JR(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var um={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b4(n){um=n}function Kx(n){return um.loadJS(n)}function C4(){return um.recaptchaEnterpriseScript}function T4(){return um.gapiScript}function Qx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var D4="recaptcha-enterprise",S4="NO_RECAPTCHA",oI=class{constructor(e){this.type=D4,this.auth=ks(e)}verify(e="verify",t=!1){return C(this,null,function*(){function r(o){return C(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>C(this,null,function*(){h4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new Xw(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;gx(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(S4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&gx(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=C4();u.length!==0&&(u+=a),Kx(u).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})})}};function wx(n,e,t,r=!1){return C(this,null,function*(){let i=new oI(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function sI(n,e,t,r){return C(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield wx(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>C(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield wx(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function EI(n,e){let t=Rs(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Ss(o,e??{}))return i;Nr(i,"already-initialized")}return t.initialize({options:e})}function A4(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(fi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function bI(n,e,t){let r=ks(n);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=Yx(e),{host:s,port:a}=R4(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||x4()}function Yx(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function R4(n){let e=Yx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Ix(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:Ix(s)}}}function Ix(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function x4(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ol=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,t){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}};function M4(n,e){return C(this,null,function*(){return gi(n,"POST","/v1/accounts:signUp",e)})}function N4(n,e){return C(this,null,function*(){return Ll(n,"POST","/v1/accounts:signInWithPassword",mi(n,e))})}function P4(n,e){return C(this,null,function*(){return gi(n,"POST","/v1/accounts:sendOobCode",mi(n,e))})}function O4(n,e){return C(this,null,function*(){return P4(n,e)})}function k4(n,e){return C(this,null,function*(){return Ll(n,"POST","/v1/accounts:signInWithEmailLink",mi(n,e))})}function F4(n,e){return C(this,null,function*(){return Ll(n,"POST","/v1/accounts:signInWithEmailLink",mi(n,e))})}var kl=class n extends Ol{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sI(e,t,"signInWithPassword",N4);case"emailLink":return k4(e,{email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}})}_linkToIdToken(e,t){return C(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sI(e,r,"signUpPassword",M4);case"emailLink":return F4(e,{idToken:t,email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Qw(n,e){return C(this,null,function*(){return Ll(n,"POST","/v1/accounts:signInWithIdp",mi(n,e))})}function L4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V4(n){let e=fc(pc(n)).link,t=e?fc(pc(e)).deep_link_id:null,r=fc(pc(n)).deep_link_id;return(r?fc(pc(r)).link:null)||r||t||e||n}var rm=class n{constructor(e){var t,r,i,o,s,a;let u=fc(pc(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,m=L4((i=u.mode)!==null&&i!==void 0?i:null);se(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=V4(e);try{return new n(t)}catch{return null}}};var Zx=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return kl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=rm.parseLink(r);return se(i,"argument-error"),kl._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),im=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var aI=class extends im{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function U4(n,e){return C(this,null,function*(){return Ll(n,"POST","/v1/accounts:signUp",mi(n,e))})}var vc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return C(this,null,function*(){let o=yield yc._fromIdTokenResponse(e,r,i),s=Ex(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return C(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Ex(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Ex(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var cI=class n extends Jt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Jx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?cI._fromErrorAndOperation(n,o,e,r):o})}function j4(n,e,t=!1){return C(this,null,function*(){let r=yield Nl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return vc._forOperation(n,"link",r)})}function B4(n,e,t=!1){return C(this,null,function*(){let{auth:r}=n;if(ir(r.app))return Promise.reject(pi(r));let i="reauthenticate";try{let o=yield Nl(n,Jx(r,i,e,n),t);se(o.idToken,r,"internal-error");let s=_I(o.idToken);se(s,r,"internal-error");let{sub:a}=s;return se(n.uid===a,r,"user-mismatch"),vc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Nr(r,"user-mismatch"),o}})}function Xx(n,e,t=!1){return C(this,null,function*(){if(ir(n.app))return Promise.reject(pi(n));let r="signIn",i=yield Jx(n,r,e),o=yield vc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function CI(n,e){return C(this,null,function*(){return Xx(ks(n),e)})}function $4(n,e,t){var r;se(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),se(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(se(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(se(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function eM(n){return C(this,null,function*(){let e=ks(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function TI(n,e,t){return C(this,null,function*(){if(ir(n.app))return Promise.reject(pi(n));let r=ks(n),s=yield sI(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U4).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&eM(n),u}),a=yield vc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function DI(n,e,t){return ir(n.app)?Promise.reject(pi(n)):CI(at(n),Zx.credential(e,t)).catch(r=>C(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&eM(n),r}))}function SI(n,e){return C(this,null,function*(){let t=at(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&$4(t.auth,i,e);let{email:o}=yield O4(t.auth,i);o!==n.email&&(yield n.reload())})}function AI(n,e,t,r){return at(n).onIdTokenChanged(e,t,r)}function RI(n,e,t){return at(n).beforeAuthStateChanged(e,t)}function xI(n){return at(n).signOut()}var om="__sak";var sm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(om,"1"),this.storage.removeItem(om),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var H4=1e3,q4=10,z4=(()=>{class n extends sm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);w4()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,q4):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},H4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return C(this,null,function*(){yield zi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return C(this,null,function*(){let r=yield zi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return C(this,null,function*(){yield zi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),tM=z4;var G4=(()=>{class n extends sm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),MI=G4;function W4(n){return Promise.all(n.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var K4=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return C(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(p=>C(this,null,function*(){return p(r.origin,s)})),d=yield W4(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function nM(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var uI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return C(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let d=nM("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){let _=m;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(_.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Mr(){return window}function Q4(n){Mr().location.href=n}function rM(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}function Y4(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Z4(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function J4(){return rM()?self:null}var iM="firebaseLocalStorageDb",X4=1,am="firebaseLocalStorage",oM="fbase_key",Os=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function lm(n,e){return n.transaction([am],e?"readwrite":"readonly").objectStore(am)}function eq(){let n=indexedDB.deleteDatabase(iM);return new Os(n).toPromise()}function lI(){let n=indexedDB.open(iM,X4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(am,{keyPath:oM})}catch(i){t(i)}}),n.addEventListener("success",()=>C(this,null,function*(){let r=n.result;r.objectStoreNames.contains(am)?e(r):(r.close(),yield eq(),e(yield lI()))}))})}function bx(n,e,t){return C(this,null,function*(){let r=lm(n,!0).put({[oM]:e,value:t});return new Os(r).toPromise()})}function tq(n,e){return C(this,null,function*(){let t=lm(n,!1).get(e),r=yield new Os(t).toPromise();return r===void 0?null:r.value})}function Cx(n,e){let t=lm(n,!0).delete(e);return new Os(t).toPromise()}var nq=800,rq=3,iq=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield lI(),this.db)})}_withRetries(t){return C(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>rq)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return rM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=K4._getInstance(J4()),this.receiver._subscribe("keyChanged",(t,r)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var t,r;if(this.activeServiceWorker=yield Y4(),!this.activeServiceWorker)return;this.sender=new uI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Z4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let t=yield lI();return yield bx(t,om,"1"),yield Cx(t,om),!0}catch{}return!1})}_withPendingWrite(t){return C(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>bx(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return C(this,null,function*(){let r=yield this._withRetries(i=>tq(i,t));return this.localCache[t]=r,r})}_remove(t){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>Cx(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return C(this,null,function*(){let t=yield this._withRetries(o=>{let s=lm(o,!1).getAll();return new Os(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),nq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),sM=iq;var BJ=Qx("rcb"),$J=new Ps(3e4,6e4);function oq(n,e){return e?fi(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Fl=class extends Ol{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function sq(n){return Xx(n.auth,new Fl(n),n.bypassAuthState)}function aq(n){let{auth:e,user:t}=n;return se(t,e,"internal-error"),B4(t,new Fl(n),n.bypassAuthState)}function cq(n){return C(this,null,function*(){let{auth:e,user:t}=n;return se(t,e,"internal-error"),j4(t,new Fl(n),n.bypassAuthState)})}var dI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sq;case"linkViaPopup":case"linkViaRedirect":return cq;case"reauthViaPopup":case"reauthViaRedirect":return aq;default:Nr(this.auth,"internal-error")}}resolve(e){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var HJ=new Ps(2e3,1e4);var uq="pendingRedirect",Yp=new Map,hI=class n extends dI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return C(this,null,function*(){let e=Yp.get(this.auth._key());if(!e){try{let r=(yield lq(this.resolver,this.auth))?yield zi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Yp.set(this.auth._key(),e)}return this.bypassAuthState||Yp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return zi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,zi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function lq(n,e){return C(this,null,function*(){let t=fq(e),r=hq(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function dq(n,e){Yp.set(n._key(),e)}function hq(n){return fi(n._redirectPersistence)}function fq(n){return Qp(uq,n.config.apiKey,n.name)}function pq(n,e,t=!1){return C(this,null,function*(){if(ir(n.app))return Promise.reject(pi(n));let r=ks(n),i=oq(r,e),s=yield new hI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var mq=10*60*1e3,fI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!aM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ns(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mq&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tx(e))}saveEventToCache(e){this.cachedEventUids.add(Tx(e)),this.lastProcessedEventTime=Date.now()}};function Tx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function aM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function gq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aM(n);default:return!1}}function yq(t){return C(this,arguments,function*(n,e={}){return gi(n,"GET","/v1/projects",e)})}var vq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_q=/^https?/;function wq(n){return C(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield yq(n);for(let t of e)try{if(Iq(t))return}catch{}Nr(n,"unauthorized-domain")})}function Iq(n){let e=Zw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!_q.test(t))return!1;if(vq.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Eq=new Ps(3e4,6e4);function Dx(){let n=Mr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function bq(n){return new Promise((e,t)=>{var r,i,o;function s(){Dx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dx(),t(Ns(n,"network-request-failed"))},timeout:Eq.get()})}if(!((i=(r=Mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Mr().gapi)===null||o===void 0)&&o.load)s();else{let a=Qx("iframefcb");return Mr()[a]=()=>{gapi.load?s():t(Ns(n,"network-request-failed"))},Kx(`${T4()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Zp=null,e})}var Zp=null;function Cq(n){return Zp=Zp||bq(n),Zp}var Tq=new Ps(5e3,15e3),Dq="__/auth/iframe",Sq="emulator/auth/iframe",Aq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xq(n){let e=n.config;se(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?yI(e,Sq):`https://${n.config.authDomain}/${Dq}`,r={apiKey:e.apiKey,appName:n.name,v:xr},i=Rq.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Sl(r).slice(1)}`}function Mq(n){return C(this,null,function*(){let e=yield Cq(n),t=Mr().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:xq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aq,dontclear:!0},r=>new Promise((i,o)=>C(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ns(n,"network-request-failed"),a=Mr().setTimeout(()=>{o(s)},Tq.get());function u(){Mr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var Nq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pq=500,Oq=600,kq="_blank",Fq="http://localhost",cm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Lq(n,e,t,r=Pq,i=Oq){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Nq),{width:r.toString(),height:i.toString(),top:o,left:s}),d=Rt().toLowerCase();t&&(a=Bx(d)?kq:t),Ux(d)&&(e=e||Fq,u.scrollbars="yes");let p=Object.entries(u).reduce((_,[I,x])=>`${_}${I}=${x},`,"");if(_4(d)&&a!=="_self")return Vq(e||"",a),new cm(null);let m=window.open(e||"",a,p);se(m,n,"popup-blocked");try{m.focus()}catch{}return new cm(m)}function Vq(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Uq="__/auth/handler",jq="emulator/auth/handler",Bq=encodeURIComponent("fac");function Sx(n,e,t,r,i,o){return C(this,null,function*(){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:xr,eventId:i};if(e instanceof im){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",ZR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,m]of Object.entries(o||{}))s[p]=m}if(e instanceof aI){let p=e.getScopes().filter(m=>m!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield n._getAppCheckToken(),d=u?`#${Bq}=${encodeURIComponent(u)}`:"";return`${$q(n)}?${Sl(a).slice(1)}${d}`})}function $q({config:n}){return n.emulator?yI(n,jq):`https://${n.authDomain}/${Uq}`}var Yw="webStorageSupport",pI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MI,this._completeRedirectFn=pq,this._overrideRedirectResult=dq}_openPopup(e,t,r,i){return C(this,null,function*(){var o;So((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Sx(e,t,r,Zw(),i);return Lq(e,s,nM())})}_openRedirect(e,t,r,i){return C(this,null,function*(){yield this._originValidation(e);let o=yield Sx(e,t,r,Zw(),i);return Q4(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(So(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return C(this,null,function*(){let t=yield Mq(e),r=new fI(e);return t.register("authEvent",i=>(se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yw,{type:Yw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Yw];s!==void 0&&t(!!s),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Gx()||jx()||II()}},cM=pI;var Ax="@firebase/auth",Rx="1.7.9";var mI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Hq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qq(n){Rr(new sn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wx(n)},d=new iI(r,i,o,u);return A4(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Rr(new sn("auth-internal",e=>{let t=ks(e.getProvider("auth").getImmediate());return(r=>new mI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(Ax,Rx,Hq(n)),Ye(Ax,Rx,"esm2017")}var zq=5*60,Gq=Rw("authIdTokenMaxAge")||zq,xx=null,Wq=n=>e=>C(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Gq)return;let i=t?.token;xx!==i&&(xx=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function NI(n=bo()){let e=Rs(n,"auth");if(e.isInitialized())return e.getImmediate();let t=EI(n,{popupRedirectResolver:cM,persistence:[sM,tM,MI]}),r=Rw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Wq(o.toString());RI(t,s,()=>s(t.currentUser)),AI(t,a=>s(a))}}let i=Sw("auth");return i&&bI(t,`http://${i}`),t}function Kq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}b4({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Ns("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Kq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qq("Browser");var uM="auth",yi=class{constructor(e){return e}},Fs=class{constructor(){return Ms(uM)}};var PI=new W("angularfire2.auth-instances");function Lz(n,e){let t=gc(uM,n,e);return t&&new yi(t)}function Vz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new yi(r)}}var Uz={provide:Fs,deps:[[new st,PI]]},jz={provide:yi,useFactory:Lz,deps:[[new st,PI],or]};function lM(n,...e){return Ye("angularfire",li.full,"auth"),Ut([jz,Uz,{provide:PI,useFactory:Vz(n),multi:!0,deps:[De,ft,To,di,[new st,Co],...e]}])}var dM=bt(TI,!0);var hM=bt(NI,!0);var fM=bt(SI,!0);var pM=bt(DI,!0);var mM=bt(xI,!0);var yM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vM={};var Ao,OI;(function(){var n;function e(D,E){function b(){}b.prototype=E.prototype,D.D=E.prototype,D.prototype=new b,D.prototype.constructor=D,D.C=function(S,A,R){for(var T=Array(arguments.length-2),Vn=2;Vn<arguments.length;Vn++)T[Vn-2]=arguments[Vn];return E.prototype[A].apply(S,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,E,b){b||(b=0);var S=Array(16);if(typeof E=="string")for(var A=0;16>A;++A)S[A]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(A=0;16>A;++A)S[A]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=D.g[0],b=D.g[1],A=D.g[2];var R=D.g[3],T=E+(R^b&(A^R))+S[0]+3614090360&4294967295;E=b+(T<<7&4294967295|T>>>25),T=R+(A^E&(b^A))+S[1]+3905402710&4294967295,R=E+(T<<12&4294967295|T>>>20),T=A+(b^R&(E^b))+S[2]+606105819&4294967295,A=R+(T<<17&4294967295|T>>>15),T=b+(E^A&(R^E))+S[3]+3250441966&4294967295,b=A+(T<<22&4294967295|T>>>10),T=E+(R^b&(A^R))+S[4]+4118548399&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(A^E&(b^A))+S[5]+1200080426&4294967295,R=E+(T<<12&4294967295|T>>>20),T=A+(b^R&(E^b))+S[6]+2821735955&4294967295,A=R+(T<<17&4294967295|T>>>15),T=b+(E^A&(R^E))+S[7]+4249261313&4294967295,b=A+(T<<22&4294967295|T>>>10),T=E+(R^b&(A^R))+S[8]+1770035416&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(A^E&(b^A))+S[9]+2336552879&4294967295,R=E+(T<<12&4294967295|T>>>20),T=A+(b^R&(E^b))+S[10]+4294925233&4294967295,A=R+(T<<17&4294967295|T>>>15),T=b+(E^A&(R^E))+S[11]+2304563134&4294967295,b=A+(T<<22&4294967295|T>>>10),T=E+(R^b&(A^R))+S[12]+1804603682&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(A^E&(b^A))+S[13]+4254626195&4294967295,R=E+(T<<12&4294967295|T>>>20),T=A+(b^R&(E^b))+S[14]+2792965006&4294967295,A=R+(T<<17&4294967295|T>>>15),T=b+(E^A&(R^E))+S[15]+1236535329&4294967295,b=A+(T<<22&4294967295|T>>>10),T=E+(A^R&(b^A))+S[1]+4129170786&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^A&(E^b))+S[6]+3225465664&4294967295,R=E+(T<<9&4294967295|T>>>23),T=A+(E^b&(R^E))+S[11]+643717713&4294967295,A=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(A^R))+S[0]+3921069994&4294967295,b=A+(T<<20&4294967295|T>>>12),T=E+(A^R&(b^A))+S[5]+3593408605&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^A&(E^b))+S[10]+38016083&4294967295,R=E+(T<<9&4294967295|T>>>23),T=A+(E^b&(R^E))+S[15]+3634488961&4294967295,A=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(A^R))+S[4]+3889429448&4294967295,b=A+(T<<20&4294967295|T>>>12),T=E+(A^R&(b^A))+S[9]+568446438&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^A&(E^b))+S[14]+3275163606&4294967295,R=E+(T<<9&4294967295|T>>>23),T=A+(E^b&(R^E))+S[3]+4107603335&4294967295,A=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(A^R))+S[8]+1163531501&4294967295,b=A+(T<<20&4294967295|T>>>12),T=E+(A^R&(b^A))+S[13]+2850285829&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^A&(E^b))+S[2]+4243563512&4294967295,R=E+(T<<9&4294967295|T>>>23),T=A+(E^b&(R^E))+S[7]+1735328473&4294967295,A=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(A^R))+S[12]+2368359562&4294967295,b=A+(T<<20&4294967295|T>>>12),T=E+(b^A^R)+S[5]+4294588738&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^A)+S[8]+2272392833&4294967295,R=E+(T<<11&4294967295|T>>>21),T=A+(R^E^b)+S[11]+1839030562&4294967295,A=R+(T<<16&4294967295|T>>>16),T=b+(A^R^E)+S[14]+4259657740&4294967295,b=A+(T<<23&4294967295|T>>>9),T=E+(b^A^R)+S[1]+2763975236&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^A)+S[4]+1272893353&4294967295,R=E+(T<<11&4294967295|T>>>21),T=A+(R^E^b)+S[7]+4139469664&4294967295,A=R+(T<<16&4294967295|T>>>16),T=b+(A^R^E)+S[10]+3200236656&4294967295,b=A+(T<<23&4294967295|T>>>9),T=E+(b^A^R)+S[13]+681279174&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^A)+S[0]+3936430074&4294967295,R=E+(T<<11&4294967295|T>>>21),T=A+(R^E^b)+S[3]+3572445317&4294967295,A=R+(T<<16&4294967295|T>>>16),T=b+(A^R^E)+S[6]+76029189&4294967295,b=A+(T<<23&4294967295|T>>>9),T=E+(b^A^R)+S[9]+3654602809&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^A)+S[12]+3873151461&4294967295,R=E+(T<<11&4294967295|T>>>21),T=A+(R^E^b)+S[15]+530742520&4294967295,A=R+(T<<16&4294967295|T>>>16),T=b+(A^R^E)+S[2]+3299628645&4294967295,b=A+(T<<23&4294967295|T>>>9),T=E+(A^(b|~R))+S[0]+4096336452&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~A))+S[7]+1126891415&4294967295,R=E+(T<<10&4294967295|T>>>22),T=A+(E^(R|~b))+S[14]+2878612391&4294967295,A=R+(T<<15&4294967295|T>>>17),T=b+(R^(A|~E))+S[5]+4237533241&4294967295,b=A+(T<<21&4294967295|T>>>11),T=E+(A^(b|~R))+S[12]+1700485571&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~A))+S[3]+2399980690&4294967295,R=E+(T<<10&4294967295|T>>>22),T=A+(E^(R|~b))+S[10]+4293915773&4294967295,A=R+(T<<15&4294967295|T>>>17),T=b+(R^(A|~E))+S[1]+2240044497&4294967295,b=A+(T<<21&4294967295|T>>>11),T=E+(A^(b|~R))+S[8]+1873313359&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~A))+S[15]+4264355552&4294967295,R=E+(T<<10&4294967295|T>>>22),T=A+(E^(R|~b))+S[6]+2734768916&4294967295,A=R+(T<<15&4294967295|T>>>17),T=b+(R^(A|~E))+S[13]+1309151649&4294967295,b=A+(T<<21&4294967295|T>>>11),T=E+(A^(b|~R))+S[4]+4149444226&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~A))+S[11]+3174756917&4294967295,R=E+(T<<10&4294967295|T>>>22),T=A+(E^(R|~b))+S[2]+718787259&4294967295,A=R+(T<<15&4294967295|T>>>17),T=b+(R^(A|~E))+S[9]+3951481745&4294967295,D.g[0]=D.g[0]+E&4294967295,D.g[1]=D.g[1]+(A+(T<<21&4294967295|T>>>11))&4294967295,D.g[2]=D.g[2]+A&4294967295,D.g[3]=D.g[3]+R&4294967295}r.prototype.u=function(D,E){E===void 0&&(E=D.length);for(var b=E-this.blockSize,S=this.B,A=this.h,R=0;R<E;){if(A==0)for(;R<=b;)i(this,D,R),R+=this.blockSize;if(typeof D=="string"){for(;R<E;)if(S[A++]=D.charCodeAt(R++),A==this.blockSize){i(this,S),A=0;break}}else for(;R<E;)if(S[A++]=D[R++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=E},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var E=1;E<D.length-8;++E)D[E]=0;var b=8*this.o;for(E=D.length-8;E<D.length;++E)D[E]=b&255,b/=256;for(this.u(D),D=Array(16),E=b=0;4>E;++E)for(var S=0;32>S;S+=8)D[b++]=this.g[E]>>>S&255;return D};function o(D,E){var b=a;return Object.prototype.hasOwnProperty.call(b,D)?b[D]:b[D]=E(D)}function s(D,E){this.h=E;for(var b=[],S=!0,A=D.length-1;0<=A;A--){var R=D[A]|0;S&&R==E||(b[A]=R,S=!1)}this.g=b}var a={};function u(D){return-128<=D&&128>D?o(D,function(E){return new s([E|0],0>E?-1:0)}):new s([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return m;if(0>D)return N(d(-D));for(var E=[],b=1,S=0;D>=b;S++)E[S]=D/b|0,b*=4294967296;return new s(E,0)}function p(D,E){if(D.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(D.charAt(0)=="-")return N(p(D.substring(1),E));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(E,8)),S=m,A=0;A<D.length;A+=8){var R=Math.min(8,D.length-A),T=parseInt(D.substring(A,A+R),E);8>R?(R=d(Math.pow(E,R)),S=S.j(R).add(d(T))):(S=S.j(b),S=S.add(d(T)))}return S}var m=u(0),_=u(1),I=u(16777216);n=s.prototype,n.m=function(){if(k(this))return-N(this).m();for(var D=0,E=1,b=0;b<this.g.length;b++){var S=this.i(b);D+=(0<=S?S:4294967296+S)*E,E*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(k(this))return"-"+N(this).toString(D);for(var E=d(Math.pow(D,6)),b=this,S="";;){var A=ee(b,E).g;b=B(b,A.j(E));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(D);if(b=A,x(b))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var E=0;E<D.g.length;E++)if(D.g[E]!=0)return!1;return!0}function k(D){return D.h==-1}n.l=function(D){return D=B(this,D),k(D)?-1:x(D)?0:1};function N(D){for(var E=D.g.length,b=[],S=0;S<E;S++)b[S]=~D.g[S];return new s(b,~D.h).add(_)}n.abs=function(){return k(this)?N(this):this},n.add=function(D){for(var E=Math.max(this.g.length,D.g.length),b=[],S=0,A=0;A<=E;A++){var R=S+(this.i(A)&65535)+(D.i(A)&65535),T=(R>>>16)+(this.i(A)>>>16)+(D.i(A)>>>16);S=T>>>16,R&=65535,T&=65535,b[A]=T<<16|R}return new s(b,b[b.length-1]&-2147483648?-1:0)};function B(D,E){return D.add(N(E))}n.j=function(D){if(x(this)||x(D))return m;if(k(this))return k(D)?N(this).j(N(D)):N(N(this).j(D));if(k(D))return N(this.j(N(D)));if(0>this.l(I)&&0>D.l(I))return d(this.m()*D.m());for(var E=this.g.length+D.g.length,b=[],S=0;S<2*E;S++)b[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<D.g.length;A++){var R=this.i(S)>>>16,T=this.i(S)&65535,Vn=D.i(A)>>>16,Si=D.i(A)&65535;b[2*S+2*A]+=T*Si,X(b,2*S+2*A),b[2*S+2*A+1]+=R*Si,X(b,2*S+2*A+1),b[2*S+2*A+1]+=T*Vn,X(b,2*S+2*A+1),b[2*S+2*A+2]+=R*Vn,X(b,2*S+2*A+2)}for(S=0;S<E;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=E;S<2*E;S++)b[S]=0;return new s(b,0)};function X(D,E){for(;(D[E]&65535)!=D[E];)D[E+1]+=D[E]>>>16,D[E]&=65535,E++}function G(D,E){this.g=D,this.h=E}function ee(D,E){if(x(E))throw Error("division by zero");if(x(D))return new G(m,m);if(k(D))return E=ee(N(D),E),new G(N(E.g),N(E.h));if(k(E))return E=ee(D,N(E)),new G(N(E.g),E.h);if(30<D.g.length){if(k(D)||k(E))throw Error("slowDivide_ only works with positive integers.");for(var b=_,S=E;0>=S.l(D);)b=pe(b),S=pe(S);var A=ie(b,1),R=ie(S,1);for(S=ie(S,2),b=ie(b,2);!x(S);){var T=R.add(S);0>=T.l(D)&&(A=A.add(b),R=T),S=ie(S,1),b=ie(b,1)}return E=B(D,A.j(E)),new G(A,E)}for(A=m;0<=D.l(E);){for(b=Math.max(1,Math.floor(D.m()/E.m())),S=Math.ceil(Math.log(b)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=d(b),T=R.j(E);k(T)||0<T.l(D);)b-=S,R=d(b),T=R.j(E);x(R)&&(R=_),A=A.add(R),D=B(D,T)}return new G(A,D)}n.A=function(D){return ee(this,D).h},n.and=function(D){for(var E=Math.max(this.g.length,D.g.length),b=[],S=0;S<E;S++)b[S]=this.i(S)&D.i(S);return new s(b,this.h&D.h)},n.or=function(D){for(var E=Math.max(this.g.length,D.g.length),b=[],S=0;S<E;S++)b[S]=this.i(S)|D.i(S);return new s(b,this.h|D.h)},n.xor=function(D){for(var E=Math.max(this.g.length,D.g.length),b=[],S=0;S<E;S++)b[S]=this.i(S)^D.i(S);return new s(b,this.h^D.h)};function pe(D){for(var E=D.g.length+1,b=[],S=0;S<E;S++)b[S]=D.i(S)<<1|D.i(S-1)>>>31;return new s(b,D.h)}function ie(D,E){var b=E>>5;E%=32;for(var S=D.g.length-b,A=[],R=0;R<S;R++)A[R]=0<E?D.i(R+b)>>>E|D.i(R+b+1)<<32-E:D.i(R+b);return new s(A,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OI=vM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=p,Ao=vM.Integer=s}).apply(typeof yM<"u"?yM:typeof self<"u"?self:typeof window<"u"?window:{});var dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vi={};var kI,Bz,_c,FI,Vl,hm,LI,VI,UI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,g){return c==Array.prototype||c==Object.prototype||(c[f]=g.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof dm=="object"&&dm];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(c,f){if(f)e:{var g=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var M=c[v];if(!(M in g))break e;g=g[M]}c=c[c.length-1],v=g[c],f=f(v),f!=v&&f!=null&&e(g,c,{configurable:!0,writable:!0,value:f})}}function o(c,f){c instanceof String&&(c+="");var g=0,v=!1,M={next:function(){if(!v&&g<c.length){var O=g++;return{value:f(O,c[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return o(this,function(f,g){return g})}});var s=s||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,g){return c.call.apply(c.bind,arguments)}function m(c,f,g){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,v),c.apply(f,M)}}return function(){return c.apply(f,arguments)}}function _(c,f,g){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,_.apply(null,arguments)}function I(c,f){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function x(c,f){function g(){}g.prototype=f.prototype,c.aa=f.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(v,M,O){for(var q=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)q[Le-2]=arguments[Le];return f.prototype[M].apply(v,q)}}function k(c){let f=c.length;if(0<f){let g=Array(f);for(let v=0;v<f;v++)g[v]=c[v];return g}return[]}function N(c,f){for(let g=1;g<arguments.length;g++){let v=arguments[g];if(u(v)){let M=c.length||0,O=v.length||0;c.length=M+O;for(let q=0;q<O;q++)c[M+q]=v[q]}else c.push(v)}}class B{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function X(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var pe=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ie(c,f,g){for(let v in c)f.call(g,c[v],v,c)}function D(c,f){for(let g in c)f.call(void 0,c[g],g,c)}function E(c){let f={};for(let g in c)f[g]=c[g];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(c,f){let g,v;for(let M=1;M<arguments.length;M++){v=arguments[M];for(g in v)c[g]=v[g];for(let O=0;O<b.length;O++)g=b[O],Object.prototype.hasOwnProperty.call(v,g)&&(c[g]=v[g])}}function A(c){var f=1;c=c.split(":");let g=[];for(;0<f&&c.length;)g.push(c.shift()),f--;return c.length&&g.push(c.join(":")),g}function R(c){a.setTimeout(()=>{throw c},0)}function T(){var c=Ri;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class Vn{constructor(){this.h=this.g=null}add(f,g){let v=Si.get();v.set(f,g),this.h?this.h.next=v:this.g=v,this.h=v}}var Si=new B(()=>new qc,c=>c.reset());class qc{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ai,Hr=!1,Ri=new Vn,cn=()=>{let c=a.Promise.resolve(void 0);Ai=()=>{c.then(xi)}};var xi=()=>{for(var c;c=T();){try{c.h.call(c.g)}catch(g){R(g)}var f=Si;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}Hr=!1};function kt(){this.s=this.s,this.C=this.C}kt.prototype.s=!1,kt.prototype.ma=function(){this.s||(this.s=!0,this.N())},kt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var Mi=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return c}();function Un(c,f){if(Tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(pe){e:{try{ee(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else g=="mouseover"?f=c.fromElement:g=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ud[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Un.aa.h.call(this)}}x(Un,Tt);var ud={2:"touch",3:"pen",4:"mouse"};Un.prototype.h=function(){Un.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var cr="closure_listenable_"+(1e6*Math.random()|0),zc=0;function hg(c,f,g,v,M){this.listener=c,this.proxy=null,this.src=f,this.type=g,this.capture=!!v,this.ha=M,this.key=++zc,this.da=this.fa=!1}function Ni(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pi(c){this.src=c,this.g={},this.h=0}Pi.prototype.add=function(c,f,g,v,M){var O=c.toString();c=this.g[O],c||(c=this.g[O]=[],this.h++);var q=Gc(c,f,v,M);return-1<q?(f=c[q],g||(f.fa=!1)):(f=new hg(f,this.src,O,!!v,M),f.fa=g,c.push(f)),f};function Oi(c,f){var g=f.type;if(g in c.g){var v=c.g[g],M=Array.prototype.indexOf.call(v,f,void 0),O;(O=0<=M)&&Array.prototype.splice.call(v,M,1),O&&(Ni(f),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Gc(c,f,g,v){for(var M=0;M<c.length;++M){var O=c[M];if(!O.da&&O.listener==f&&O.capture==!!g&&O.ha==v)return M}return-1}var Mt="closure_lm_"+(1e6*Math.random()|0),un={};function ld(c,f,g,v,M){if(v&&v.once)return Wc(c,f,g,v,M);if(Array.isArray(f)){for(var O=0;O<f.length;O++)ld(c,f[O],g,v,M);return null}return g=ct(g),c&&c[cr]?c.K(f,g,d(v)?!!v.capture:!!v,M):Ft(c,f,g,!1,v,M)}function Ft(c,f,g,v,M,O){if(!f)throw Error("Invalid event type");var q=d(M)?!!M.capture:!!M,Le=jn(c);if(Le||(c[Mt]=Le=new Pi(c)),g=Le.add(f,g,v,q,O),g.proxy)return g;if(v=Qs(),g.proxy=v,v.src=c,v.listener=g,c.addEventListener)Mi||(M=q),M===void 0&&(M=!1),c.addEventListener(f.toString(),v,M);else if(c.attachEvent)c.attachEvent(ln(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Qs(){function c(g){return f.call(c.src,c.listener,g)}let f=ur;return c}function Wc(c,f,g,v,M){if(Array.isArray(f)){for(var O=0;O<f.length;O++)Wc(c,f[O],g,v,M);return null}return g=ct(g),c&&c[cr]?c.L(f,g,d(v)?!!v.capture:!!v,M):Ft(c,f,g,!0,v,M)}function Kc(c,f,g,v,M){if(Array.isArray(f))for(var O=0;O<f.length;O++)Kc(c,f[O],g,v,M);else v=d(v)?!!v.capture:!!v,g=ct(g),c&&c[cr]?(c=c.i,f=String(f).toString(),f in c.g&&(O=c.g[f],g=Gc(O,g,v,M),-1<g&&(Ni(O[g]),Array.prototype.splice.call(O,g,1),O.length==0&&(delete c.g[f],c.h--)))):c&&(c=jn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Gc(f,g,v,M)),(g=-1<c?f[c]:null)&&Ce(g))}function Ce(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[cr])Oi(f.i,c);else{var g=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(g,v,c.capture):f.detachEvent?f.detachEvent(ln(g),v):f.addListener&&f.removeListener&&f.removeListener(v),(g=jn(f))?(Oi(g,c),g.h==0&&(g.src=null,f[Mt]=null)):Ni(c)}}}function ln(c){return c in un?un[c]:un[c]="on"+c}function ur(c,f){if(c.da)c=!0;else{f=new Un(f,this);var g=c.listener,v=c.ha||c.src;c.fa&&Ce(c),c=g.call(v,f)}return c}function jn(c){return c=c[Mt],c instanceof Pi?c:null}var Xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ct(c){return typeof c=="function"?c:(c[Xe]||(c[Xe]=function(f){return c.handleEvent(f)}),c[Xe])}function ut(){kt.call(this),this.i=new Pi(this),this.M=this,this.F=null}x(ut,kt),ut.prototype[cr]=!0,ut.prototype.removeEventListener=function(c,f,g,v){Kc(this,c,f,g,v)};function Dt(c,f){var g,v=c.F;if(v)for(g=[];v;v=v.F)g.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new Tt(f,c);else if(f instanceof Tt)f.target=f.target||c;else{var M=f;f=new Tt(v,c),S(f,M)}if(M=!0,g)for(var O=g.length-1;0<=O;O--){var q=f.g=g[O];M=lr(q,v,!0,f)&&M}if(q=f.g=c,M=lr(q,v,!0,f)&&M,M=lr(q,v,!1,f)&&M,g)for(O=0;O<g.length;O++)q=f.g=g[O],M=lr(q,v,!1,f)&&M}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var g=c.g[f],v=0;v<g.length;v++)Ni(g[v]);delete c.g[f],c.h--}}this.F=null},ut.prototype.K=function(c,f,g,v){return this.i.add(String(c),f,!1,g,v)},ut.prototype.L=function(c,f,g,v){return this.i.add(String(c),f,!0,g,v)};function lr(c,f,g,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,O=0;O<f.length;++O){var q=f[O];if(q&&!q.da&&q.capture==g){var Le=q.listener,vt=q.ha||q.src;q.fa&&Oi(c.i,q),M=Le.call(vt,v)!==!1&&M}}return M&&!v.defaultPrevented}function Nt(c,f,g){if(typeof c=="function")g&&(c=_(c,g));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function dd(c){c.g=Nt(()=>{c.g=null,c.i&&(c.i=!1,dd(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class hd extends kt{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:dd(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ki(c){kt.call(this),this.h=c,this.g={}}x(ki,kt);var Ys=[];function fd(c){ie(c.g,function(f,g){this.g.hasOwnProperty(g)&&Ce(f)},c),c.g={}}ki.prototype.N=function(){ki.aa.N.call(this),fd(this)},ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qc=a.JSON.stringify,fg=a.JSON.parse,pg=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Bn(){}Bn.prototype.h=null;function pd(c){return c.h||(c.h=c.i())}function md(){}var ko={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yc(){Tt.call(this,"d")}x(Yc,Tt);function Zc(){Tt.call(this,"c")}x(Zc,Tt);var $n={},gd=null;function Zs(){return gd=gd||new ut}$n.La="serverreachability";function yd(c){Tt.call(this,$n.La,c)}x(yd,Tt);function Fo(c){let f=Zs();Dt(f,new yd(f))}$n.STAT_EVENT="statevent";function vd(c,f){Tt.call(this,$n.STAT_EVENT,c),this.stat=f}x(vd,Tt);function yt(c){let f=Zs();Dt(f,new vd(f,c))}$n.Ma="timingevent";function _d(c,f){Tt.call(this,$n.Ma,c),this.size=f}x(_d,Tt);function Lo(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function Vo(){this.g=!0}Vo.prototype.xa=function(){this.g=!1};function mg(c,f,g,v,M,O){c.info(function(){if(c.g)if(O)for(var q="",Le=O.split("&"),vt=0;vt<Le.length;vt++){var Re=Le[vt].split("=");if(1<Re.length){var St=Re[0];Re=Re[1];var _t=St.split("_");q=2<=_t.length&&_t[1]=="type"?q+(St+"="+Re+"&"):q+(St+"=redacted&")}}else q=null;else q=O;return"XMLHTTP REQ ("+v+") [attempt "+M+"]: "+f+`
`+g+`
`+q})}function gg(c,f,g,v,M,O,q){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+M+"]: "+f+`
`+g+`
`+O+" "+q})}function Pe(c,f,g,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+vg(c,g)+(v?" "+v:"")})}function yg(c,f){c.info(function(){return"TIMEOUT: "+f})}Vo.prototype.info=function(){};function vg(c,f){if(!c.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var v=g[c];if(!(2>v.length)){var M=v[1];if(Array.isArray(M)&&!(1>M.length)){var O=M[0];if(O!="noop"&&O!="stop"&&O!="close")for(var q=1;q<M.length;q++)M[q]=""}}}}return Qc(g)}catch{return f}}var Js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jc;function Xs(){}x(Xs,Bn),Xs.prototype.g=function(){return new XMLHttpRequest},Xs.prototype.i=function(){return{}},Jc=new Xs;function Sn(c,f,g,v){this.j=c,this.i=f,this.l=g,this.R=v||1,this.U=new ki(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fi}function Fi(){this.i=null,this.g="",this.h=!1}var Xc={},Li={};function We(c,f,g){c.L=1,c.v=ta(An(f)),c.m=g,c.P=!0,Id(c,null)}function Id(c,f){c.F=Date.now(),Uo(c),c.A=An(c.v);var g=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),Ld(g.i,"t",v),c.C=0,g=c.j.J,c.h=new Fi,c.g=pu(c.j,g?f:null,!c.m),0<c.O&&(c.M=new hd(_(c.Y,c,c.g),c.O)),f=c.U,g=c.g,v=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(Ys[0]=M.toString()),M=Ys);for(var O=0;O<M.length;O++){var q=ld(g,M[O],v||f.handleEvent,!1,f.h||f);if(!q)break;f.g[q.key]=q}f=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Fo(),mg(c.i,c.u,c.A,c.l,c.R,c.m)}Sn.prototype.ca=function(c){c=c.target;let f=this.M;f&&qn(c)==3?f.j():this.Y(c)},Sn.prototype.Y=function(c){try{if(c==this.g)e:{let _t=qn(this.g);var f=this.g.Ba();let mr=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||qd(this.g)))){this.J||_t!=4||f==7||(f==8||0>=mr?Fo(3):Fo(2)),eu(this);var g=this.g.Z();this.X=g;t:if(Ed(this)){var v=qd(this.g);c="";var M=v.length,O=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dr(this),jo(this);var q="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(O&&f==M-1)});v.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=g==200,gg(this.i,this.u,this.A,this.l,this.R,_t,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,vt=this.g;if((Le=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Le)){var Re=Le;break t}}Re=null}if(g=Re)Pe(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tu(this,g);else{this.o=!1,this.s=3,yt(12),dr(this),jo(this);break e}}if(this.P){g=!0;let dn;for(;!this.J&&this.C<q.length;)if(dn=_g(this,q),dn==Li){_t==4&&(this.s=4,yt(14),g=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==Xc){this.s=4,yt(15),Pe(this.i,this.l,q,"[Invalid Chunk]"),g=!1;break}else Pe(this.i,this.l,dn,null),tu(this,dn);if(Ed(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||q.length!=0||this.h.h||(this.s=1,yt(16),g=!1),this.o=this.o&&g,!g)Pe(this.i,this.l,q,"[Invalid Chunked Response]"),dr(this),jo(this);else if(0<q.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Hi(St),St.M=!0,yt(11))}}else Pe(this.i,this.l,q,null),tu(this,q);_t==4&&dr(this),this.o&&!this.J&&(_t==4?lu(this.j,this):(this.o=!1,Uo(this)))}else Ag(this.g),g==400&&0<q.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),dr(this),jo(this)}}}catch{}finally{}};function Ed(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _g(c,f){var g=c.C,v=f.indexOf(`
`,g);return v==-1?Li:(g=Number(f.substring(g,v)),isNaN(g)?Xc:(v+=1,v+g>f.length?Li:(f=f.slice(v,v+g),c.C=v+g,f)))}Sn.prototype.cancel=function(){this.J=!0,dr(this)};function Uo(c){c.S=Date.now()+c.I,bd(c,c.I)}function bd(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Lo(_(c.ba,c),f)}function eu(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Sn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(yg(this.i,this.A),this.L!=2&&(Fo(),yt(17)),dr(this),this.s=2,jo(this)):bd(this,this.S-c)};function jo(c){c.j.G==0||c.J||lu(c.j,c)}function dr(c){eu(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,fd(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function tu(c,f){try{var g=c.j;if(g.G!=0&&(g.g==c||nu(g.h,c))){if(!c.K&&nu(g.h,c)&&g.G==3){try{var v=g.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var M=v;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Ko(g),oa(g);else break e;Wo(g),yt(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=Lo(_(g.Za,g),6e3));if(1>=Sd(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else pr(g,11)}else if((c.K||g.g==c)&&Ko(g),!X(f))for(M=g.Da.g.parse(f),f=0;f<M.length;f++){let Re=M[f];if(g.T=Re[0],Re=Re[1],g.G==2)if(Re[0]=="c"){g.K=Re[1],g.ia=Re[2];let St=Re[3];St!=null&&(g.la=St,g.j.info("VER="+g.la));let _t=Re[4];_t!=null&&(g.Aa=_t,g.j.info("SVER="+g.Aa));let mr=Re[5];mr!=null&&typeof mr=="number"&&0<mr&&(v=1.5*mr,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;let dn=c.g;if(dn){let aa=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var O=v.h;O.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(ru(O,O.h),O.h=null))}if(v.D){let gu=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;gu&&(v.ya=gu,$e(v.I,v.D,gu))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var q=c;if(v.qa=fu(v,v.J?v.ia:null,v.W),q.K){Ad(v.h,q);var Le=q,vt=v.L;vt&&(Le.I=vt),Le.B&&(eu(Le),Uo(Le)),v.g=q}else uu(v);0<g.i.length&&sa(g)}else Re[0]!="stop"&&Re[0]!="close"||pr(g,7);else g.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?pr(g,7):ia(g):Re[0]!="noop"&&g.l&&g.l.ta(Re),g.v=0)}}Fo(4)}catch{}}var Cd=class{constructor(c,f){this.g=c,this.map=f}};function Td(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dd(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sd(c){return c.h?1:c.g?c.g.size:0}function nu(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function ru(c,f){c.g?c.g.add(f):c.h=f}function Ad(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Td.prototype.cancel=function(){if(this.i=Rd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Rd(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let g of c.g.values())f=f.concat(g.D);return f}return k(c.i)}function xd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],g=c.length,v=0;v<g;v++)f.push(c[v]);return f}f=[],g=0;for(v in c)f[g++]=c[v];return f}function wg(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var g=0;g<c;g++)f.push(g);return f}f=[],g=0;for(let v in c)f[g++]=v;return f}}}function iu(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var g=wg(c),v=xd(c),M=v.length,O=0;O<M;O++)f.call(void 0,v[O],g&&g[O],c)}var Md=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ig(c,f){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var v=c[g].indexOf("="),M=null;if(0<=v){var O=c[g].substring(0,v);M=c[g].substring(v+1)}else O=c[g];f(O,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Xt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Xt){this.h=c.h,ea(this,c.j),this.o=c.o,this.g=c.g,Vi(this,c.s),this.l=c.l;var f=c.i,g=new Ho;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),ou(this,g),this.m=c.m}else c&&(f=String(c).match(Md))?(this.h=!1,ea(this,f[1]||"",!0),this.o=Bo(f[2]||""),this.g=Bo(f[3]||"",!0),Vi(this,f[4]),this.l=Bo(f[5]||"",!0),ou(this,f[6]||"",!0),this.m=Bo(f[7]||"")):(this.h=!1,this.i=new Ho(null,this.h))}Xt.prototype.toString=function(){var c=[],f=this.j;f&&c.push($o(f,Nd,!0),":");var g=this.g;return(g||f=="file")&&(c.push("//"),(f=this.o)&&c.push($o(f,Nd,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push($o(g,g.charAt(0)=="/"?bg:Ui,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",$o(g,Od)),c.join("")};function An(c){return new Xt(c)}function ea(c,f,g){c.j=g?Bo(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Vi(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function ou(c,f,g){f instanceof Ho?(c.i=f,Cg(c.i,c.h)):(g||(f=$o(f,Pd)),c.i=new Ho(f,c.h))}function $e(c,f,g){c.i.set(f,g)}function ta(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bo(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function $o(c,f,g){return typeof c=="string"?(c=encodeURI(c).replace(f,Eg),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Eg(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Nd=/[#\/\?@]/g,Ui=/[#\?:]/g,bg=/[#\?]/g,Pd=/[#\?@]/g,Od=/#/g;function Ho(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function hr(c){c.g||(c.g=new Map,c.h=0,c.i&&Ig(c.i,function(f,g){c.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}n=Ho.prototype,n.add=function(c,f){hr(this),this.i=null,c=ji(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(f),this.h+=1,this};function kd(c,f){hr(c),f=ji(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Fd(c,f){return hr(c),f=ji(c,f),c.g.has(f)}n.forEach=function(c,f){hr(this),this.g.forEach(function(g,v){g.forEach(function(M){c.call(f,M,v,this)},this)},this)},n.na=function(){hr(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let v=0;v<f.length;v++){let M=c[v];for(let O=0;O<M.length;O++)g.push(f[v])}return g},n.V=function(c){hr(this);let f=[];if(typeof c=="string")Fd(this,c)&&(f=f.concat(this.g.get(ji(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)f=f.concat(c[g])}return f},n.set=function(c,f){return hr(this),this.i=null,c=ji(this,c),Fd(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},n.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function Ld(c,f,g){kd(c,f),0<g.length&&(c.i=null,c.g.set(ji(c,f),k(g)),c.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var v=f[g];let O=encodeURIComponent(String(v)),q=this.V(v);for(v=0;v<q.length;v++){var M=O;q[v]!==""&&(M+="="+encodeURIComponent(String(q[v]))),c.push(M)}}return this.i=c.join("&")};function ji(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function Cg(c,f){f&&!c.j&&(hr(c),c.i=null,c.g.forEach(function(g,v){var M=v.toLowerCase();v!=M&&(kd(this,v),Ld(this,M,g))},c)),c.j=f}function Bi(c,f){let g=new Vo;if(a.Image){let v=new Image;v.onload=I(fr,g,"TestLoadImage: loaded",!0,f,v),v.onerror=I(fr,g,"TestLoadImage: error",!1,f,v),v.onabort=I(fr,g,"TestLoadImage: abort",!1,f,v),v.ontimeout=I(fr,g,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function Tg(c,f){let g=new Vo,v=new AbortController,M=setTimeout(()=>{v.abort(),fr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(O=>{clearTimeout(M),O.ok?fr(g,"TestPingServer: ok",!0,f):fr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),fr(g,"TestPingServer: error",!1,f)})}function fr(c,f,g,v,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),v(g)}catch{}}function Vd(){this.g=new pg}function Dg(c,f,g){let v=g||"";try{iu(c,function(M,O){let q=M;d(M)&&(q=Qc(M)),f.push(v+O+"="+encodeURIComponent(q))})}catch(M){throw f.push(v+"type="+encodeURIComponent("_badmap")),M}}function en(c){this.l=c.Ub||null,this.j=c.eb||!1}x(en,Bn),en.prototype.g=function(){return new na(this.l,this.j)},en.prototype.i=function(c){return function(){return c}}({});function na(c,f){ut.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(na,ut),n=na.prototype,n.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,qo(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qo(this)),this.g&&(this.readyState=3,qo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;su(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function su(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Hn(this):qo(this),this.readyState==3&&su(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Hn(this))},n.Qa=function(c){this.g&&(this.response=c,Hn(this))},n.ga=function(){this.g&&Hn(this)};function Hn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,qo(c)}n.setRequestHeader=function(c,f){this.u.append(c,f)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=f.next();return c.join(`\r
`)};function qo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ud(c){let f="";return ie(c,function(g,v){f+=v,f+=":",f+=g,f+=`\r
`}),f}function au(c,f,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=Ud(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):$e(c,f,g))}function Ke(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ke,ut);var $i=/^https?$/i,Sg=["POST","PUT"];n=Ke.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,f,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jc.g(),this.v=this.o?pd(this.o):pd(Jc),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(O){jd(this,O);return}if(c=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var M in v)g.set(M,v[M]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let O of v.keys())g.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(O=>O.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Sg,f,void 0))||v||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,q]of g)this.g.setRequestHeader(O,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hd(this),this.u=!0,this.g.send(c),this.u=!1}catch(O){jd(this,O)}};function jd(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,Bd(c),ra(c)}function Bd(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),ra(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ra(this,!0)),Ke.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$d(this):this.bb())},n.bb=function(){$d(this)};function $d(c){if(c.h&&typeof s<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)Nt(c.Ea,0,c);else if(Dt(c,"readystatechange"),qn(c)==4){c.h=!1;try{let q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var v;if(v=q===0){var M=String(c.D).match(Md)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),v=!$i.test(M?M.toLowerCase():"")}g=v}if(g)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var O=2<qn(c)?c.g.statusText:""}catch{O=""}c.l=O+" ["+c.Z()+"]",Bd(c)}}finally{ra(c)}}}}function ra(c,f){if(c.g){Hd(c);let g=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||Dt(c,"ready");try{g.onreadystatechange=v}catch{}}}function Hd(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),fg(f)}};function qd(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ag(c){let f={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(X(c[v]))continue;var g=A(c[v]);let M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let O=f[M]||[];f[M]=O,O.push(g)}D(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zo(c,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||f}function Go(c){this.Aa=0,this.i=[],this.j=new Vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zo("baseRetryDelayMs",5e3,c),this.cb=zo("retryDelaySeedMs",1e4,c),this.Wa=zo("forwardChannelMaxRetries",2,c),this.wa=zo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Td(c&&c.concurrentRequestLimit),this.Da=new Vd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Go.prototype,n.la=8,n.G=1,n.connect=function(c,f,g,v){yt(0),this.W=c,this.H=f||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=fu(this,null,this.W),sa(this)};function ia(c){if(zd(c),c.G==3){var f=c.U++,g=An(c.I);if($e(g,"SID",c.K),$e(g,"RID",f),$e(g,"TYPE","terminate"),qr(c,g),f=new Sn(c,c.j,f),f.L=2,f.v=ta(An(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=pu(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Uo(f)}hu(c)}function oa(c){c.g&&(Hi(c),c.g.cancel(),c.g=null)}function zd(c){oa(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ko(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function sa(c){if(!Dd(c.h)&&!c.s){c.s=!0;var f=c.Ga;Ai||cn(),Hr||(Ai(),Hr=!0),Ri.add(f,c),c.B=0}}function Gd(c,f){return Sd(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Lo(_(c.Ga,c,f),du(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let M=new Sn(this,this.j,c),O=this.o;if(this.S&&(O?(O=E(O),S(O,this.S)):O=this.S),this.m!==null||this.O||(M.H=O,O=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=cu(this,M,f),g=An(this.I),$e(g,"RID",c),$e(g,"CVER",22),this.D&&$e(g,"X-HTTP-Session-Id",this.D),qr(this,g),O&&(this.O?f="headers="+encodeURIComponent(String(Ud(O)))+"&"+f:this.m&&au(g,this.m,O)),ru(this.h,M),this.Ua&&$e(g,"TYPE","init"),this.P?($e(g,"$req",f),$e(g,"SID","null"),M.T=!0,We(M,g,null)):We(M,g,f),this.G=2}}else this.G==3&&(c?Wd(this,c):this.i.length==0||Dd(this.h)||Wd(this))};function Wd(c,f){var g;f?g=f.l:g=c.U++;let v=An(c.I);$e(v,"SID",c.K),$e(v,"RID",g),$e(v,"AID",c.T),qr(c,v),c.m&&c.o&&au(v,c.m,c.o),g=new Sn(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),f&&(c.i=f.D.concat(c.i)),f=cu(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ru(c.h,g),We(g,v,f)}function qr(c,f){c.H&&ie(c.H,function(g,v){$e(f,v,g)}),c.l&&iu({},function(g,v){$e(f,v,g)})}function cu(c,f,g){g=Math.min(c.i.length,g);var v=c.l?_(c.l.Na,c.l,c):null;e:{var M=c.i;let O=-1;for(;;){let q=["count="+g];O==-1?0<g?(O=M[0].g,q.push("ofs="+O)):O=0:q.push("ofs="+O);let Le=!0;for(let vt=0;vt<g;vt++){let Re=M[vt].g,St=M[vt].map;if(Re-=O,0>Re)O=Math.max(0,M[vt].g-100),Le=!1;else try{Dg(St,q,"req"+Re+"_")}catch{v&&v(St)}}if(Le){v=q.join("&");break e}}}return c=c.i.splice(0,g),f.D=c,v}function uu(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;Ai||cn(),Hr||(Ai(),Hr=!0),Ri.add(f,c),c.v=0}}function Wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Lo(_(c.Fa,c),du(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Kd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Lo(_(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),oa(this),Kd(this))};function Hi(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Kd(c){c.g=new Sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=An(c.qa);$e(f,"RID","rpc"),$e(f,"SID",c.K),$e(f,"AID",c.T),$e(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(f,"TO",c.ja),$e(f,"TYPE","xmlhttp"),qr(c,f),c.m&&c.o&&au(f,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=ta(An(f)),g.m=null,g.P=!0,Id(g,c)}n.Za=function(){this.C!=null&&(this.C=null,oa(this),Wo(this),yt(19))};function Ko(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function lu(c,f){var g=null;if(c.g==f){Ko(c),Hi(c),c.g=null;var v=2}else if(nu(c.h,f))g=f.D,Ad(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var M=c.B;v=Zs(),Dt(v,new _d(v,g)),sa(c)}else uu(c);else if(M=f.s,M==3||M==0&&0<f.X||!(v==1&&Gd(c,f)||v==2&&Wo(c)))switch(g&&0<g.length&&(f=c.h,f.i=f.i.concat(g)),M){case 1:pr(c,5);break;case 4:pr(c,10);break;case 3:pr(c,6);break;default:pr(c,2)}}}function du(c,f){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*f}function pr(c,f){if(c.j.info("Error code "+f),f==2){var g=_(c.fb,c),v=c.Xa;let M=!v;v=new Xt(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ea(v,"https"),ta(v),M?Bi(v.toString(),g):Tg(v.toString(),g)}else yt(2);c.G=0,c.l&&c.l.sa(f),hu(c),zd(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function hu(c){if(c.G=0,c.ka=[],c.l){let f=Rd(c.h);(f.length!=0||c.i.length!=0)&&(N(c.ka,f),N(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function fu(c,f,g){var v=g instanceof Xt?An(g):new Xt(g);if(v.g!="")f&&(v.g=f+"."+v.g),Vi(v,v.s);else{var M=a.location;v=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var O=new Xt(null);v&&ea(O,v),f&&(O.g=f),M&&Vi(O,M),g&&(O.l=g),v=O}return g=c.D,f=c.ya,g&&f&&$e(v,g,f),$e(v,"VER",c.la),qr(c,v),v}function pu(c,f,g){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Ke(new en({eb:g})):new Ke(c.pa),f.Ha(c.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}n=mu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Qo(){}Qo.prototype.g=function(c,f){return new lt(c,f)};function lt(c,f){ut.call(this),this.g=new Go(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!X(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!X(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new qi(this)}x(lt,ut),lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},lt.prototype.close=function(){ia(this.g)},lt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Qc(c),c=g);f.i.push(new Cd(f.Ya++,c)),f.G==3&&sa(f)},lt.prototype.N=function(){this.g.l=null,delete this.j,ia(this.g),delete this.g,lt.aa.N.call(this)};function Qd(c){Yc.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let g in f){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}x(Qd,Yc);function Yd(){Zc.call(this),this.status=1}x(Yd,Zc);function qi(c){this.g=c}x(qi,mu),qi.prototype.ua=function(){Dt(this.g,"a")},qi.prototype.ta=function(c){Dt(this.g,new Qd(c))},qi.prototype.sa=function(c){Dt(this.g,new Yd)},qi.prototype.ra=function(){Dt(this.g,"b")},Qo.prototype.createWebChannel=Qo.prototype.g,lt.prototype.send=lt.prototype.o,lt.prototype.open=lt.prototype.m,lt.prototype.close=lt.prototype.close,UI=vi.createWebChannelTransport=function(){return new Qo},VI=vi.getStatEventTarget=function(){return Zs()},LI=vi.Event=$n,hm=vi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,Vl=vi.ErrorCode=Js,wd.COMPLETE="complete",FI=vi.EventType=wd,md.EventType=ko,ko.OPEN="a",ko.CLOSE="b",ko.ERROR="c",ko.MESSAGE="d",ut.prototype.listen=ut.prototype.K,_c=vi.WebChannel=md,Bz=vi.FetchXmlHttpFactory=en,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,kI=vi.XhrIo=Ke}).apply(typeof dm<"u"?dm:typeof self<"u"?self:typeof window<"u"?window:{});var _M="@firebase/firestore";var xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");var jc="10.14.0";var js=new Io("@firebase/firestore");function Ul(){return js.logLevel}function te(n,...e){if(js.logLevel<=Se.DEBUG){let t=e.map(_b);js.debug(`Firestore (${jc}): ${n}`,...t)}}function wi(n,...e){if(js.logLevel<=Se.ERROR){let t=e.map(_b);js.error(`Firestore (${jc}): ${n}`,...t)}}function Dc(n,...e){if(js.logLevel<=Se.WARN){let t=e.map(_b);js.warn(`Firestore (${jc}): ${n}`,...t)}}function _b(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ce(n="Unexpected state"){let e=`FIRESTORE (${jc}) INTERNAL ASSERTION FAILED: `+n;throw wi(e),new Error(e)}function je(n,e){n||ce()}function de(n,e){return n}var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},re=class extends Jt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var sr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ym=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},qI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xt.UNAUTHENTICATED))}shutdown(){}},zI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},GI=class{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new sr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new sr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new ym(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new xt(e)}},WI=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},KI=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new WI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},QI=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},YI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){je(this.o===void 0);let r=o=>{o.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(je(typeof t.token=="string"),this.R=t.token,new QI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function $z(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var vm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=$z(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function ke(n,e){return n<e?-1:n>e?1:0}function Sc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Ot=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new re(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ye=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ot(0,0))}static max(){return new n(new Ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var _m=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ce(),r===void 0?r=e.length-t:r>e.length-t&&ce(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},nt=class n extends _m{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new re(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Hz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tn=class n extends _m{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Hz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new re(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new re(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new re(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new re(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ae=class n{constructor(e){this.path=e}static fromPath(e){return new n(nt.fromString(e))}static fromName(e){return new n(nt.fromString(e).popFirst(5))}static empty(){return new n(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new nt(e.slice()))}};var ZI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};ZI.UNKNOWN_ID=-1;function qz(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Ot(t+1,0):new Ot(t,r));return new Bs(i,ae.empty(),e)}function zz(n){return new Bs(n.readTime,n.key,-1)}var Bs=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ye.min(),ae.empty(),-1)}static max(){return new n(ye.max(),ae.empty(),-1)}};function Gz(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ae.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}var Wz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",JI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function nd(n){return C(this,null,function*(){if(n.code!==U.FAILED_PRECONDITION||n.message!==Wz)throw n;te("LocalStore","Unexpectedly lost primary lease")})}var $=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let d=u;t(e[d]).next(p=>{s[d]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function Kz(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function rd(n){return n.name==="IndexedDbTransactionError"}var YM=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Zm(n){return n==null}function zl(n){return n===0&&1/n==-1/0}function Qz(n){return typeof n=="number"&&Number.isInteger(n)&&!zl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Yz=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],VX=[...Yz,"documentOverlays"],Zz=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Jz=Zz,Xz=[...Jz,"indexConfiguration","indexState","indexEntries"];var UX=[...Xz,"globals"];function wM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var rt=class n{constructor(e,t){this.comparator=e,this.root=t||Or.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Or.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Or.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}},bc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Or=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();let e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}};Or.EMPTY=null,Or.RED=!0,Or.BLACK=!1;Or.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Or(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var qt=class n{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wm(this.data.getIterator())}getIteratorFrom(e){return new wm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},wm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Fn=class n{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new n([])}unionWith(e){let t=new qt(Tn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Im=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var zt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Im("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};zt.EMPTY_BYTE_STRING=new zt("");var e3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(n){if(je(!!n),typeof n=="string"){let e=0,t=e3.exec(n);if(je(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(n.seconds),nanos:Ze(n.nanos)}}function Ze(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xo(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}function wb(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Ib(n){let e=n.mapValue.fields.__previous_value__;return wb(e)?Ib(e):e}function Gl(n){let e=Ii(n.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}var XI=class{constructor(e,t,r,i,o,s,a,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},Em=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var fm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wb(n)?4:XM(n)?9007199254740991:JM(n)?10:11:ce()}function Lr(n,e){if(n===e)return!0;let t=$s(n);if(t!==$s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gl(n).isEqual(Gl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ii(i.timestampValue),a=Ii(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return xo(i.bytesValue).isEqual(xo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ze(i.geoPointValue.latitude)===Ze(o.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ze(i.integerValue)===Ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ze(i.doubleValue),a=Ze(o.doubleValue);return s===a?zl(s)===zl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Sc(n.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(wM(s)!==wM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Lr(s[u],a[u])))return!1;return!0}(n,e);default:return ce()}}function Wl(n,e){return(n.values||[]).find(t=>Lr(t,e))!==void 0}function Ac(n,e){if(n===e)return 0;let t=$s(n),r=$s(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ze(o.integerValue||o.doubleValue),u=Ze(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return IM(n.timestampValue,e.timestampValue);case 4:return IM(Gl(n),Gl(e));case 5:return ke(n.stringValue,e.stringValue);case 6:return function(o,s){let a=xo(o),u=xo(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=ke(a[d],u[d]);if(p!==0)return p}return ke(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ke(Ze(o.latitude),Ze(s.latitude));return a!==0?a:ke(Ze(o.longitude),Ze(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return EM(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,d,p;let m=o.fields||{},_=s.fields||{},I=(a=m.value)===null||a===void 0?void 0:a.arrayValue,x=(u=_.value)===null||u===void 0?void 0:u.arrayValue,k=ke(((d=I?.values)===null||d===void 0?void 0:d.length)||0,((p=x?.values)===null||p===void 0?void 0:p.length)||0);return k!==0?k:EM(I,x)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===fm.mapValue&&s===fm.mapValue)return 0;if(o===fm.mapValue)return 1;if(s===fm.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),d=s.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){let _=ke(u[m],p[m]);if(_!==0)return _;let I=Ac(a[u[m]],d[p[m]]);if(I!==0)return I}return ke(u.length,p.length)}(n.mapValue,e.mapValue);default:throw ce()}}function IM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);let t=Ii(n),r=Ii(e),i=ke(t.seconds,r.seconds);return i!==0?i:ke(t.nanos,r.nanos)}function EM(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ac(t[i],r[i]);if(o)return o}return ke(t.length,r.length)}function Rc(n){return eE(n)}function eE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Ii(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return xo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=eE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${eE(t.fields[s])}`;return i+"}"}(n.mapValue):ce()}function tE(n){return!!n&&"integerValue"in n}function Eb(n){return!!n&&"arrayValue"in n}function bM(n){return!!n&&"nullValue"in n}function CM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mm(n){return!!n&&"mapValue"in n}function JM(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Bl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Gs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function XM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Cn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(t)}setAll(e){let t=Tn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Bl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());mm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Gs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Bl(this.value))}};function eN(n){let e=[];return Gs(n.fields,(t,r)=>{let i=new Tn([t]);if(mm(r)){let o=eN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Fn(e)}var ar=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ye.min(),ye.min(),ye.min(),Cn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ye.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ye.min(),ye.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ye.min(),ye.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var xc=class{constructor(e,t){this.position=e,this.inclusive=t}};function TM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ae.comparator(ae.fromName(s.referenceValue),t.key):r=Ac(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function DM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Lr(n.position[t],e.position[t]))return!1;return!0}var Mc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function t3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var bm=class{},Ct=class n extends bm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new rE(e,t,r):t==="array-contains"?new sE(e,r):t==="in"?new aE(e,r):t==="not-in"?new cE(e,r):t==="array-contains-any"?new uE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new iE(e,r):new oE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ac(t,this.value)):t!==null&&$s(this.value)===$s(t)&&this.matchesComparison(Ac(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Vr=class n extends bm{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return tN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function tN(n){return n.op==="and"}function nN(n){return n3(n)&&tN(n)}function n3(n){for(let e of n.filters)if(e instanceof Vr)return!1;return!0}function nE(n){if(n instanceof Ct)return n.field.canonicalString()+n.op.toString()+Rc(n.value);if(nN(n))return n.filters.map(e=>nE(e)).join(",");{let e=n.filters.map(t=>nE(t)).join(",");return`${n.op}(${e})`}}function rN(n,e){return n instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Lr(r.value,i.value)}(n,e):n instanceof Vr?function(r,i){return i instanceof Vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&rN(s,i.filters[a]),!0):!1}(n,e):void ce()}function iN(n){return n instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${Rc(t.value)}`}(n):n instanceof Vr?function(t){return t.op.toString()+" {"+t.getFilters().map(iN).join(" ,")+"}"}(n):"Filter"}var rE=class extends Ct{constructor(e,t,r){super(e,t,r),this.key=ae.fromName(r.referenceValue)}matches(e){let t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}},iE=class extends Ct{constructor(e,t){super(e,"in",t),this.keys=oN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},oE=class extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=oN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function oN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ae.fromName(r.referenceValue))}var sE=class extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Eb(t)&&Wl(t.arrayValue,this.value)}},aE=class extends Ct{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Wl(this.value.arrayValue,t)}},cE=class extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Wl(this.value.arrayValue,t)}},uE=class extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Eb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}};var lE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function SM(n,e=null,t=[],r=[],i=null,o=null,s=null){return new lE(n,e,t,r,i,o,s)}function bb(n){let e=de(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>nE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Zm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Rc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Rc(r)).join(",")),e.ue=t}return e.ue}function Cb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!t3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DM(n.startAt,e.startAt)&&DM(n.endAt,e.endAt)}function dE(n){return ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Nc=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function r3(n,e,t,r,i,o,s,a){return new Nc(n,e,t,r,i,o,s,a)}function Tb(n){return new Nc(n)}function AM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function i3(n){return n.collectionGroup!==null}function $l(n){let e=de(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new qt(Tn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Mc(o,r))}),t.has(Tn.keyField().canonicalString())||e.ce.push(new Mc(Tn.keyField(),r))}return e.ce}function kr(n){let e=de(n);return e.le||(e.le=o3(e,$l(n))),e.le}function o3(n,e){if(n.limitType==="F")return SM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Mc(i.field,o)});let t=n.endAt?new xc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xc(n.startAt.position,n.startAt.inclusive):null;return SM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function hE(n,e,t){return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jm(n,e){return Cb(kr(n),kr(e))&&n.limitType===e.limitType}function sN(n){return`${bb(kr(n))}|lt:${n.limitType}`}function wc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>iN(i)).join(", ")}]`),Zm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Rc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Rc(i)).join(",")),`Target(${r})`}(kr(n))}; limitType=${n.limitType})`}function Xm(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ae.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of $l(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let d=TM(s,a,u);return s.inclusive?d<=0:d<0}(r.startAt,$l(r),i)||r.endAt&&!function(s,a,u){let d=TM(s,a,u);return s.inclusive?d>=0:d>0}(r.endAt,$l(r),i))}(n,e)}function s3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aN(n){return(e,t)=>{let r=!1;for(let i of $l(n)){let o=a3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function a3(n,e,t){let r=n.field.isKeyField()?ae.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),d=a.data.field(o);return u!==null&&d!==null?Ac(u,d):ce()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}var Mo=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ZM(this.inner)}size(){return this.innerSize}};var c3=new rt(ae.comparator);function Ei(){return c3}var cN=new rt(ae.comparator);function jl(...n){let e=cN;for(let t of n)e=e.insert(t.key,t);return e}function uN(n){let e=cN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ls(){return Hl()}function lN(){return Hl()}function Hl(){return new Mo(n=>n.toString(),(n,e)=>n.isEqual(e))}var u3=new rt(ae.comparator),l3=new qt(ae.comparator);function Ae(...n){let e=l3;for(let t of n)e=e.add(t);return e}var d3=new qt(ke);function h3(){return d3}function Db(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zl(e)?"-0":e}}function dN(n){return{integerValue:""+n}}function f3(n,e){return Qz(e)?dN(e):Db(n,e)}var Pc=class{constructor(){this._=void 0}};function p3(n,e,t){return n instanceof Oc?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&wb(o)&&(o=Ib(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Hs?fN(n,e):n instanceof qs?pN(n,e):function(i,o){let s=hN(i,o),a=RM(s)+RM(i.Pe);return tE(s)&&tE(i.Pe)?dN(a):Db(i.serializer,a)}(n,e)}function m3(n,e,t){return n instanceof Hs?fN(n,e):n instanceof qs?pN(n,e):t}function hN(n,e){return n instanceof kc?function(r){return tE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Oc=class extends Pc{},Hs=class extends Pc{constructor(e){super(),this.elements=e}};function fN(n,e){let t=mN(e);for(let r of n.elements)t.some(i=>Lr(i,r))||t.push(r);return{arrayValue:{values:t}}}var qs=class extends Pc{constructor(e){super(),this.elements=e}};function pN(n,e){let t=mN(e);for(let r of n.elements)t=t.filter(i=>!Lr(i,r));return{arrayValue:{values:t}}}var kc=class extends Pc{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function RM(n){return Ze(n.integerValue||n.doubleValue)}function mN(n){return Eb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function g3(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Hs&&i instanceof Hs||r instanceof qs&&i instanceof qs?Sc(r.elements,i.elements,Lr):r instanceof kc&&i instanceof kc?Lr(r.Pe,i.Pe):r instanceof Oc&&i instanceof Oc}(n.transform,e.transform)}var fE=class{constructor(e,t){this.version=e,this.transformResults=t}},_i=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function gm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Fc=class{};function gN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cm(n.key,_i.none()):new zs(n.key,n.data,_i.none());{let t=n.data,r=Cn.empty(),i=new qt(Tn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ur(n.key,r,new Fn(i.toArray()),_i.none())}}function y3(n,e,t){n instanceof zs?function(i,o,s){let a=i.value.clone(),u=MM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ur?function(i,o,s){if(!gm(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=MM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(yN(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function ql(n,e,t,r){return n instanceof zs?function(o,s,a,u){if(!gm(o.precondition,s))return a;let d=o.value.clone(),p=NM(o.fieldTransforms,u,s);return d.setAll(p),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ur?function(o,s,a,u){if(!gm(o.precondition,s))return a;let d=NM(o.fieldTransforms,u,s),p=s.data;return p.setAll(yN(o)),p.setAll(d),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(n,e,t,r):function(o,s,a){return gm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function v3(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=hN(r.transform,i||null);o!=null&&(t===null&&(t=Cn.empty()),t.set(r.field,o))}return t||null}function xM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Sc(r,i,(o,s)=>g3(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var zs=class extends Fc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ur=class extends Fc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function yN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function MM(n,e,t){let r=new Map;je(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,m3(s,a,t[i]))}return r}function NM(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,p3(o,s,e))}return r}var Cm=class extends Fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},pE=class extends Fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var mE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&y3(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=ql(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=ql(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=lN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=gN(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Sc(this.mutations,e.mutations,(t,r)=>xM(t,r))&&Sc(this.baseMutations,e.baseMutations,(t,r)=>xM(t,r))}},gE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){je(e.mutations.length===r.length);let i=function(){return u3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var yE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var vE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var mt,Ne;function _3(n){switch(n){default:return ce();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function vN(n){if(n===void 0)return wi("GRPC error has no .code"),U.UNKNOWN;switch(n){case mt.OK:return U.OK;case mt.CANCELLED:return U.CANCELLED;case mt.UNKNOWN:return U.UNKNOWN;case mt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case mt.INTERNAL:return U.INTERNAL;case mt.UNAVAILABLE:return U.UNAVAILABLE;case mt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case mt.NOT_FOUND:return U.NOT_FOUND;case mt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case mt.ABORTED:return U.ABORTED;case mt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case mt.DATA_LOSS:return U.DATA_LOSS;default:return ce()}}(Ne=mt||(mt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";var PM=null;function w3(){return new TextEncoder}var I3=new Ao([4294967295,4294967295],0);function OM(n){let e=w3().encode(n),t=new OI;return t.update(e),new Uint8Array(t.digest())}function kM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ao([t,r],0),new Ao([i,o],0)]}var _E=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vs(`Invalid padding: ${t}`);if(r<0)throw new Vs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Vs(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ao.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Ao.fromNumber(r)));return i.compare(I3)===1&&(i=new Ao([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=OM(e),[r,i]=kM(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=OM(e),[r,i]=kM(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Vs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Tm=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ye.min(),i,new rt(ke),Ei(),Ae())}},Kl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ae(),Ae(),Ae())}};var Cc=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Dm=class{constructor(e,t){this.targetId=e,this.me=t}},Sm=class{constructor(e,t,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Am=class{constructor(){this.fe=0,this.ge=LM(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),t=Ae(),r=Ae();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new Kl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=LM()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},wE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ei(),this.qe=FM(),this.Qe=new rt(ke)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(dE(o))if(r===0){let s=new ae(o.path);this.Ue(t,s,ar.newNoDocument(s,ye.min()))}else je(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}PM?.et(function(p,m,_,I,x){var k,N,B,X,G,ee;let pe={localCacheCount:p,existenceFilterCount:m.count,databaseId:_.database,projectId:_.projectId},ie=m.unchangedNames;return ie&&(pe.bloomFilter={applied:x===0,hashCount:(k=ie?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(X=(B=(N=ie?.bits)===null||N===void 0?void 0:N.bitmap)===null||B===void 0?void 0:B.length)!==null&&X!==void 0?X:0,padding:(ee=(G=ie?.bits)===null||G===void 0?void 0:G.padding)!==null&&ee!==void 0?ee:0,mightContain:D=>{var E;return(E=I?.mightContain(D))!==null&&E!==void 0&&E}}),pe}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=xo(r).toUint8Array()}catch(u){if(u instanceof Im)return Dc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new _E(s,i,o)}catch(u){return Dc(u instanceof Vs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&dE(a.target)){let u=new ae(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,ar.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Ae();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Tm(e,t,this.Qe,this.ke,r);return this.ke=Ei(),this.qe=FM(),this.Qe=new rt(ke),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Am,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new qt(ke),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||te("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Am),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function FM(){return new rt(ae.comparator)}function LM(){return new rt(ae.comparator)}var E3={asc:"ASCENDING",desc:"DESCENDING"},b3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C3={and:"AND",or:"OR"},IE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function EE(n,e){return n.useProto3Json||Zm(e)?e:{value:e}}function Rm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _N(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function T3(n,e){return Rm(n,e.toTimestamp())}function Fr(n){return je(!!n),ye.fromTimestamp(function(t){let r=Ii(t);return new Ot(r.seconds,r.nanos)}(n))}function Sb(n,e){return bE(n,e).canonicalString()}function bE(n,e){let t=function(i){return new nt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function wN(n){let e=nt.fromString(n);return je(TN(e)),e}function CE(n,e){return Sb(n.databaseId,e.path)}function jI(n,e){let t=wN(e);if(t.get(1)!==n.databaseId.projectId)throw new re(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new re(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ae(EN(t))}function IN(n,e){return Sb(n.databaseId,e)}function D3(n){let e=wN(n);return e.length===4?nt.emptyPath():EN(e)}function TE(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EN(n){return je(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function VM(n,e,t){return{name:CE(n,e),fields:t.value.mapValue.fields}}function S3(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(je(p===void 0||typeof p=="string"),zt.fromBase64String(p||"")):(je(p===void 0||p instanceof Buffer||p instanceof Uint8Array),zt.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let p=d.code===void 0?U.UNKNOWN:vN(d.code);return new re(p,d.message||"")}(s);t=new Sm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=jI(n,r.document.name),o=Fr(r.document.updateTime),s=r.document.createTime?Fr(r.document.createTime):ye.min(),a=new Cn({mapValue:{fields:r.document.fields}}),u=ar.newFoundDocument(i,o,s,a),d=r.targetIds||[],p=r.removedTargetIds||[];t=new Cc(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=jI(n,r.document),o=r.readTime?Fr(r.readTime):ye.min(),s=ar.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Cc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=jI(n,r.document),o=r.removedTargetIds||[];t=new Cc([],o,i,null)}else{if(!("filter"in e))return ce();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new vE(i,o),a=r.targetId;t=new Dm(a,s)}}return t}function A3(n,e){let t;if(e instanceof zs)t={update:VM(n,e.key,e.value)};else if(e instanceof Cm)t={delete:CE(n,e.key)};else if(e instanceof Ur)t={update:VM(n,e.key,e.data),updateMask:L3(e.fieldMask)};else{if(!(e instanceof pE))return ce();t={verify:CE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Oc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ce()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:T3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ce()}(n,e.precondition)),t}function R3(n,e){return n&&n.length>0?(je(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Fr(i.updateTime):Fr(o);return s.isEqual(ye.min())&&(s=Fr(o)),new fE(s,i.transformResults||[])}(t,e))):[]}function x3(n,e){return{documents:[IN(n,e.path)]}}function M3(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=IN(n,i);let o=function(d){if(d.length!==0)return CN(Vr.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:Ic(_.field),direction:O3(_.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=EE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:i}}function N3(n){let e=D3(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){je(r===1);let p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];t.where&&(o=function(m){let _=bN(m);return _ instanceof Vr&&nN(_)?_.getFilters():[_]}(t.where));let s=[];t.orderBy&&(s=function(m){return m.map(_=>function(x){return new Mc(Ec(x.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(m){let _;return _=typeof m=="object"?m.value:m,Zm(_)?null:_}(t.limit));let u=null;t.startAt&&(u=function(m){let _=!!m.before,I=m.values||[];return new xc(I,_)}(t.startAt));let d=null;return t.endAt&&(d=function(m){let _=!m.before,I=m.values||[];return new xc(I,_)}(t.endAt)),r3(e,i,s,o,a,"F",u,d)}function P3(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ec(t.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ec(t.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ec(t.unaryFilter.field);return Ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ec(t.unaryFilter.field);return Ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(n):n.fieldFilter!==void 0?function(t){return Ct.create(Ec(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Vr.create(t.compositeFilter.filters.map(r=>bN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(t.compositeFilter.op))}(n):ce()}function O3(n){return E3[n]}function k3(n){return b3[n]}function F3(n){return C3[n]}function Ic(n){return{fieldPath:n.canonicalString()}}function Ec(n){return Tn.fromServerFormat(n.fieldPath)}function CN(n){return n instanceof Ct?function(t){if(t.op==="=="){if(CM(t.value))return{unaryFilter:{field:Ic(t.field),op:"IS_NAN"}};if(bM(t.value))return{unaryFilter:{field:Ic(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CM(t.value))return{unaryFilter:{field:Ic(t.field),op:"IS_NOT_NAN"}};if(bM(t.value))return{unaryFilter:{field:Ic(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ic(t.field),op:k3(t.op),value:t.value}}}(n):n instanceof Vr?function(t){let r=t.getFilters().map(i=>CN(i));return r.length===1?r[0]:{compositeFilter:{op:F3(t.op),filters:r}}}(n):ce()}function L3(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ql=class n{constructor(e,t,r,i,o=ye.min(),s=ye.min(),a=zt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var DE=class{constructor(e){this.ct=e}};function V3(n){let e=N3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hE(e,e.limit,"L"):e}var xm=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ze(e.integerValue));else if("doubleValue"in e){let r=Ze(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),zl(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Ii(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(xo(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?XM(e)?this.dt(t,Number.MAX_SAFE_INTEGER):JM(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ce()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Ze(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),ae.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};xm.vt=new xm;var SE=class{constructor(){this.un=new AE}addToCollectionParentIndex(e,t){return this.un.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(Bs.min())}updateCollectionGroup(e,t,r){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}},AE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new qt(nt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qt(nt.comparator)).toArray()}};var BX=new Uint8Array(0);var Pr=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(41943040,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);var Yl=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var RE=class{constructor(){this.changes=new Mo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?$.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var xE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var ME=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ql(r.mutation,i,Fn.empty(),Ot.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ae()){let i=Ls();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=jl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ls();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ae()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ei(),s=Hl(),a=function(){return Hl()}();return t.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Ur)?o=o.insert(d.key,d):p!==void 0?(s.set(d.key,p.mutation.getFieldMask()),ql(p.mutation,d,p.mutation.getFieldMask(),Ot.now())):s.set(d.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,p)=>s.set(d,p)),t.forEach((d,p)=>{var m;return a.set(d,new xE(p,(m=s.get(d))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Hl(),i=new rt((s,a)=>s-a),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let p=r.get(u)||Fn.empty();p=a.applyToLocalView(d,p),r.set(u,p);let m=(i.get(a.batchId)||Ae()).add(u);i=i.insert(a.batchId,m)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,m=lN();p.forEach(_=>{if(!o.has(_)){let I=gN(t.get(_),r.get(_));I!==null&&m.set(_,I),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):i3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):$.resolve(Ls()),a=-1,u=o;return s.next(d=>$.forEach(d,(p,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(p)?$.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{u=u.insert(p,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,Ae())).next(p=>({batchId:a,changes:uN(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(r=>{let i=jl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=jl();return this.indexManager.getCollectionParents(e,o).next(a=>$.forEach(a,u=>{let d=function(m,_){return new Nc(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((m,_)=>{s=s.insert(m,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,d)=>{let p=d.getKey();s.get(p)===null&&(s=s.insert(p,ar.newInvalidDocument(p)))});let a=jl();return s.forEach((u,d)=>{let p=o.get(u);p!==void 0&&ql(p.mutation,d,Fn.empty(),Ot.now()),Xm(t,d)&&(a=a.insert(u,d))}),a})}};var NE=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return $.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Fr(i.createTime)}}(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:V3(i.bundledQuery),readTime:Fr(i.readTime)}}(t)),$.resolve()}};var PE=class{constructor(){this.overlays=new rt(ae.comparator),this.Ir=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ls();return $.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),$.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,t,r){let i=Ls(),o=t.length+1,s=new ae(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return $.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new rt((d,p)=>d-p),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=Ls(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=Ls(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return $.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new yE(t,r));let o=this.Ir.get(t);o===void 0&&(o=Ae(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var OE=class{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}};var Zl=class{constructor(){this.Tr=new qt(gt.Er),this.dr=new qt(gt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new gt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new gt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new ae(new nt([])),r=new gt(t,e),i=new gt(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ae(new nt([])),r=new gt(t,e),i=new gt(t,e+1),o=Ae();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new gt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},gt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ae.comparator(e.key,t.key)||ke(e.wr,t.wr)}static Ar(e,t){return ke(e.wr,t.wr)||ae.comparator(e.key,t.key)}};var kE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new qt(gt.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new mE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new gt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(s)}lookupMutationBatch(e,t){return $.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new gt(t,0),i=new gt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qt(ke);return t.forEach(i=>{let o=new gt(i,0),s=new gt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ae.isDocumentKey(o)||(o=o.child(""));let s=new gt(new ae(o),0),a=new qt(ke);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},s),$.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){je(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(t.mutations,i=>{let o=new gt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new gt(t,0),i=this.br.firstAfterOrEqual(r);return $.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var FE=class{constructor(e){this.Mr=e,this.docs=function(){return new rt(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return $.resolve(r?r.document.mutableCopy():ar.newInvalidDocument(t))}getEntries(e,t){let r=Ei();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ar.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ei(),s=t.path,a=new ae(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||Gz(zz(p),r)<=0||(i.has(p.key)||Xm(t,p))&&(o=o.insert(p.key,p.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ce()}Or(e,t){return $.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new LE(this)}getSize(e){return $.resolve(this.size)}},LE=class extends RE{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var VE=class{constructor(e){this.persistence=e,this.Nr=new Mo(t=>bb(t),Cb),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zl,this.targetCount=0,this.kr=Yl.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),$.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Yl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.Kn(t),$.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(o).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return $.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),$.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),$.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return $.resolve(r)}containsKey(e,t){return $.resolve(this.Br.containsKey(t))}};var UE=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new YM(0),this.Kr=!1,this.Kr=!0,this.$r=new OE,this.referenceDelegate=e(this),this.Ur=new VE(this),this.indexManager=new SE,this.remoteDocumentCache=function(i){return new FE(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new DE(t),this.Gr=new NE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new kE(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){te("MemoryPersistence","Starting transaction:",e);let i=new jE(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},jE=class extends JI{constructor(e){super(),this.currentSequenceNumber=e}},BE=class n{constructor(e){this.persistence=e,this.Jr=new Zl,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),$.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{let i=ae.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ye.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return $.or([()=>$.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var $E=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Ae(),i=Ae();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var HE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var qE=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return QR()?8:Kz(Rt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new HE;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Ul()<=Se.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",wc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(Ul()<=Se.DEBUG&&te("QueryEngine","Query:",wc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ul()<=Se.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",wc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(t))):$.resolve())}Yi(e,t){if(AM(t))return $.resolve(null);let r=kr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=hE(t,null,"F"),r=kr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ae(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(t,a);return this.ns(t,d,s,u.readTime)?this.Yi(e,hE(t,null,"F")):this.rs(e,d,t,u)}))})))}Zi(e,t,r,i){return AM(t)||i.isEqual(ye.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?$.resolve(null):(Ul()<=Se.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wc(t)),this.rs(e,s,t,qz(i,-1)).next(a=>a))})}ts(e,t){let r=new qt(aN(e));return t.forEach((i,o)=>{Xm(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Ul()<=Se.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",wc(t)),this.Ji.getDocumentsMatchingQuery(e,t,Bs.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var zE=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new rt(ke),this._s=new Mo(o=>bb(o),Cb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ME(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function U3(n,e,t,r){return new zE(n,e,t,r)}function DN(n,e){return C(this,null,function*(){let t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ae();for(let d of i){s.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of o){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function j3(n,e){let t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let m=d.batch,_=m.keys(),I=$.resolve();return _.forEach(x=>{I=I.next(()=>p.getEntry(u,x)).next(k=>{let N=d.docVersions.get(x);je(N!==null),k.version.compareTo(N)<0&&(m.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),p.addEntry(k)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ae();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function SN(n){let e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function B3(n,e){let t=de(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((p,m)=>{let _=i.get(m);if(!_)return;a.push(t.Ur.removeMatchingKeys(o,p.removedDocuments,m).next(()=>t.Ur.addMatchingKeys(o,p.addedDocuments,m)));let I=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?I=I.withResumeToken(zt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):p.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(p.resumeToken,r)),i=i.insert(m,I),function(k,N,B){return k.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(_,I,p)&&a.push(t.Ur.updateTargetData(o,I))});let u=Ei(),d=Ae();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push($3(o,s,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(ye.min())){let p=t.Ur.getLastRemoteSnapshotVersion(o).next(m=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return $.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(t.os=i,o))}function $3(n,e,t){let r=Ae(),i=Ae();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ei();return t.forEach((a,u)=>{let d=o.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ye.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function H3(n,e){let t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function q3(n,e){let t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,$.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Ql(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function GE(n,e,t){return C(this,null,function*(){let r=de(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!rd(s))throw s;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function UM(n,e,t){let r=de(n),i=ye.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,p){let m=de(u),_=m._s.get(p);return _!==void 0?$.resolve(m.os.get(_)):m.Ur.getTargetData(d,p)}(r,s,kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:ye.min(),t?o:Ae())).next(a=>(z3(r,s3(e),a),{documents:a,Ts:o})))}function z3(n,e,t){let r=n.us.get(e)||ye.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Mm=class{constructor(){this.activeTargetIds=h3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var WE=class{constructor(){this.so=new Mm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Mm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var KE=class{_o(e){}shutdown(){}};var Nm=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var pm=null;function BI(){return pm===null?pm=function(){return 268435456+Math.round(2147483648*Math.random())}():pm++,"0x"+pm.toString(16)}var G3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var QE=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ht="WebChannelConnection",YE=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=BI(),u=this.xo(t,r.toUriEncodedString());te("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(t,u,d,i).then(p=>(te("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw Dc("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=G3[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=BI();return new Promise((s,a)=>{let u=new kI;u.setWithCredentials(!0),u.listenOnce(FI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vl.NO_ERROR:let p=u.getResponseJson();te(Ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case Vl.TIMEOUT:te(Ht,`RPC '${e}' ${o} timed out`),a(new re(U.DEADLINE_EXCEEDED,"Request time out"));break;case Vl.HTTP_ERROR:let m=u.getStatus();if(te(Ht,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let x=function(N){let B=N.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(B)>=0?B:U.UNKNOWN}(I.status);a(new re(x,I.message))}else a(new re(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new re(U.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{te(Ht,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);te(Ht,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",d,r,15)})}Bo(e,t,r){let i=BI(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=UI(),a=VI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let p=o.join("");te(Ht,`Creating RPC '${e}' stream ${i}: ${p}`,u);let m=s.createWebChannel(p,u),_=!1,I=!1,x=new QE({Io:N=>{I?te(Ht,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(_||(te(Ht,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),te(Ht,`RPC '${e}' stream ${i} sending:`,N),m.send(N))},To:()=>m.close()}),k=(N,B,X)=>{N.listen(B,G=>{try{X(G)}catch(ee){setTimeout(()=>{throw ee},0)}})};return k(m,_c.EventType.OPEN,()=>{I||(te(Ht,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),k(m,_c.EventType.CLOSE,()=>{I||(I=!0,te(Ht,`RPC '${e}' stream ${i} transport closed`),x.So())}),k(m,_c.EventType.ERROR,N=>{I||(I=!0,Dc(Ht,`RPC '${e}' stream ${i} transport errored:`,N),x.So(new re(U.UNAVAILABLE,"The operation could not be completed")))}),k(m,_c.EventType.MESSAGE,N=>{var B;if(!I){let X=N.data[0];je(!!X);let G=X,ee=G.error||((B=G[0])===null||B===void 0?void 0:B.error);if(ee){te(Ht,`RPC '${e}' stream ${i} received error:`,ee);let pe=ee.status,ie=function(b){let S=mt[b];if(S!==void 0)return vN(S)}(pe),D=ee.message;ie===void 0&&(ie=U.INTERNAL,D="Unknown error status: "+pe+" with message "+ee.message),I=!0,x.So(new re(ie,D)),m.close()}else te(Ht,`RPC '${e}' stream ${i} received:`,X),x.bo(X)}}),k(a,LI.STAT_EVENT,N=>{N.stat===hm.PROXY?te(Ht,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===hm.NOPROXY&&te(Ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}};function $I(){return typeof document<"u"?document:null}function eg(n){return new IE(n,!0)}var Pm=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Om=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Pm(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(wi(t.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new re(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ZE=class extends Om{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=S3(this.serializer,e),r=function(o){if(!("targetChange"in o))return ye.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ye.min():s.readTime?Fr(s.readTime):ye.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=TE(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=dE(u)?{documents:x3(o,u)}:{query:M3(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=_N(o,s.resumeToken);let d=EE(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(ye.min())>0){a.readTime=Rm(o,s.snapshotVersion.toTimestamp());let d=EE(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=P3(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=TE(this.serializer),t.removeTarget=e,this.a_(t)}},JE=class extends Om{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=R3(e.writeResults,e.commitTime),r=Fr(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=TE(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>A3(this.serializer,r))};this.a_(t)}};var XE=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new re(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,bE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(U.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,bE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(U.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},eb=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(wi(t),this.D_=!1):te("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var tb=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>C(this,null,function*(){Ws(this)&&(te("RemoteStore","Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let d=de(u);d.L_.add(4),yield id(d),d.q_.set("Unknown"),d.L_.delete(4),yield tg(d)})}(this))}))}),this.q_=new eb(r,i)}};function tg(n){return C(this,null,function*(){if(Ws(n))for(let e of n.B_)yield e(!0)})}function id(n){return C(this,null,function*(){for(let e of n.B_)yield e(!1)})}function AN(n,e){let t=de(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Mb(t)?xb(t):Bc(t).r_()&&Rb(t,e))}function Ab(n,e){let t=de(n),r=Bc(t);t.N_.delete(e),r.r_()&&RN(t,e),t.N_.size===0&&(r.r_()?r.o_():Ws(t)&&t.q_.set("Unknown"))}function Rb(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bc(n).A_(e)}function RN(n,e){n.Q_.xe(e),Bc(n).R_(e)}function xb(n){n.Q_=new wE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Bc(n).start(),n.q_.v_()}function Mb(n){return Ws(n)&&!Bc(n).n_()&&n.N_.size>0}function Ws(n){return de(n).L_.size===0}function xN(n){n.Q_=void 0}function W3(n){return C(this,null,function*(){n.q_.set("Online")})}function K3(n){return C(this,null,function*(){n.N_.forEach((e,t)=>{Rb(n,e)})})}function Q3(n,e){return C(this,null,function*(){xN(n),Mb(n)?(n.q_.M_(e),xb(n)):n.q_.set("Unknown")})}function Y3(n,e,t){return C(this,null,function*(){if(n.q_.set("Online"),e instanceof Sm&&e.state===2&&e.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield km(n,r)}else if(e instanceof Cc?n.Q_.Ke(e):e instanceof Dm?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ye.min()))try{let r=yield SN(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=o.N_.get(d);p&&o.N_.set(d,p.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,d)=>{let p=o.N_.get(u);if(!p)return;o.N_.set(u,p.withResumeToken(zt.EMPTY_BYTE_STRING,p.snapshotVersion)),RN(o,u);let m=new Ql(p.target,u,d,p.sequenceNumber);Rb(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){te("RemoteStore","Failed to raise snapshot:",r),yield km(n,r)}})}function km(n,e,t){return C(this,null,function*(){if(!rd(e))throw e;n.L_.add(1),yield id(n),n.q_.set("Offline"),t||(t=()=>SN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){te("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield tg(n)}))})}function MN(n,e){return e().catch(t=>km(n,t,e))}function ng(n){return C(this,null,function*(){let e=de(n),t=No(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Z3(e);)try{let i=yield H3(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,J3(e,i)}catch(i){yield km(e,i)}NN(e)&&PN(e)})}function Z3(n){return Ws(n)&&n.O_.length<10}function J3(n,e){n.O_.push(e);let t=No(n);t.r_()&&t.V_&&t.m_(e.mutations)}function NN(n){return Ws(n)&&!No(n).n_()&&n.O_.length>0}function PN(n){No(n).start()}function X3(n){return C(this,null,function*(){No(n).p_()})}function e5(n){return C(this,null,function*(){let e=No(n);for(let t of n.O_)e.m_(t.mutations)})}function t5(n,e,t){return C(this,null,function*(){let r=n.O_.shift(),i=gE.from(r,e,t);yield MN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ng(n)})}function n5(n,e){return C(this,null,function*(){e&&No(n).V_&&(yield function(r,i){return C(this,null,function*(){if(function(s){return _3(s)&&s!==U.ABORTED}(i.code)){let o=r.O_.shift();No(r).s_(),yield MN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield ng(r)}})}(n,e)),NN(n)&&PN(n)})}function jM(n,e){return C(this,null,function*(){let t=de(n);t.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");let r=Ws(t);t.L_.add(3),yield id(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield tg(t)})}function r5(n,e){return C(this,null,function*(){let t=de(n);e?(t.L_.delete(2),yield tg(t)):e||(t.L_.add(2),yield id(t),t.q_.set("Unknown"))})}function Bc(n){return n.K_||(n.K_=function(t,r,i){let o=de(t);return o.w_(),new ZE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:W3.bind(null,n),Ro:K3.bind(null,n),mo:Q3.bind(null,n),d_:Y3.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.K_.s_(),Mb(n)?xb(n):n.q_.set("Unknown")):(yield n.K_.stop(),xN(n))}))),n.K_}function No(n){return n.U_||(n.U_=function(t,r,i){let o=de(t);return o.w_(),new JE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:X3.bind(null,n),mo:n5.bind(null,n),f_:e5.bind(null,n),g_:t5.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.U_.s_(),yield ng(n)):(yield n.U_.stop(),n.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var nb=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Nb(n,e){if(wi("AsyncQueue",`${e}: ${n}`),rd(n))return new re(U.UNAVAILABLE,`${e}: ${n}`);throw n}var Fm=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ae.comparator(t.key,r.key):(t,r)=>ae.comparator(t.key,r.key),this.keyedMap=jl(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Lm=class{constructor(){this.W_=new rt(ae.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Lc=class n{constructor(e,t,r,i,o,s,a,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Fm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var rb=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},ib=class{constructor(){this.queries=BM(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=de(t),o=i.queries;i.queries=BM(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new re(U.ABORTED,"Firestore shutting down"))}};function BM(){return new Mo(n=>sN(n),Jm)}function ON(n,e){return C(this,null,function*(){let t=de(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new rb,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Nb(s,`Initialization of query '${wc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&Pb(t)})}function kN(n,e){return C(this,null,function*(){let t=de(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function i5(n,e){let t=de(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Pb(t)}function o5(n,e,t){let r=de(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function Pb(n){n.Y_.forEach(e=>{e.next()})}var ob,$M;($M=ob||(ob={})).ea="default",$M.Cache="cache";var Vm=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Lc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ob.Cache}};var Um=class{constructor(e){this.key=e}},jm=class{constructor(e){this.key=e}},sb=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ae(),this.mutatedKeys=Ae(),this.Aa=aN(e),this.Ra=new Fm(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Lm,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{let _=i.get(p),I=Xm(this.query,m)?m:null,x=!!_&&this.mutatedKeys.has(_.key),k=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),N=!1;_&&I?_.data.isEqual(I.data)?x!==k&&(r.track({type:3,doc:I}),N=!0):this.ga(_,I)||(r.track({type:2,doc:I}),N=!0,(u&&this.Aa(I,u)>0||d&&this.Aa(I,d)<0)&&(a=!0)):!_&&I?(r.track({type:0,doc:I}),N=!0):_&&!I&&(r.track({type:1,doc:_}),N=!0,(u||d)&&(a=!0)),N&&(I?(s=s.add(I),o=k?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((p,m)=>function(I,x){let k=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return k(I)-k(x)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,s.length!==0||d?{snapshot:new Lc(this.query,e.Ra,o,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Lm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new jm(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Um(r))}),t}ba(e){this.Ta=e.Ts,this.da=Ae();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Lc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},ab=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},cb=class{constructor(e){this.key=e,this.va=!1}},ub=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Mo(a=>sN(a),Jm),this.Ma=new Map,this.xa=new Set,this.Oa=new rt(ae.comparator),this.Na=new Map,this.La=new Zl,this.Ba={},this.ka=new Map,this.qa=Yl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function s5(n,e,t=!0){return C(this,null,function*(){let r=BN(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield FN(r,e,t,!0),i})}function a5(n,e){return C(this,null,function*(){let t=BN(n);yield FN(t,e,!0,!1)})}function FN(n,e,t,r){return C(this,null,function*(){let i=yield q3(n.localStore,kr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield c5(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&AN(n.remoteStore,i),a})}function c5(n,e,t,r,i){return C(this,null,function*(){n.Ka=(m,_,I)=>function(k,N,B,X){return C(this,null,function*(){let G=N.view.ma(B);G.ns&&(G=yield UM(k.localStore,N.query,!1).then(({documents:D})=>N.view.ma(D,G)));let ee=X&&X.targetChanges.get(N.targetId),pe=X&&X.targetMismatches.get(N.targetId)!=null,ie=N.view.applyChanges(G,k.isPrimaryClient,ee,pe);return qM(k,N.targetId,ie.wa),ie.snapshot})}(n,m,_,I);let o=yield UM(n.localStore,e,!0),s=new sb(e,o.Ts),a=s.ma(o.documents),u=Kl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(a,n.isPrimaryClient,u);qM(n,t,d.wa);let p=new ab(e,t,s);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot})}function u5(n,e,t){return C(this,null,function*(){let r=de(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Jm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield GE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ab(r.remoteStore,i.targetId),lb(r,i.targetId)}).catch(nd))):(lb(r,i.targetId),yield GE(r.localStore,i.targetId,!0))})}function l5(n,e){return C(this,null,function*(){let t=de(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ab(t.remoteStore,r.targetId))})}function d5(n,e,t){return C(this,null,function*(){let r=v5(n);try{let i=yield function(s,a){let u=de(s),d=Ot.now(),p=a.reduce((I,x)=>I.add(x.key),Ae()),m,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let x=Ei(),k=Ae();return u.cs.getEntries(I,p).next(N=>{x=N,x.forEach((B,X)=>{X.isValidDocument()||(k=k.add(B))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,x)).next(N=>{m=N;let B=[];for(let X of a){let G=v3(X,m.get(X.key).overlayedDocument);G!=null&&B.push(new Ur(X.key,G,eN(G.value.mapValue),_i.exists(!0)))}return u.mutationQueue.addMutationBatch(I,d,B,a)}).next(N=>{_=N;let B=N.applyToLocalDocumentSet(m,k);return u.documentOverlayCache.saveOverlays(I,N.batchId,B)})}).then(()=>({batchId:_.batchId,changes:uN(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let d=s.Ba[s.currentUser.toKey()];d||(d=new rt(ke)),d=d.insert(a,u),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,t),yield od(r,i.changes),yield ng(r.remoteStore)}catch(i){let o=Nb(i,"Failed to persist write");t.reject(o)}})}function LN(n,e){return C(this,null,function*(){let t=de(n);try{let r=yield B3(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?je(s.va):i.removedDocuments.size>0&&(je(s.va),s.va=!1))}),yield od(t,r,e)}catch(r){yield nd(r)}})}function HM(n,e,t){let r=de(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=de(s);u.onlineState=a;let d=!1;u.queries.forEach((p,m)=>{for(let _ of m.j_)_.Z_(a)&&(d=!0)}),d&&Pb(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function h5(n,e,t){return C(this,null,function*(){let r=de(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new rt(ae.comparator);s=s.insert(o,ar.newNoDocument(o,ye.min()));let a=Ae().add(o),u=new Tm(ye.min(),new Map,new rt(ke),s,a);yield LN(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Ob(r)}else yield GE(r.localStore,e,!1).then(()=>lb(r,e,t)).catch(nd)})}function f5(n,e){return C(this,null,function*(){let t=de(n),r=e.batch.batchId;try{let i=yield j3(t.localStore,e);UN(t,r,null),VN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield od(t,i)}catch(i){yield nd(i)}})}function p5(n,e,t){return C(this,null,function*(){let r=de(n);try{let i=yield function(s,a){let u=de(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(m=>(je(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);UN(r,e,t),VN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield od(r,i)}catch(i){yield nd(i)}})}function VN(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function UN(n,e,t){let r=de(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function lb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||jN(n,r)})}function jN(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Ab(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Ob(n))}function qM(n,e,t){for(let r of t)r instanceof Um?(n.La.addReference(r.key,e),m5(n,r)):r instanceof jm?(te("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||jN(n,r.key)):ce()}function m5(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(te("SyncEngine","New document in limbo: "+t),n.xa.add(r),Ob(n))}function Ob(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ae(nt.fromString(e)),r=n.qa.next();n.Na.set(r,new cb(t)),n.Oa=n.Oa.insert(t,r),AN(n.remoteStore,new Ql(kr(Tb(t.path)),r,"TargetPurposeLimboResolution",YM.oe))}}function od(n,e,t){return C(this,null,function*(){let r=de(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(d=>{var p;if((d||t)&&r.isPrimaryClient){let m=d?!d.fromCache:(p=t?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){i.push(d);let m=$E.Wi(u.targetId,d);o.push(m)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,d){return C(this,null,function*(){let p=de(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>$.forEach(d,_=>$.forEach(_.$i,I=>p.persistence.referenceDelegate.addReference(m,_.targetId,I)).next(()=>$.forEach(_.Ui,I=>p.persistence.referenceDelegate.removeReference(m,_.targetId,I)))))}catch(m){if(!rd(m))throw m;te("LocalStore","Failed to update sequence numbers: "+m)}for(let m of d){let _=m.targetId;if(!m.fromCache){let I=p.os.get(_),x=I.snapshotVersion,k=I.withLastLimboFreeSnapshotVersion(x);p.os=p.os.insert(_,k)}}})}(r.localStore,o))})}function g5(n,e){return C(this,null,function*(){let t=de(n);if(!t.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());let r=yield DN(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new re(U.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield od(t,r.hs)}})}function y5(n,e){let t=de(n),r=t.Na.get(e);if(r&&r.va)return Ae().add(r.key);{let i=Ae(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function BN(n){let e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h5.bind(null,e),e.Ca.d_=i5.bind(null,e.eventManager),e.Ca.$a=o5.bind(null,e.eventManager),e}function v5(n){let e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p5.bind(null,e),e}var zM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=eg(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return U3(this.persistence,new qE,t.initialUser,this.serializer)}Ga(t){return new UE(BE.Zr,this.serializer)}Wa(t){return new WE}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var _5=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>HM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=g5.bind(null,this.syncEngine),yield r5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new ib}()}createDatastore(t){let r=eg(t.databaseInfo.databaseId),i=function(s){return new YE(s)}(t.databaseInfo);return function(s,a,u,d){return new XE(s,a,u,d)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new tb(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>HM(this.syncEngine,r,0),function(){return Nm.D()?new Nm:new KE}())}createSyncEngine(t,r){return function(o,s,a,u,d,p,m){let _=new ub(o,s,a,u,d,p);return m&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield function(o){return C(this,null,function*(){let s=de(o);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield id(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Bm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var db=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){te("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Nb(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function HI(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield DN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function GM(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield w5(n);te("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>jM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>jM(e.remoteStore,i)),n._onlineComponents=e})}function w5(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield HI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Dc("Error using user provided cache. Falling back to memory cache: "+t),yield HI(n,new zM)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield HI(n,new zM);return n._offlineComponents})}function $N(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield GM(n,n._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield GM(n,new _5))),n._onlineComponents})}function I5(n){return $N(n).then(e=>e.syncEngine)}function HN(n){return C(this,null,function*(){let e=yield $N(n),t=e.eventManager;return t.onListen=s5.bind(null,e.syncEngine),t.onUnlisten=u5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=a5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=l5.bind(null,e.syncEngine),t})}function E5(n,e,t={}){let r=new sr;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,a,u,d){let p=new Bm({next:_=>{p.Za(),s.enqueueAndForget(()=>kN(o,m));let I=_.docs.has(a);!I&&_.fromCache?d.reject(new re(U.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&u&&u.source==="server"?d.reject(new re(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),m=new Vm(Tb(a.path),p,{includeMetadataChanges:!0,_a:!0});return ON(o,m)}(yield HN(n),n.asyncQueue,e,t,r)})),r.promise}function b5(n,e,t={}){let r=new sr;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,a,u,d){let p=new Bm({next:_=>{p.Za(),s.enqueueAndForget(()=>kN(o,m)),_.fromCache&&u.source==="server"?d.reject(new re(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),m=new Vm(a,p,{includeMetadataChanges:!0,_a:!0});return ON(o,m)}(yield HN(n),n.asyncQueue,e,t,r)})),r.promise}function qN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var WM=new Map;function zN(n,e,t){if(!t)throw new re(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function C5(n,e,t,r){if(e===!0&&r===!0)throw new re(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function KM(n){if(!ae.isDocumentKey(n))throw new re(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QM(n){if(ae.isDocumentKey(n))throw new re(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kb(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ce()}function jr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new re(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=kb(n);throw new re(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var $m=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Vc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $m({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $m(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qI;switch(r.type){case"firstParty":return new KI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=WM.get(t);r&&(te("ComponentProvider","Removing Datastore"),WM.delete(t),r.terminate())}(this),Promise.resolve()}};function GN(n,e,t,r={}){var i;let o=(n=jr(n,Vc))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=xt.MOCK_USER;else{a=Bp(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new re(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new xt(d)}n._authCredentials=new zI(new ym(a,u))}}var Hm=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},an=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ro=class n extends Hm{constructor(e,t,r){super(e,t,Tb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new ae(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function WN(n,e,...t){if(n=at(n),zN("collection","path",e),n instanceof Vc){let r=nt.fromString(e,...t);return QM(r),new Ro(n,null,r)}{if(!(n instanceof an||n instanceof Ro))throw new re(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(nt.fromString(e,...t));return QM(r),new Ro(n.firestore,null,r)}}function Fb(n,e,...t){if(n=at(n),arguments.length===1&&(e=vm.newId()),zN("doc","path",e),n instanceof Vc){let r=nt.fromString(e,...t);return KM(r),new an(n,null,new ae(r))}{if(!(n instanceof an||n instanceof Ro))throw new re(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(nt.fromString(e,...t));return KM(r),new an(n.firestore,n instanceof Ro?n.converter:null,new ae(r))}}var qm=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Pm(this,"async_queue_retry"),this.Vu=()=>{let r=$I();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=$I();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=$I();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new sr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!rd(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw wi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=nb.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ce()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var Po=class extends Vc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new qm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new qm(e),this._firestoreClient=void 0,yield e}})}};function KN(n,e){let t=typeof n=="object"?n:bo(),r=typeof n=="string"?n:e||"(default)",i=Rs(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=jp("firestore");o&&GN(i,...o)}return i}function Lb(n){if(n._terminated)throw new re(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||T5(n),n._firestoreClient}function T5(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,d,p){return new XI(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qN(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new db(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Jl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(zt.fromBase64String(e))}catch(t){throw new re(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Uc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new re(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Xl=class{constructor(e){this._methodName=e}};var ed=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}};var td=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var D5=/^__.*__$/,hb=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ur(e,this.data,this.fieldMask,t,this.fieldTransforms):new zs(e,this.data,t,this.fieldTransforms)}},zm=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ur(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function QN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}var fb=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QN(this.Cu)&&D5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},pb=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||eg(e)}Qu(e,t,r,i=!1){return new fb({Cu:e,methodName:t,qu:r,path:Tn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Vb(n){let e=n._freezeSettings(),t=eg(n._databaseId);return new pb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YN(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);Ub("Data must be an object, but it was:",s,r);let a=ZN(r,s),u,d;if(o.merge)u=new Fn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let p=[];for(let m of o.mergeFields){let _=mb(e,m,t);if(!s.contains(_))throw new re(U.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);XN(p,_)||p.push(_)}u=new Fn(p),d=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=s.fieldTransforms;return new hb(new Cn(a),u,d)}var Gm=class n extends Xl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function S5(n,e,t,r){let i=n.Qu(1,e,t);Ub("Data must be an object, but it was:",i,r);let o=[],s=Cn.empty();Gs(r,(u,d)=>{let p=jb(e,u,t);d=at(d);let m=i.Nu(p);if(d instanceof Gm)o.push(p);else{let _=rg(d,m);_!=null&&(o.push(p),s.set(p,_))}});let a=new Fn(o);return new zm(s,a,i.fieldTransforms)}function A5(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[mb(e,r,t)],u=[i];if(o.length%2!=0)throw new re(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(mb(e,o[_])),u.push(o[_+1]);let d=[],p=Cn.empty();for(let _=a.length-1;_>=0;--_)if(!XN(d,a[_])){let I=a[_],x=u[_];x=at(x);let k=s.Nu(I);if(x instanceof Gm)d.push(I);else{let N=rg(x,k);N!=null&&(d.push(I),p.set(I,N))}}let m=new Fn(d);return new zm(p,m,s.fieldTransforms)}function rg(n,e){if(JN(n=at(n)))return Ub("Unsupported field value:",e,n),ZN(n,e);if(n instanceof Xl)return function(r,i){if(!QN(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=rg(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ot.fromDate(r);return{timestampValue:Rm(i.serializer,o)}}if(r instanceof Ot){let o=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rm(i.serializer,o)}}if(r instanceof ed)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jl)return{bytesValue:_N(i.serializer,r._byteString)};if(r instanceof an){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Sb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof td)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Db(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${kb(r)}`)}(n,e)}function ZN(n,e){let t={};return ZM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(n,(r,i)=>{let o=rg(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function JN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ot||n instanceof ed||n instanceof Jl||n instanceof an||n instanceof Xl||n instanceof td)}function Ub(n,e,t){if(!JN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=kb(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function mb(n,e,t){if((e=at(e))instanceof Uc)return e._internalPath;if(typeof e=="string")return jb(n,e);throw Wm("Field path arguments must be of type string or ",n,!1,void 0,t)}var R5=new RegExp("[~\\*/\\[\\]]");function jb(n,e,t){if(e.search(R5)>=0)throw Wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Uc(...e.split("."))._internalPath}catch{throw Wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wm(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new re(U.INVALID_ARGUMENT,a+n+u)}function XN(n,e){return n.some(t=>t.isEqual(e))}var Km=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new gb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(eP("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},gb=class extends Km{data(){return super.data()}};function eP(n,e){return typeof e=="string"?jb(n,e):e instanceof Uc?e._internalPath:e._delegate._internalPath}function x5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new re(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yb=class{convertValue(e,t="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Gs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ze(s.doubleValue));return new td(o)}convertGeoPoint(e){return new ed(Ze(e.latitude),Ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Ib(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){let t=Ii(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=nt.fromString(e);je(TN(r));let i=new Em(r.get(1),r.get(3)),o=new ae(r.popFirst(5));return i.isEqual(t)||wi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function tP(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Us=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Qm=class extends Km{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(eP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Tc=class extends Qm{data(e={}){return super.data(e)}},vb=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Us(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Tc(this._firestore,this._userDataWriter,r.key,r,new Us(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Tc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Us(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Tc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Us(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:M5(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function M5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}function nP(n){n=jr(n,an);let e=jr(n.firestore,Po);return E5(Lb(e),n._key).then(t=>N5(e,n,t))}var Ym=class extends yb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,t)}};function rP(n){n=jr(n,Hm);let e=jr(n.firestore,Po),t=Lb(e),r=new Ym(e);return x5(n._query),b5(t,n._query).then(i=>new vb(e,r,n,i))}function iP(n,e,t){n=jr(n,an);let r=jr(n.firestore,Po),i=tP(n.converter,e,t);return Bb(r,[YN(Vb(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,_i.none())])}function oP(n,e,t,...r){n=jr(n,an);let i=jr(n.firestore,Po),o=Vb(i),s;return s=typeof(e=at(e))=="string"||e instanceof Uc?A5(o,"updateDoc",n._key,e,t,r):S5(o,"updateDoc",n._key,e),Bb(i,[s.toMutation(n._key,_i.exists(!0))])}function sP(n,e){let t=jr(n.firestore,Po),r=Fb(n),i=tP(n.converter,e);return Bb(t,[YN(Vb(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,_i.exists(!1))]).then(()=>r)}function Bb(n,e){return function(r,i){let o=new sr;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return d5(yield I5(r),i,o)})),o.promise}(Lb(n),e)}function N5(n,e,t){let r=t.docs.get(e._key),i=new Ym(n);return new Qm(n,i,e._key,r,new Us(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){jc=i})(xr),Rr(new sn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Po(new GI(r.getProvider("auth-internal")),new YI(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new re(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Em(d.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ye(_M,"4.7.3",e),Ye(_M,"4.7.3","esm2017")})();var Dn=class{constructor(e){return e}},aP="firestore",$b=class{constructor(){return Ms(aP)}};var Hb=new W("angularfire2.firestore-instances");function P5(n,e){let t=gc(aP,n,e);return t&&new Dn(t)}function O5(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Dn(r)}}var k5={provide:$b,deps:[[new st,Hb]]},F5={provide:Dn,useFactory:P5,deps:[[new st,Hb],or]};function cP(n,...e){return Ye("angularfire",li.full,"fst"),Ut([F5,k5,{provide:Hb,useFactory:O5(n),multi:!0,deps:[De,ft,To,di,[new st,Fs],[new st,Co],...e]}])}var $c=bt(sP,!0);var bi=bt(WN,!0);var Ci=bt(Fb,!0);var ig=bt(nP,!0);var og=bt(rP,!0);var uP=bt(KN,!0);var lP=bt(iP,!0);var qb=bt(oP,!0);var Gb=rh(sd());var Ln=class n{constructor(e,t){this.auth=e;this.firestore=t;this.auth.onAuthStateChanged(r=>{r?(this.currentUser=r,this.isLoggedInEmitter.emit(!0)):(this.currentUser=null,this.isLoggedInEmitter.emit(!1))})}isLoggedInEmitter=new Be;currentUser=null;login(e,t){return pM(this.auth,e,t).then(r=>(this.isLoggedInEmitter.emit(!0),r))}registro(e,t){return dM(this.auth,e,t).then(r=>this.logout().then(()=>r))}logout(){return mM(this.auth).then(()=>{this.isLoggedInEmitter.emit(!1),this.currentUser=null})}getCurrentUser(){return this.currentUser}getUserProfile(){return C(this,null,function*(){let e=this.auth.currentUser;if(!e)throw new Error("No hay un usuario autenticado.");let t=Ci(this.firestore,`usuarios/${e.uid}`),r=yield ig(t);if(!r.exists())throw new Error("Perfil de usuario no encontrado en la base de datos.");return r.data()})}static \u0275fac=function(t){return new(t||n)(Z(yi),Z(Dn))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var L5=()=>["/registro"];function V5(n,e){n&1&&(F(0,"div"),j(1,"El campo email es requerido"),L())}function U5(n,e){n&1&&(F(0,"div"),j(1,"Formato de email inv\xE1lido."),L())}function j5(n,e){if(n&1&&(F(0,"div",12),fe(1,V5,2,0,"div",13)(2,U5,2,0,"div",13),L()),n&2){let t,r,i=Me();z(),K("ngIf",(t=i.loginForm.get("email"))==null||t.errors==null?null:t.errors.required),z(),K("ngIf",(r=i.loginForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function B5(n,e){n&1&&(F(0,"div"),j(1,"Contrase\xF1a requerida."),L())}function $5(n,e){n&1&&(F(0,"div"),j(1,"Largo m\xEDnimo 6 caracteres."),L())}function H5(n,e){if(n&1&&(F(0,"div",12),fe(1,B5,2,0,"div",13)(2,$5,2,0,"div",13),L()),n&2){let t,r,i=Me();z(),K("ngIf",(t=i.loginForm.get("password"))==null||t.errors==null?null:t.errors.required),z(),K("ngIf",(r=i.loginForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}function q5(n,e){if(n&1){let t=er();F(0,"button",14),Fe("click",function(){let i=wn(t).$implicit,o=Me();return In(o.autocompletarConUsuario(i))}),j(1),L()}if(n&2){let t=e.$implicit;z(),$f(" ",t.nombre," ")}}function z5(n,e){if(n&1&&(F(0,"div",15)(1,"p"),j(2),L()()),n&2){let t=Me();z(2),On(t.msjError)}}var ag=class n{constructor(e,t,r,i){this.router=e;this.fb=t;this.firestore=r;this.authService=i;this.loginForm=this.fb.group({email:["",[le.required,le.email]],password:["",[le.required,le.minLength(6)]]})}loginForm;flagError=!1;msjError="";usuariosAccesoRapido=[{nombre:"Paciente 1",email:"hesoy40164@lineacr.com",password:"1234hola"},{nombre:"Paciente 2",email:"bimame9338@lineacr.com",password:"1234hola"},{nombre:"Paciente 3",email:"cexibo3789@cironex.com",password:"1234hola"},{nombre:"Especialista 1",email:"gagesow230@anypng.com",password:"1234hola"},{nombre:"Especialista 2",email:"worenik310@lineacr.com",password:"1234hola"},{nombre:"Administrador",email:"admin@test.com",password:"1234hola"}];autocompletarConUsuario(e){this.loginForm.patchValue({email:e.email,password:e.password})}autocompletarLogin(){this.loginForm.patchValue({email:"admin@test.com",password:"1234hola"})}Login(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}let e=this.loginForm.get("email")?.value,t=this.loginForm.get("password")?.value;this.authService.login(e,t).then(r=>{let i=r.user;console.log("UID del usuario al hacer login:",i.uid);let o=Ci(this.firestore,`usuarios/${i.uid}`);return ig(o).then(s=>{if(!s.exists())throw new Error("Usuario no encontrado en la base de datos.");let a=s.data();if(a.tipoUsuario!=="administrador"&&!i.emailVerified)throw new Error("Correo no verificado. Por favor, verifica tu correo antes de iniciar sesi\xF3n.");if(a.tipoUsuario==="especialista"&&!a.aprobado)throw new Error("Tu cuenta de especialista no ha sido aprobada por el administrador.");let u=bi(this.firestore,"logins");return $c(u,{fecha:new Date,email:e})})}).then(()=>{Gb.default.fire({title:"Bienvenid@!",text:"Has iniciado sesi\xF3n correctamente",icon:"success",customClass:{popup:"alert-popup",title:"alert-titulo",confirmButton:"alert-boton"}}).then(()=>{this.router.navigate(["/home"])})}).catch(r=>{console.error("Error en el login:",r);let i=r.message||"Error desconocido al iniciar sesi\xF3n";switch(r.code){case"auth/wrong-password":i="Contrase\xF1a incorrecta";break;case"auth/invalid-credential":i="Credenciales inv\xE1lidas";break;case"auth/user-not-found":i="Usuario no encontrado";break;case"auth/invalid-email":i="Email inv\xE1lido";break}Gb.default.fire({icon:"error",title:"Error de Login",text:i,customClass:{popup:"alert-popup",title:"alert-titulo-error",confirmButton:"alert-boton"}})})}static \u0275fac=function(t){return new(t||n)(Y(pt),Y(dc),Y(Dn),Y(Ln))};static \u0275cmp=Vt({type:n,selectors:[["app-login"]],standalone:!0,features:[on],decls:21,vars:8,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["for","email"],["type","text","formControlName","email","id","email","required",""],["class","error",4,"ngIf"],["for","password"],["type","password","formControlName","password","id","password","required",""],["type","submit",3,"disabled"],[1,"botones-acceso-rapido"],["class","boton-usuario",3,"click",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],[3,"routerLink"],[1,"error"],[4,"ngIf"],[1,"boton-usuario",3,"click"],[1,"error-message"]],template:function(t,r){if(t&1&&(F(0,"div",0)(1,"form",1),Fe("ngSubmit",function(){return r.Login()}),F(2,"h2"),j(3,"Inicie Sesi\xF3n"),L(),F(4,"label",2),j(5,"Email:"),L(),Ge(6,"input",3),fe(7,j5,3,2,"div",4),F(8,"label",5),j(9,"Contrase\xF1a:"),L(),Ge(10,"input",6),fe(11,H5,3,2,"div",4),F(12,"button",7),j(13,"Ingresar"),L()(),F(14,"div",8),fe(15,q5,2,1,"button",9),L(),fe(16,z5,3,1,"div",10),F(17,"p"),j(18,"Registrate "),F(19,"a",11),j(20,"aqui"),L()()()),t&2){let i,o;z(),K("formGroup",r.loginForm),z(6),K("ngIf",((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched)),z(4),K("ngIf",((o=r.loginForm.get("password"))==null?null:o.invalid)&&((o=r.loginForm.get("password"))==null?null:o.touched)),z(),K("disabled",r.loginForm.invalid),z(3),K("ngForOf",r.usuariosAccesoRapido),z(),K("ngIf",r.flagError),z(3),K("routerLink",Hf(7,L5))}},dependencies:[hc,lc,wo,cc,uc,Ds,Cs,Ts,rc,go,tr,qa,uo],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#7e98f4,#ebb3b3)}.login-container[_ngcontent-%COMP%]{width:500px;font-family:system-ui;padding:20px;border:2px solid #000000;border-radius:10px;box-shadow:0 2px 10px #0000001a;background:linear-gradient(135deg,#d5e3fa,#bfb3f2)}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:8px;margin:10px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box;font-family:inherit}button[_ngcontent-%COMP%]{background-color:#ac57b1;color:#fff;padding:14px 20px;margin:8px 0;border:none;border-radius:20px;cursor:pointer;width:100%;font-family:inherit}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.error[_ngcontent-%COMP%]{color:red;font-size:12px}.botones-acceso-rapido[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.boton-usuario[_ngcontent-%COMP%]{border:none;background-color:#007bff;color:#fff;border-radius:50%;width:60px;height:60px;display:flex;justify-content:center;align-items:center;font-size:.8rem;cursor:pointer;transition:background-color .3s;outline:none}.boton-usuario[_ngcontent-%COMP%]:hover{background-color:#0056b3}.boton-usuario[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.imagen-usuario[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}"]})};var Ks=rh(sd());var G5=new W("recaptcha-language"),W5=new W("recaptcha-base-url"),K5=new W("recaptcha-nonce-tag"),Q5=new W("recaptcha-settings"),Y5=new W("recaptcha-v3-site-key"),Z5=new W("recaptcha-loader-options");function J5(n,e,t,{url:r,lang:i,nonce:o}={}){window.ng2recaptchaloaded=()=>{t(grecaptcha)};let s=document.createElement("script");s.innerHTML="";let{url:a,nonce:u}=e(new URL(r||"https://www.google.com/recaptcha/api.js"));a.searchParams.set("render",n==="explicit"?n:n.key),a.searchParams.set("onload","ng2recaptchaloaded"),a.searchParams.set("trustedtypes","true"),i&&a.searchParams.set("hl",i),s.src=a.href;let d=u||o;d&&s.setAttribute("nonce",d),s.async=!0,s.defer=!0,document.head.appendChild(s)}function X5({v3SiteKey:n,onBeforeLoad:e,onLoaded:t}){let r=n?{key:n}:"explicit";dP.loadScript(r,e,t)}var dP={loadScript:J5,newLoadScript:X5};function eG(n){return n.asObservable().pipe(Lt(e=>e!==null))}var hP=(()=>{class n{static{this.ready=null}constructor(t,r,i,o,s,a){this.platformId=t,this.language=r,this.baseUrl=i,this.nonce=o,this.v3SiteKey=s,this.options=a;let u=this.init();this.ready=u?eG(u):oe()}init(){if(n.ready)return n.ready;if(!m_(this.platformId))return;let t=new Et(null);return n.ready=t,dP.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:r=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(r);let i=new URL(this.baseUrl??r);return this.language&&i.searchParams.set("hl",this.language),{url:i,nonce:this.nonce}},onLoaded:r=>{let i=r;this.options?.onLoaded&&(i=this.options.onLoaded(r)),t.next(i)}}),t}static{this.\u0275fac=function(r){return new(r||n)(Z(Bt),Z(G5,8),Z(W5,8),Z(K5,8),Z(Y5,8),Z(Z5,8))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),tG=0,fP=(()=>{class n{constructor(t,r,i,o){this.elementRef=t,this.loader=r,this.zone=i,this.id=`ngrecaptcha-${tG++}`,this.errorMode="default",this.resolved=new Be,this.error=new Be,this.errored=new Be,o&&(this.siteKey=o.siteKey,this.theme=o.theme,this.type=o.type,this.size=o.size,this.badge=o.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{t!=null&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(t){this.error.emit(t),this.errored.emit(t)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let t={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(t["error-callback"]=(...r)=>{this.zone.run(()=>this.onError(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,t),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}static{this.\u0275fac=function(r){return new(r||n)(Y(jt),Y(hP),Y(De),Y(Q5,8))}}static{this.\u0275cmp=Vt({type:n,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(r,i){r&2&&ps("id",i.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return n})(),nG=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=yn({type:n})}static{this.\u0275inj=gn({})}}return n})(),pP=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=yn({type:n})}static{this.\u0275inj=gn({providers:[hP],imports:[nG]})}}return n})();var iG=()=>["/login"];function oG(n,e){n&1&&(F(0,"small"),j(1,"El nombre es obligatorio."),L())}function sG(n,e){n&1&&(F(0,"small"),j(1,"El nombre debe tener al menos 2 caracteres."),L())}function aG(n,e){if(n&1&&(F(0,"div",25),fe(1,oG,2,0,"small",16)(2,sG,2,0,"small",16),L()),n&2){let t=Me();z(),K("ngIf",t.registroForm.controls.nombre.errors==null?null:t.registroForm.controls.nombre.errors.required),z(),K("ngIf",t.registroForm.controls.nombre.errors==null?null:t.registroForm.controls.nombre.errors.minlength)}}function cG(n,e){n&1&&(F(0,"small"),j(1,"El apellido es obligatorio."),L())}function uG(n,e){n&1&&(F(0,"small"),j(1,"El apellido debe tener al menos 2 caracteres."),L())}function lG(n,e){if(n&1&&(F(0,"div",25),fe(1,cG,2,0,"small",16)(2,uG,2,0,"small",16),L()),n&2){let t=Me();z(),K("ngIf",t.registroForm.controls.apellido.errors==null?null:t.registroForm.controls.apellido.errors.required),z(),K("ngIf",t.registroForm.controls.apellido.errors==null?null:t.registroForm.controls.apellido.errors.minlength)}}function dG(n,e){n&1&&(F(0,"small"),j(1,"La edad es obligatoria."),L())}function hG(n,e){n&1&&(F(0,"small"),j(1,"Debes tener al menos 18 a\xF1os."),L())}function fG(n,e){n&1&&(F(0,"small"),j(1,"La edad no puede ser mayor a 120 a\xF1os."),L())}function pG(n,e){if(n&1&&(F(0,"div",25),fe(1,dG,2,0,"small",16)(2,hG,2,0,"small",16)(3,fG,2,0,"small",16),L()),n&2){let t=Me();z(),K("ngIf",t.registroForm.controls.edad.errors==null?null:t.registroForm.controls.edad.errors.required),z(),K("ngIf",t.registroForm.controls.edad.errors==null?null:t.registroForm.controls.edad.errors.min),z(),K("ngIf",t.registroForm.controls.edad.errors==null?null:t.registroForm.controls.edad.errors.max)}}function mG(n,e){n&1&&(F(0,"small"),j(1,"El DNI es obligatorio."),L())}function gG(n,e){n&1&&(F(0,"small"),j(1,"El DNI debe tener solo n\xFAmeros y entre 7 y 8 d\xEDgitos."),L())}function yG(n,e){if(n&1&&(F(0,"div",25),fe(1,mG,2,0,"small",16)(2,gG,2,0,"small",16),L()),n&2){let t=Me();z(),K("ngIf",t.registroForm.controls.dni.errors==null?null:t.registroForm.controls.dni.errors.required),z(),K("ngIf",t.registroForm.controls.dni.errors==null?null:t.registroForm.controls.dni.errors.pattern)}}function vG(n,e){n&1&&(F(0,"small"),j(1,"La obra social es obligatoria."),L())}function _G(n,e){if(n&1&&(F(0,"div",25),fe(1,vG,2,0,"small",16),L()),n&2){let t=Me(2);z(),K("ngIf",t.registroForm.controls.obraSocial.errors==null?null:t.registroForm.controls.obraSocial.errors.required)}}function wG(n,e){if(n&1){let t=er();F(0,"div")(1,"label",26),j(2,"Obra Social"),L(),Ge(3,"input",27),fe(4,_G,2,1,"div",9),F(5,"label",28),j(6,"Imagen 1:"),L(),F(7,"input",29),Fe("change",function(i){wn(t);let o=Me();return In(o.agregarImagen(i))}),L(),F(8,"label",30),j(9,"Imagen 2:"),L(),F(10,"input",29),Fe("change",function(i){wn(t);let o=Me();return In(o.agregarImagen(i))}),L()()}if(n&2){let t=Me();z(4),K("ngIf",t.registroForm.controls.obraSocial.invalid&&(t.registroForm.controls.obraSocial.touched||t.registroForm.controls.obraSocial.dirty))}}function IG(n,e){if(n&1&&(F(0,"option",39),j(1),L()),n&2){let t=e.$implicit;K("value",t.id),z(),On(t.name)}}function EG(n,e){if(n&1){let t=er();F(0,"div",31)(1,"label",32),j(2,"Especialidad"),L(),F(3,"select",33),fe(4,IG,2,2,"option",34),L(),F(5,"label",35),j(6,"Agregar Nueva Especialidad"),L(),F(7,"div",36),Ge(8,"input",37),F(9,"button",38),Fe("click",function(){wn(t);let i=Me();return In(i.agregarEspecialidad())}),j(10,"Agregar"),L()()()}if(n&2){let t=Me();z(4),K("ngForOf",t.especialidades)}}function bG(n,e){n&1&&(F(0,"small"),j(1,"El email es obligatorio."),L())}function CG(n,e){n&1&&(F(0,"small"),j(1,"El formato del email es incorrecto."),L())}function TG(n,e){if(n&1&&(F(0,"div",25),fe(1,bG,2,0,"small",16)(2,CG,2,0,"small",16),L()),n&2){let t=Me();z(),K("ngIf",t.registroForm.controls.email.errors==null?null:t.registroForm.controls.email.errors.required),z(),K("ngIf",t.registroForm.controls.email.errors==null?null:t.registroForm.controls.email.errors.email)}}function DG(n,e){n&1&&(F(0,"small"),j(1,"La contrase\xF1a es obligatoria."),L())}function SG(n,e){n&1&&(F(0,"small"),j(1,"La contrase\xF1a debe tener al menos 6 caracteres."),L())}function AG(n,e){if(n&1&&(F(0,"div",25),fe(1,DG,2,0,"small",16)(2,SG,2,0,"small",16),L()),n&2){let t=Me();z(),K("ngIf",t.registroForm.controls.password.errors==null?null:t.registroForm.controls.password.errors.required),z(),K("ngIf",t.registroForm.controls.password.errors==null?null:t.registroForm.controls.password.errors.minlength)}}var cg=class n{constructor(e,t,r,i,o){this.fb=e;this.authService=t;this.router=r;this.firestore=i;this.auth=o}registroForm;tipoUsuario="paciente";imgFile1Label="";imgFile2Label="";recaptchaResponse=null;especialidades=[];nuevaEspecialidad="";ngOnInit(){this.registroForm=this.fb.group({tipoUsuario:["paciente",le.required],nombre:["",[le.required,le.minLength(2)]],apellido:["",[le.required,le.minLength(2)]],edad:["",[le.required,le.min(18),le.max(120)]],dni:["",[le.required,le.pattern(/^\d{7,8}$/)]],obraSocial:[""],especialidad:[""],nuevaEspecialidad:[""],email:["",[le.required,le.email]],password:["",[le.required,le.minLength(6)]],imagenes:this.fb.array([],[le.minLength(1)])}),this.cargarEspecialidades(),this.registroForm.get("especialidad")?.valueChanges.subscribe(e=>{e==="otra"?this.registroForm.get("especialidadNueva")?.setValidators(le.required):this.registroForm.get("especialidadNueva")?.clearValidators(),this.registroForm.get("especialidadNueva")?.updateValueAndValidity()})}cargarEspecialidades(){return C(this,null,function*(){try{let e=bi(this.firestore,"especialidades"),t=yield og(e);this.especialidades=t.docs.map(r=>H({id:r.id},r.data()))}catch(e){console.error("Error al cargar las especialidades:",e)}})}agregarEspecialidad(){return C(this,null,function*(){let e=this.registroForm.get("nuevaEspecialidad")?.value?.trim();if(!e){Ks.default.fire("Error","La especialidad no puede estar vac\xEDa","error");return}try{let t=bi(this.firestore,"especialidades"),i=yield $c(t,{name:e});this.especialidades.push({id:i.id,name:e}),this.registroForm.get("nuevaEspecialidad")?.reset(),Ks.default.fire("\xC9xito","Especialidad agregada correctamente","success")}catch(t){console.error("Error al agregar la especialidad:",t),Ks.default.fire("Error","No se pudo agregar la especialidad","error")}})}setTipoUsuario(e){this.tipoUsuario=e,this.registroForm.get("tipoUsuario")?.setValue(e),e==="paciente"?(this.registroForm.get("obraSocial")?.setValidators(le.required),this.registroForm.get("especialidad")?.clearValidators()):e==="especialista"&&(this.registroForm.get("especialidad")?.setValidators(le.required),this.registroForm.get("obraSocial")?.clearValidators()),this.registroForm.get("obraSocial")?.updateValueAndValidity(),this.registroForm.get("especialidad")?.updateValueAndValidity()}get imagenes(){return this.registroForm.get("imagenes")}agregarImagen(e){let t=e.target.files[0];if(!t||!t.type.startsWith("image")){Ks.default.fire("Oops...","Debes elegir un archivo de tipo imagen.","error");return}this.imagenes.push(this.fb.control(t))}onCaptchaResolved(e){this.recaptchaResponse=e||""}onSubmit(){if(this.registroForm.invalid||!this.recaptchaResponse){this.registroForm.markAllAsTouched();return}let e=this.registroForm.value;this.authService.registro(e.email,e.password).then(t=>{let r=t.user;if(!r)throw new Error("El objeto user no est\xE1 definido.");return fM(r).then(()=>{let i=bi(this.firestore,"usuarios"),o={uid:r.uid,tipoUsuario:e.tipoUsuario,nombre:e.nombre,apellido:e.apellido,edad:e.edad,dni:e.dni,obraSocial:e.tipoUsuario==="paciente"?e.obraSocial:null,especialidad:e.tipoUsuario==="especialista"?e.especialidad:null,email:e.email,aprobado:e.tipoUsuario!=="especialista",fechaRegistro:new Date};return lP(Ci(this.firestore,`usuarios/${r.uid}`),o)})}).then(()=>{Ks.default.fire({title:"Registro exitoso",text:"Por favor, verifica tu correo electr\xF3nico para completar el registro.",icon:"success"}).then(()=>{this.router.navigate(["/home"])})}).catch(t=>{let r=this.obtenerMensajeDeError(t.code);Ks.default.fire({icon:"error",title:"Error de Registro",text:r})})}obtenerMensajeDeError(e){switch(e){case"auth/invalid-email":return"El email es inv\xE1lido";case"auth/email-already-in-use":return"El email ya est\xE1 en uso";case"auth/weak-password":return"La contrase\xF1a es muy d\xE9bil. Debe tener al menos 6 caracteres";default:return"Ocurri\xF3 un error desconocido"}}static \u0275fac=function(t){return new(t||n)(Y(dc),Y(Ln),Y(pt),Y(Dn),Y(yi))};static \u0275cmp=Vt({type:n,selectors:[["app-register"]],standalone:!0,features:[on],decls:44,vars:16,consts:[[1,"register-container"],[3,"ngSubmit","formGroup"],["for","tipoUsuario"],[1,"tipo-usuario-buttons"],["type","button",3,"click"],["src","assets/paciente.png","alt","Paciente"],["src","assets/doctor.png","alt","Especialista"],["for","nombre"],["type","text","formControlName","nombre","id","nombre","required",""],["class","error",4,"ngIf"],["for","apellido"],["type","text","formControlName","apellido","id","apellido","required",""],["for","edad"],["type","number","formControlName","edad","id","edad","required",""],["for","dni"],["type","text","formControlName","dni","id","dni","required",""],[4,"ngIf"],["class","col-md-6 mb-3",4,"ngIf"],["for","email"],["type","email","formControlName","email","id","email","required",""],["for","password"],["type","password","formControlName","password","id","password","required",""],["siteKey","6LfYr3wqAAAAAI6opWRi2sTNVD1xthY74Q_gX0n-",3,"resolved"],["type","submit",3,"disabled"],[3,"routerLink"],[1,"error"],["for","obraSocial"],["type","text","formControlName","obraSocial","id","obraSocial","required",""],["for","img1"],["type","file","required","",3,"change"],["for","img2"],[1,"col-md-6","mb-3"],["for","especialidad"],["formControlName","especialidad",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","nuevaEspecialidad"],[1,"input-group"],["type","text","id","nuevaEspecialidad","formControlName","nuevaEspecialidad","placeholder","Nueva especialidad",1,"form-control"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(t,r){if(t&1&&(F(0,"div",0)(1,"form",1),Fe("ngSubmit",function(){return r.onSubmit()}),F(2,"h2"),j(3,"Registro"),L(),F(4,"label",2),j(5,"Tipo de usuario"),L(),F(6,"div",3)(7,"button",4),Fe("click",function(){return r.setTipoUsuario("paciente")}),Ge(8,"img",5),L(),F(9,"button",4),Fe("click",function(){return r.setTipoUsuario("especialista")}),Ge(10,"img",6),L()(),F(11,"label",7),j(12,"Nombre"),L(),Ge(13,"input",8),fe(14,aG,3,2,"div",9),F(15,"label",10),j(16,"Apellido"),L(),Ge(17,"input",11),fe(18,lG,3,2,"div",9),F(19,"label",12),j(20,"Edad"),L(),Ge(21,"input",13),fe(22,pG,4,3,"div",9),F(23,"label",14),j(24,"DNI"),L(),Ge(25,"input",15),fe(26,yG,3,2,"div",9)(27,wG,11,1,"div",16)(28,EG,11,1,"div",17),F(29,"label",18),j(30,"Email"),L(),Ge(31,"input",19),fe(32,TG,3,2,"div",9),F(33,"label",20),j(34,"Contrase\xF1a"),L(),Ge(35,"input",21),fe(36,AG,3,2,"div",9),F(37,"re-captcha",22),Fe("resolved",function(o){return r.onCaptchaResolved(o)}),L(),F(38,"button",23),j(39,"Registrarse"),L()(),F(40,"p"),j(41,"\xBFYa tienes una cuenta? "),F(42,"a",24),j(43,"Iniciar sesi\xF3n aqu\xED"),L()()()),t&2){let i,o,s;z(),K("formGroup",r.registroForm),z(6),ms("selected",((i=r.registroForm.get("tipoUsuario"))==null?null:i.value)==="paciente"),z(2),ms("selected",((o=r.registroForm.get("tipoUsuario"))==null?null:o.value)==="especialista"),z(5),K("ngIf",r.registroForm.controls.nombre.invalid&&(r.registroForm.controls.nombre.touched||r.registroForm.controls.nombre.dirty)),z(4),K("ngIf",r.registroForm.controls.apellido.invalid&&(r.registroForm.controls.apellido.touched||r.registroForm.controls.apellido.dirty)),z(4),K("ngIf",r.registroForm.controls.edad.invalid&&(r.registroForm.controls.edad.touched||r.registroForm.controls.edad.dirty)),z(4),K("ngIf",r.registroForm.controls.dni.invalid&&(r.registroForm.controls.dni.touched||r.registroForm.controls.dni.dirty)),z(),K("ngIf",r.tipoUsuario==="paciente"),z(),K("ngIf",((s=r.registroForm.get("tipoUsuario"))==null?null:s.value)==="especialista"),z(4),K("ngIf",r.registroForm.controls.email.invalid&&(r.registroForm.controls.email.touched||r.registroForm.controls.email.dirty)),z(4),K("ngIf",r.registroForm.controls.password.invalid&&(r.registroForm.controls.password.touched||r.registroForm.controls.password.dirty)),z(2),K("disabled",r.registroForm.invalid||!r.recaptchaResponse),z(4),K("routerLink",Hf(15,iG))}},dependencies:[hc,lc,LR,UR,wo,Tl,Fp,cc,uc,Ds,Cs,Ts,tr,qa,uo,rc,go,pP,fP,Lp],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#7e98f4,#ebb3b3);padding:20px;box-sizing:border-box;overflow:hidden}.register-container[_ngcontent-%COMP%]{height:550px;width:100%;max-width:400px;font-family:system-ui;padding:20px;border:2px solid #000000;border-radius:10px;box-shadow:0 2px 10px #0000001a;background:linear-gradient(135deg,#d5e3fa,#bfb3f2);overflow-y:auto;max-height:90vh;margin-top:50px}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:block;font-size:16px;margin-bottom:8px;color:#333}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;margin-bottom:15px;display:block;box-sizing:border-box;padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{background-color:#4c5baf;color:#fff;padding:14px 20px;margin:8px 0;border:none;border-radius:10px;cursor:pointer;width:100%;font-family:inherit}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}@media (max-height: 600px){.register-container[_ngcontent-%COMP%]{padding:10px;max-height:80vh}}.tipo-usuario-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:20px}.tipo-usuario-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;cursor:pointer;padding:0;border-radius:50%;width:70px;height:70px;display:flex;justify-content:center;align-items:center;transition:transform .2s}.tipo-usuario-buttons[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border:3px solid #4c5baf;border-radius:50%}.tipo-usuario-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.tipo-usuario-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}"]})};var Oo=rh(sd());function RG(n,e){if(n&1){let t=er();F(0,"button",23),Fe("click",function(){wn(t);let i=Me().$implicit,o=Me(2);return In(o.habilitarEspecialista(i))}),j(1," Habilitar "),L()}}function xG(n,e){if(n&1){let t=er();F(0,"button",23),Fe("click",function(){wn(t);let i=Me().$implicit,o=Me(2);return In(o.inhabilitarEspecialista(i))}),j(1," Inhabilitar "),L()}}function MG(n,e){if(n&1&&(F(0,"tr")(1,"td"),j(2),L(),F(3,"td"),j(4),L(),F(5,"td"),j(6),L(),F(7,"td"),j(8),L(),F(9,"td"),fe(10,RG,2,0,"button",22)(11,xG,2,0,"button",22),L()()),n&2){let t=e.$implicit;z(2),On(t.nombre),z(2),On(t.apellido),z(2),On(t.email),z(2),On(t.tipoUsuario),z(2),K("ngIf",t.tipoUsuario==="especialista"&&!t.aprobado),z(),K("ngIf",t.tipoUsuario==="especialista"&&t.aprobado)}}function NG(n,e){n&1&&(F(0,"small"),j(1,"El nombre es obligatorio."),L())}function PG(n,e){n&1&&(F(0,"small"),j(1,"Debe tener al menos 2 caracteres."),L())}function OG(n,e){if(n&1&&(F(0,"div",24),fe(1,NG,2,0,"small",25)(2,PG,2,0,"small",25),L()),n&2){let t,r,i=Me(2);z(),K("ngIf",(t=i.registroForm.get("nombre"))==null||t.errors==null?null:t.errors.required),z(),K("ngIf",(r=i.registroForm.get("nombre"))==null||r.errors==null?null:r.errors.minlength)}}function kG(n,e){n&1&&(F(0,"small"),j(1,"El apellido es obligatorio."),L())}function FG(n,e){n&1&&(F(0,"small"),j(1,"Debe tener al menos 2 caracteres."),L())}function LG(n,e){if(n&1&&(F(0,"div",24),fe(1,kG,2,0,"small",25)(2,FG,2,0,"small",25),L()),n&2){let t,r,i=Me(2);z(),K("ngIf",(t=i.registroForm.get("apellido"))==null||t.errors==null?null:t.errors.required),z(),K("ngIf",(r=i.registroForm.get("apellido"))==null||r.errors==null?null:r.errors.minlength)}}function VG(n,e){n&1&&(F(0,"small"),j(1,"La edad es obligatoria."),L())}function UG(n,e){n&1&&(F(0,"small"),j(1,"Debes tener al menos 18 a\xF1os."),L())}function jG(n,e){n&1&&(F(0,"small"),j(1,"La edad no puede ser mayor a 120 a\xF1os."),L())}function BG(n,e){if(n&1&&(F(0,"div",24),fe(1,VG,2,0,"small",25)(2,UG,2,0,"small",25)(3,jG,2,0,"small",25),L()),n&2){let t,r,i,o=Me(2);z(),K("ngIf",(t=o.registroForm.get("edad"))==null||t.errors==null?null:t.errors.required),z(),K("ngIf",(r=o.registroForm.get("edad"))==null||r.errors==null?null:r.errors.min),z(),K("ngIf",(i=o.registroForm.get("edad"))==null||i.errors==null?null:i.errors.max)}}function $G(n,e){n&1&&(F(0,"small"),j(1,"El DNI es obligatorio."),L())}function HG(n,e){n&1&&(F(0,"small"),j(1,"Debe tener solo n\xFAmeros y entre 7 y 8 d\xEDgitos."),L())}function qG(n,e){if(n&1&&(F(0,"div",24),fe(1,$G,2,0,"small",25)(2,HG,2,0,"small",25),L()),n&2){let t,r,i=Me(2);z(),K("ngIf",(t=i.registroForm.get("dni"))==null||t.errors==null?null:t.errors.required),z(),K("ngIf",(r=i.registroForm.get("dni"))==null||r.errors==null?null:r.errors.pattern)}}function zG(n,e){n&1&&(F(0,"small"),j(1,"El email es obligatorio."),L())}function GG(n,e){n&1&&(F(0,"small"),j(1,"El formato del email es incorrecto."),L())}function WG(n,e){if(n&1&&(F(0,"div",24),fe(1,zG,2,0,"small",25)(2,GG,2,0,"small",25),L()),n&2){let t,r,i=Me(2);z(),K("ngIf",(t=i.registroForm.get("email"))==null||t.errors==null?null:t.errors.required),z(),K("ngIf",(r=i.registroForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function KG(n,e){n&1&&(F(0,"small"),j(1,"La contrase\xF1a es obligatoria."),L())}function QG(n,e){n&1&&(F(0,"small"),j(1,"Debe tener al menos 6 caracteres."),L())}function YG(n,e){if(n&1&&(F(0,"div",24),fe(1,KG,2,0,"small",25)(2,QG,2,0,"small",25),L()),n&2){let t,r,i=Me(2);z(),K("ngIf",(t=i.registroForm.get("password"))==null||t.errors==null?null:t.errors.required),z(),K("ngIf",(r=i.registroForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}function ZG(n,e){n&1&&(F(0,"div",24)(1,"small"),j(2,"La imagen es obligatoria."),L()())}function JG(n,e){if(n&1){let t=er();F(0,"div")(1,"h2"),j(2,"Gesti\xF3n de Usuarios"),L(),F(3,"table",2)(4,"thead")(5,"tr")(6,"th"),j(7,"Nombre"),L(),F(8,"th"),j(9,"Apellido"),L(),F(10,"th"),j(11,"Email"),L(),F(12,"th"),j(13,"Tipo de Usuario"),L(),F(14,"th"),j(15,"Acciones"),L()()(),F(16,"tbody"),fe(17,MG,12,6,"tr",3),L()(),F(18,"div",4)(19,"h3"),j(20,"Crear Nuevo Usuario"),L(),F(21,"form",5),Fe("ngSubmit",function(){wn(t);let i=Me();return In(i.crearUsuario())}),F(22,"label",6),j(23,"Nombre:"),L(),Ge(24,"input",7),fe(25,OG,3,2,"div",8),F(26,"label",9),j(27,"Apellido:"),L(),Ge(28,"input",10),fe(29,LG,3,2,"div",8),F(30,"label",11),j(31,"Edad:"),L(),Ge(32,"input",12),fe(33,BG,4,3,"div",8),F(34,"label",13),j(35,"DNI:"),L(),Ge(36,"input",14),fe(37,qG,3,2,"div",8),F(38,"label",15),j(39,"Email:"),L(),Ge(40,"input",16),fe(41,WG,3,2,"div",8),F(42,"label",17),j(43,"Contrase\xF1a:"),L(),Ge(44,"input",18),fe(45,YG,3,2,"div",8),F(46,"label",19),j(47,"Imagen de Perfil:"),L(),F(48,"input",20),Fe("change",function(i){wn(t);let o=Me();return In(o.seleccionarImagen(i))}),L(),fe(49,ZG,3,0,"div",8),F(50,"button",21),j(51,"Crear Usuario"),L()()()()}if(n&2){let t,r,i,o,s,a,u,d=Me();z(17),K("ngForOf",d.usuarios),z(4),K("formGroup",d.registroForm),z(4),K("ngIf",((t=d.registroForm.get("nombre"))==null?null:t.invalid)&&((t=d.registroForm.get("nombre"))==null?null:t.touched)),z(4),K("ngIf",((r=d.registroForm.get("apellido"))==null?null:r.invalid)&&((r=d.registroForm.get("apellido"))==null?null:r.touched)),z(4),K("ngIf",((i=d.registroForm.get("edad"))==null?null:i.invalid)&&((i=d.registroForm.get("edad"))==null?null:i.touched)),z(4),K("ngIf",((o=d.registroForm.get("dni"))==null?null:o.invalid)&&((o=d.registroForm.get("dni"))==null?null:o.touched)),z(4),K("ngIf",((s=d.registroForm.get("email"))==null?null:s.invalid)&&((s=d.registroForm.get("email"))==null?null:s.touched)),z(4),K("ngIf",((a=d.registroForm.get("password"))==null?null:a.invalid)&&((a=d.registroForm.get("password"))==null?null:a.touched)),z(4),K("ngIf",((u=d.registroForm.get("imagen"))==null?null:u.invalid)&&((u=d.registroForm.get("imagen"))==null?null:u.touched)),z(),K("disabled",d.registroForm.invalid)}}function XG(n,e){n&1&&(F(0,"p"),j(1,"No tienes permiso para acceder a esta secci\xF3n."),L())}var ug=class n{constructor(e,t,r){this.firestore=e;this.authService=t;this.fb=r}usuarios=[];isAdmin=!1;registroForm;imagenSeleccionada=null;tipoUsuario="paciente";especialidades=[{id:"1",name:"Cardiolog\xEDa"},{id:"2",name:"Neurolog\xEDa"}];ngOnInit(){return C(this,null,function*(){try{let e=yield this.authService.getUserProfile();this.isAdmin=e.tipoUsuario==="administrador",this.isAdmin?(this.cargarUsuarios(),this.inicializarFormulario()):Oo.default.fire("Acceso denegado","Solo los Administradores pueden acceder a esta secci\xF3n.","error")}catch(e){console.error("Error al obtener el perfil del usuario:",e),Oo.default.fire("Error","No se pudo verificar el perfil del usuario.","error")}})}inicializarFormulario(){this.registroForm=this.fb.group({nombre:["",[le.required,le.minLength(2)]],apellido:["",[le.required,le.minLength(2)]],edad:["",[le.required,le.min(18),le.max(120)]],dni:["",[le.required,le.pattern(/^\d{7,8}$/)]],email:["",[le.required,le.email]],password:["",[le.required,le.minLength(6)]],tipoUsuario:["administrador",le.required],imagen:[null,le.required]})}cargarUsuarios(){let e=bi(this.firestore,"usuarios");og(e).then(t=>{this.usuarios=t.docs.map(r=>we(H({},r.data()),{id:r.id}))})}crearUsuario(){if(this.registroForm.invalid||!this.imagenSeleccionada){Oo.default.fire("Error","Completa todos los campos correctamente.","error"),this.registroForm.markAllAsTouched();return}let i=this.registroForm.value,{email:e,password:t}=i,r=nh(i,["email","password"]);this.authService.registro(e,t).then(o=>{let s=o.user;if(!s)throw new Error("Error al crear el usuario.");let a=we(H({},r),{id:s.uid,email:e,imgUrl1:this.imagenSeleccionada?this.imagenSeleccionada.name:"",aprobado:r.tipoUsuario!=="especialista"}),u=bi(this.firestore,"usuarios");return $c(u,a)}).then(()=>{Oo.default.fire("Usuario creado","El usuario ha sido creado correctamente.","success"),this.cargarUsuarios()}).catch(o=>{console.error("Error al crear usuario:",o),Oo.default.fire("Error","No se pudo crear el usuario.","error")})}setTipoUsuario(e){this.tipoUsuario=e,this.registroForm.get("tipoUsuario")?.setValue(e),e==="paciente"?(this.registroForm.get("obraSocial")?.setValidators(le.required),this.registroForm.get("especialidad")?.clearValidators()):e==="especialista"?(this.registroForm.get("especialidad")?.setValidators(le.required),this.registroForm.get("obraSocial")?.clearValidators()):(this.registroForm.get("obraSocial")?.clearValidators(),this.registroForm.get("especialidad")?.clearValidators()),this.registroForm.get("obraSocial")?.updateValueAndValidity(),this.registroForm.get("especialidad")?.updateValueAndValidity()}seleccionarImagen(e){let t=e.target.files[0];t&&(this.imagenSeleccionada=t)}habilitarEspecialista(e){let t=Ci(this.firestore,`usuarios/${e.id}`);qb(t,{aprobado:!0}).then(()=>{Oo.default.fire("Habilitado","El usuario especialista ha sido habilitado.","success"),this.cargarUsuarios()})}inhabilitarEspecialista(e){let t=Ci(this.firestore,`usuarios/${e.id}`);qb(t,{aprobado:!1}).then(()=>{Oo.default.fire("Inhabilitado","El usuario especialista ha sido inhabilitado.","warning"),this.cargarUsuarios()})}static \u0275fac=function(t){return new(t||n)(Y(Dn),Y(Ln),Y(dc))};static \u0275cmp=Vt({type:n,selectors:[["app-lista-usuarios"]],standalone:!0,features:[on],decls:3,vars:2,consts:[["noAccess",""],[4,"ngIf","ngIfElse"],[1,"user-table"],[4,"ngFor","ngForOf"],[1,"create-admin-form"],[3,"ngSubmit","formGroup"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","required",""],["class","error",4,"ngIf"],["for","apellido"],["type","text","id","apellido","formControlName","apellido","required",""],["for","edad"],["type","number","id","edad","formControlName","edad","required",""],["for","dni"],["type","text","id","dni","formControlName","dni","required",""],["for","email"],["type","email","id","email","formControlName","email","required",""],["for","password"],["type","password","id","password","formControlName","password","required",""],["for","imagen"],["type","file","id","imagen","required","",3,"change"],["type","submit",3,"disabled"],[3,"click",4,"ngIf"],[3,"click"],[1,"error"],[4,"ngIf"]],template:function(t,r){if(t&1&&fe(0,JG,52,10,"div",1)(1,XG,2,0,"ng-template",null,0,yS),t&2){let i=pS(2);K("ngIf",r.isAdmin)("ngIfElse",i)}},dependencies:[tr,qa,uo,Lp,lc,wo,Tl,cc,uc,Ds,hc,Cs,Ts],styles:["[_nghost-%COMP%]{display:block;padding:20px;background:linear-gradient(135deg,#6a9efc,#fc8ca4);font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}h2[_ngcontent-%COMP%]{margin-top:50px;text-align:center;color:#222;margin-bottom:25px;font-size:2.5rem;font-weight:700}.user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:2px solid #000000;margin-bottom:30px;background-color:#fff;box-shadow:0 4px 12px #0000001a;border-radius:8px;overflow:hidden}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 20px;text-align:left;border-bottom:1px solid #ddd}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#0056b3;color:#fff;text-transform:uppercase;font-size:.9rem;letter-spacing:1px}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 12px;border:none;border-radius:4px;cursor:pointer;font-size:.85rem;transition:background-color .3s}.user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#28a745;color:#fff;margin-right:5px}.user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child:hover{background-color:#218838}.user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#dc3545;color:#fff}.user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background-color:#c82333}.create-admin-form[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #000000;padding:25px;border-radius:10px;box-shadow:0 4px 12px #0000001a;max-width:600px;margin:0 auto}.create-admin-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:#222;margin-bottom:20px;font-size:1.8rem;font-weight:700}.create-admin-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#444;font-weight:600}.create-admin-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ddd;border-radius:5px;transition:border-color .3s;font-size:.95rem}.create-admin-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#0056b3;outline:none}.create-admin-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#0056b3;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer;font-weight:600;transition:background-color .3s}.create-admin-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#003d80}p[_ngcontent-%COMP%]{text-align:center;color:#e74c3c;font-weight:700;font-size:1.1rem}"]})};var mP=rh(sd());var lg=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return C(this,null,function*(){let e=yield this.authService.getUserProfile();return e&&e.tipoUsuario==="administrador"?!0:(mP.default.fire("Acceso denegado","Solo los Administradores pueden acceder a esta secci\xF3n.","error"),this.router.navigate(["/home"]),!1)})}static \u0275fac=function(t){return new(t||n)(Z(Ln),Z(pt))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var gP=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:yl},{path:"ingresar",component:ag},{path:"registro",component:cg},{path:"test",component:yl},{path:"usuarios",component:ug,canActivate:[lg]},{path:"**",component:Ep}];var EP="firebasestorage.googleapis.com",e6="storageBucket",t6=2*60*1e3,n6=10*60*1e3;var $r=class n extends Jt{constructor(e,t,r=0){super(Wb(e),`Firebase Storage: ${t} (${Wb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Di=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Di||{});function Wb(n){return"storage/"+n}function r6(){let n="An unknown error occurred, please check the error payload for server response.";return new $r(Di.UNKNOWN,n)}function i6(){return new $r(Di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o6(){return new $r(Di.CANCELED,"User canceled the upload/download.")}function s6(n){return new $r(Di.INVALID_URL,"Invalid URL '"+n+"'.")}function a6(n){return new $r(Di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function yP(n){return new $r(Di.INVALID_ARGUMENT,n)}function bP(){return new $r(Di.APP_DELETED,"The Firebase app was deleted.")}function c6(n){return new $r(Di.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Ti=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw a6(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function d(ee){ee.path_=decodeURIComponent(ee.path)}let p="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",I=new RegExp(`^https?://${m}/${p}/b/${i}/o${_}`,"i"),x={bucket:1,path:3},k=t===EP?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",B=new RegExp(`^https?://${k}/${i}/${N}`,"i"),G=[{regex:a,indices:u,postModify:o},{regex:I,indices:x,postModify:d},{regex:B,indices:{bucket:1,path:2},postModify:d}];for(let ee=0;ee<G.length;ee++){let pe=G[ee],ie=pe.regex.exec(e);if(ie){let D=ie[pe.indices.bucket],E=ie[pe.indices.path];E||(E=""),r=new n(D,E),pe.postModify(r);break}}if(r==null)throw s6(e);return r}},Kb=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function u6(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let d=!1;function p(...N){d||(d=!0,e.apply(null,N))}function m(N){i=setTimeout(()=>{i=null,n(I,u())},N)}function _(){o&&clearTimeout(o)}function I(N,...B){if(d){_();return}if(N){_(),p.call(null,N,...B);return}if(u()||s){_(),p.call(null,N,...B);return}r<64&&(r*=2);let G;a===1?(a=2,G=0):G=(r+Math.random())*1e3,m(G)}let x=!1;function k(N){x||(x=!0,_(),!d&&(i!==null?(N||(a=2),clearTimeout(i),m(0)):N||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,k(!0)},t),k}function l6(n){n(!1)}function d6(n){return n!==void 0}function vP(n,e,t,r){if(r<e)throw yP(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw yP(`Invalid value for '${n}'. Expected ${t} or less.`)}function h6(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Qb=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Qb||{});function f6(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var Yb=class{constructor(e,t,r,i,o,s,a,u,d,p,m,_=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=m,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,x)=>{this.resolve_=I,this.reject_=x,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Hc(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Qb.NO_ERROR,u=o.getStatus();if(!a||f6(u,this.additionalRetryCodes_)&&this.retry){let p=o.getErrorCode()===Qb.ABORT;r(!1,new Hc(!1,null,p));return}let d=this.successCodes_.indexOf(u)!==-1;r(!0,new Hc(d,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());d6(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=r6();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?bP():o6();s(u)}else{let u=i6();s(u)}};this.canceled_?t(!1,new Hc(!1,null,!0)):this.backoffId_=u6(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&l6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Hc=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function p6(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function m6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function g6(n,e){e&&(n["X-Firebase-GMPID"]=e)}function y6(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function v6(n,e,t,r,i,o,s=!0){let a=h6(n.urlParams),u=n.url+a,d=Object.assign({},n.headers);return g6(d,e),p6(d,t),m6(d,o),y6(d,r),new Yb(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}function _6(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function w6(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var Ene=256*1024;var Zb=class n{constructor(e,t){this._service=e,t instanceof Ti?this._location=t:this._location=Ti.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return w6(this._location.path)}get storage(){return this._service}get parent(){let e=_6(this._location.path);if(e===null)return null;let t=new Ti(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw c6(e)}};function _P(n,e){let t=e?.[e6];return t==null?null:Ti.makeFromBucketSpec(t,n)}function I6(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Bp(i,n.app.options.projectId))}var Jb=class{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=EP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=t6,this._maxUploadRetryTime=n6,this._requests=new Set,i!=null?this._bucket=Ti.makeFromBucketSpec(i,this._host):this._bucket=_P(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ti.makeFromBucketSpec(this._url,e):this._bucket=_P(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return C(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return C(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zb(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new Kb(bP());{let s=v6(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return C(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},wP="@firebase/storage",IP="0.13.2";var CP="storage";function TP(n=bo(),e){n=at(n);let r=Rs(n,CP).getImmediate({identifier:e}),i=jp("storage");return i&&DP(r,...i),r}function DP(n,e,t,r={}){I6(n,e,t,r)}function E6(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Jb(t,r,i,e,xr)}function b6(){Rr(new sn(CP,E6,"PUBLIC").setMultipleInstances(!0)),Ye(wP,IP,""),Ye(wP,IP,"esm2017")}b6();var cd=class{constructor(e){return e}},SP="storage",Xb=class{constructor(){return Ms(SP)}};var e0=new W("angularfire2.storage-instances");function C6(n,e){let t=gc(SP,n,e);return t&&new cd(t)}function T6(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new cd(r)}}var D6={provide:Xb,deps:[[new st,e0]]},S6={provide:cd,useFactory:C6,deps:[[new st,e0],or]};function AP(n,...e){return Ye("angularfire",li.full,"gcs"),Ut([S6,D6,{provide:e0,useFactory:T6(n),multi:!0,deps:[De,ft,To,di,[new st,Fs],[new st,Co],...e]}])}var RP=bt(TP,!0);var A6={apiKey:"AIzaSyAA03qxSOen5q0quwYEfU9Oqu55H0wgsho",authDomain:"labiv-tp-final-56381.firebaseapp.com",projectId:"labiv-tp-final-56381",storageBucket:"labiv-tp-final-56381.firebasestorage.app",messagingSenderId:"408083825602",appId:"1:408083825602:web:b214743e886a4cf6fa4c5b"},xP={providers:[bS({eventCoalescing:!0}),rR(gP),fA(),fx(()=>px(A6)),lM(()=>hM()),cP(()=>uP()),AP(()=>RP()),nA()]};function R6(n,e){n&1&&(F(0,"li")(1,"a",4),j(2,"Ingresar"),L()())}function x6(n,e){n&1&&(F(0,"li")(1,"a",5),j(2,"Registrarse"),L()())}function M6(n,e){n&1&&(F(0,"li")(1,"a",6),j(2,"Usuarios"),L()())}function N6(n,e){if(n&1){let t=er();F(0,"li",7)(1,"a",8),Fe("click",function(){wn(t);let i=Me();return In(i.logout())}),j(2,"Cerrar Sesi\xF3n"),L()()}}var dg=class n{constructor(e,t){this.router=e;this.authService=t}isLoggedIn=!1;ngOnInit(){this.authService.isLoggedInEmitter.subscribe(e=>{this.isLoggedIn=e})}goTo(e){this.router.navigate([e])}logout(){this.authService.logout().then(()=>{this.isLoggedIn=!1,this.router.navigate(["/home"])})}static \u0275fac=function(t){return new(t||n)(Y(pt),Y(Ln))};static \u0275cmp=Vt({type:n,selectors:[["app-root"]],standalone:!0,features:[on],decls:10,vars:4,consts:[[1,"navbar"],["routerLink","/home","routerLinkActive","active"],[4,"ngIf"],["class","logout",4,"ngIf"],["routerLink","/ingresar","routerLinkActive","active"],["routerLink","/registro","routerLinkActive","active"],["routerLink","/usuarios","routerLinkActive","active"],[1,"logout"],[3,"click"]],template:function(t,r){t&1&&(F(0,"nav",0)(1,"ul")(2,"li")(3,"a",1),j(4,"Home"),L()(),fe(5,R6,3,0,"li",2)(6,x6,3,0,"li",2)(7,M6,3,0,"li",2)(8,N6,3,0,"li",3),L()(),Ge(9,"router-outlet")),t&2&&(z(5),K("ngIf",!r.isLoggedIn),z(),K("ngIf",!r.isLoggedIn),z(),K("ngIf",r.isLoggedIn),z(),K("ngIf",r.isLoggedIn))},dependencies:[sw,go,tR,tr,uo],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;margin:0;padding:0}.navbar[_ngcontent-%COMP%]{background-color:#333;padding:10px;position:fixed;top:0;left:0;width:100%;z-index:100}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;display:flex}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:20px}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:8px 16px;display:block}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .active[_ngcontent-%COMP%]{background-color:#575757;border-radius:5px}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:stretch;height:calc(100vh - 60px);margin-top:60px;background-color:inherit;width:100%;overflow:hidden}router-outlet[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;overflow:hidden}.logout[_ngcontent-%COMP%]{margin-left:auto}"]})};dA(dg,xP).catch(n=>console.error(n));
