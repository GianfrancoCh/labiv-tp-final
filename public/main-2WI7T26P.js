var _P=Object.create;var Xg=Object.defineProperty,IP=Object.defineProperties,EP=Object.getOwnPropertyDescriptor,bP=Object.getOwnPropertyDescriptors,DP=Object.getOwnPropertyNames,Sd=Object.getOwnPropertySymbols,Db=Object.getPrototypeOf,em=Object.prototype.hasOwnProperty,Cb=Object.prototype.propertyIsEnumerable,CP=Reflect.get;var bb=(t,e,n)=>e in t?Xg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e)=>{for(var n in e||={})em.call(e,n)&&bb(t,n,e[n]);if(Sd)for(var n of Sd(e))Cb.call(e,n)&&bb(t,n,e[n]);return t},ve=(t,e)=>IP(t,bP(e));var Tb=(t,e)=>{var n={};for(var r in t)em.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Sd)for(var r of Sd(t))e.indexOf(r)<0&&Cb.call(t,r)&&(n[r]=t[r]);return n};var TP=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var AP=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of DP(e))!em.call(t,i)&&i!==n&&Xg(t,i,{get:()=>e[i],enumerable:!(r=EP(e,i))||r.enumerable});return t};var Ab=(t,e,n)=>(n=t!=null?_P(Db(t)):{},AP(e||!t||!t.__esModule?Xg(n,"default",{value:t,enumerable:!0}):n,t));var Si=(t,e,n)=>CP(Db(t),n,e);var C=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(d){i(d)}},o=u=>{try{a(n.throw(u))}catch(d){i(d)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});var ob=TP((Tr,sb)=>{"use strict";(function(t,e){typeof Tr=="object"&&typeof sb<"u"?sb.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(Tr,function(){"use strict";function t(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(l,h){return l.get(t(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(t(l,h),y),y}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,w=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),h()},s),window.scrollTo(y,w)}),d="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),I=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),M="SweetAlert2:",O=l=>l.charAt(0).toUpperCase()+l.slice(1),N=l=>{console.warn(`${M} ${typeof l=="object"?l.join(" "):l}`)},V=l=>{console.error(`${M} ${l}`)},z=[],$=l=>{z.includes(l)||(z.push(l),N(l))},G=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;$(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},le=l=>typeof l=="function"?l():l,Q=l=>l&&typeof l.toPromise=="function",T=l=>Q(l)?l.toPromise():Promise.resolve(l),E=l=>l&&Promise.resolve(l)===l,b=()=>document.body.querySelector(`.${g.container}`),A=l=>{let h=b();return h?h.querySelector(l):null},S=l=>A(`.${l}`),R=()=>S(g.popup),D=()=>S(g.icon),Tn=()=>S(g["icon-content"]),li=()=>S(g.title),vc=()=>S(g["html-container"]),di=()=>S(g.image),Sr=()=>S(g["progress-steps"]),hi=()=>S(g["validation-message"]),en=()=>A(`.${g.actions} .${g.confirm}`),fi=()=>A(`.${g.actions} .${g.cancel}`),Mt=()=>A(`.${g.actions} .${g.deny}`),gt=()=>S(g["input-label"]),pi=()=>A(`.${g.loader}`),An=()=>S(g.actions),Fl=()=>S(g.footer),Wn=()=>S(g["timer-progress-bar"]),wc=()=>S(g.close),kg=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,gi=()=>{let l=R();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort((H,ge)=>{let Ne=parseInt(H.getAttribute("tabindex")||"0"),qe=parseInt(ge.getAttribute("tabindex")||"0");return Ne>qe?1:Ne<qe?-1:0}),w=l.querySelectorAll(kg),P=Array.from(w).filter(H=>H.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(P))].filter(H=>Ct(H))},mi=()=>tn(document.body,g.shown)&&!tn(document.body,g["toast-shown"])&&!tn(document.body,g["no-backdrop"]),yi=()=>{let l=R();return l?tn(l,g.toast):!1},_c=()=>{let l=R();return l?l.hasAttribute("data-loading"):!1},Dt=(l,h)=>{if(l.textContent="",h){let w=new DOMParser().parseFromString(h,"text/html"),P=w.querySelector("head");P&&Array.from(P.childNodes).forEach(ge=>{l.appendChild(ge)});let H=w.querySelector("body");H&&Array.from(H.childNodes).forEach(ge=>{ge instanceof HTMLVideoElement||ge instanceof HTMLAudioElement?l.appendChild(ge.cloneNode(!0)):l.appendChild(ge)})}},tn=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let w=0;w<y.length;w++)if(!l.classList.contains(y[w]))return!1;return!0},Ll=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(g).includes(y)&&!Object.values(I).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},Nt=(l,h,y)=>{if(Ll(l,h),!h.customClass)return;let w=h.customClass[y];if(w){if(typeof w!="string"&&!w.forEach){N(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof w}"`);return}_e(l,w)}},So=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[h]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},Ic=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},Ec=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(l)?l.forEach(P=>{y?P.classList.add(w):P.classList.remove(w)}):y?l.classList.add(w):l.classList.remove(w)}))},_e=(l,h)=>{Ec(l,h,!0)},nn=(l,h)=>{Ec(l,h,!1)},Kn=(l,h)=>{let y=Array.from(l.children);for(let w=0;w<y.length;w++){let P=y[w];if(P instanceof HTMLElement&&tn(P,h))return P}},Sn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},ze=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},Xe=l=>{l&&(l.style.display="none")},et=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{Qn(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},mt=(l,h,y,w)=>{let P=l.querySelector(h);P&&P.style.setProperty(y,w)},Qn=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?ze(l,y):Xe(l)},Ct=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),Vl=()=>!Ct(en())&&!Ct(Mt())&&!Ct(fi()),Ul=l=>l.scrollHeight>l.clientHeight,vi=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||w>0},Ro=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=Wn();y&&Ct(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},jl=()=>{let l=Wn();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),w=h/y*100;l.style.width=`${w}%`},bc=()=>typeof window>"u"||typeof document>"u",Og=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Fg=()=>{let l=b();return l?(l.remove(),nn([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},Rn=()=>{o.currentInstance.resetValidationMessage()},Bl=()=>{let l=R(),h=Kn(l,g.input),y=Kn(l,g.file),w=l.querySelector(`.${g.range} input`),P=l.querySelector(`.${g.range} output`),H=Kn(l,g.select),ge=l.querySelector(`.${g.checkbox} input`),Ne=Kn(l,g.textarea);h.oninput=Rn,y.onchange=Rn,H.onchange=Rn,ge.onchange=Rn,Ne.oninput=Rn,w.oninput=()=>{Rn(),P.value=w.value},w.onchange=()=>{Rn(),P.value=w.value}},$l=l=>typeof l=="string"?document.querySelector(l):l,ys=l=>{let h=R();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},Dc=l=>{window.getComputedStyle(l).direction==="rtl"&&_e(b(),g.rtl)},Cc=l=>{let h=Fg();if(bc()){V("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=g.container,h&&_e(y,g["no-transition"]),Dt(y,Og);let w=$l(l.target);w.appendChild(y),ys(l),Dc(w),Bl()},xn=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?Hl(l,h):l&&Dt(h,l)},Hl=(l,h)=>{l.jquery?xo(h,l):Dt(h,l.toString())},xo=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},ql=(l,h)=>{let y=An(),w=pi();!y||!w||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?Xe(y):ze(y),Nt(y,h,"actions"),vs(y,w,h),Dt(w,h.loaderHtml||""),Nt(w,h,"loader"))};function vs(l,h,y){let w=en(),P=Mt(),H=fi();!w||!P||!H||(ut(w,"confirm",y),ut(P,"deny",y),ut(H,"cancel",y),zl(w,P,H,y),y.reverseButtons&&(y.toast?(l.insertBefore(H,w),l.insertBefore(P,w)):(l.insertBefore(H,h),l.insertBefore(P,h),l.insertBefore(w,h))))}function zl(l,h,y,w){if(!w.buttonsStyling){nn([l,h,y],g.styled);return}_e([l,h,y],g.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,_e(l,g["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,_e(h,g["default-outline"])),w.cancelButtonColor&&(y.style.backgroundColor=w.cancelButtonColor,_e(y,g["default-outline"]))}function ut(l,h,y){let w=O(h);Qn(l,y[`show${w}Button`],"inline-block"),Dt(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=g[h],Nt(l,y,`${h}Button`)}let Gl=(l,h)=>{let y=wc();y&&(Dt(y,h.closeButtonHtml||""),Nt(y,h,"closeButton"),Qn(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},ws=(l,h)=>{let y=b();y&&(_s(y,h.backdrop),Lg(y,h.position),Vg(y,h.grow),Nt(y,h,"container"))};function _s(l,h){typeof h=="string"?l.style.background=h:h||_e([document.documentElement,document.body],g["no-backdrop"])}function Lg(l,h){h&&(h in g?_e(l,g[h]):(N('The "position" parameter is not valid, defaulting to "center"'),_e(l,g.center)))}function Vg(l,h){h&&_e(l,g[`grow-${h}`])}var Se={innerParams:new WeakMap,domCache:new WeakMap};let Ug=["input","file","range","select","radio","checkbox","textarea"],jg=(l,h)=>{let y=R();if(!y)return;let w=Se.innerParams.get(l),P=!w||h.input!==w.input;Ug.forEach(H=>{let ge=Kn(y,g[H]);ge&&(Tc(H,h.inputAttributes),ge.className=g[H],P&&Xe(ge))}),h.input&&(P&&Mo(h),No(h))},Mo=l=>{if(!l.input)return;if(!Ue[l.input]){V(`Unexpected type of input! Expected ${Object.keys(Ue).join(" | ")}, got "${l.input}"`);return}let h=Ac(l.input);if(!h)return;let y=Ue[l.input](h,l);ze(h),l.inputAutoFocus&&setTimeout(()=>{Ic(y)})},Wl=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},Tc=(l,h)=>{let y=R();if(!y)return;let w=So(y,l);if(w){Wl(w);for(let P in h)w.setAttribute(P,h[P])}},No=l=>{if(!l.input)return;let h=Ac(l.input);h&&Nt(h,l,"input")},pn=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},wi=(l,h,y)=>{if(y.inputLabel){let w=document.createElement("label"),P=g["input-label"];w.setAttribute("for",l.id),w.className=P,typeof y.customClass=="object"&&_e(w,y.customClass.inputLabel),w.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",w)}},Ac=l=>{let h=R();if(h)return Kn(h,g[l]||g.input)},_i=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:E(h)||N(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Ue={};Ue.text=Ue.email=Ue.password=Ue.number=Ue.tel=Ue.url=Ue.search=Ue.date=Ue["datetime-local"]=Ue.time=Ue.week=Ue.month=(l,h)=>(_i(l,h.inputValue),wi(l,l,h),pn(l,h),l.type=h.input,l),Ue.file=(l,h)=>(wi(l,l,h),pn(l,h),l),Ue.range=(l,h)=>{let y=l.querySelector("input"),w=l.querySelector("output");return _i(y,h.inputValue),y.type=h.input,_i(w,h.inputValue),wi(y,l,h),l},Ue.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");Dt(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return wi(l,l,h),l},Ue.radio=l=>(l.textContent="",l),Ue.checkbox=(l,h)=>{let y=So(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let w=l.querySelector("span");return Dt(w,h.inputPlaceholder||h.inputLabel),y},Ue.textarea=(l,h)=>{_i(l,h.inputValue),pn(l,h),wi(l,l,h);let y=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let w=parseInt(window.getComputedStyle(R()).width),P=()=>{if(!document.body.contains(l))return;let H=l.offsetWidth+y(l);H>w?R().style.width=`${H}px`:Sn(R(),"width",h.width)};new MutationObserver(P).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let Kl=(l,h)=>{let y=vc();y&&(et(y),Nt(y,h,"htmlContainer"),h.html?(xn(h.html,y),ze(y,"block")):h.text?(y.textContent=h.text,ze(y,"block")):Xe(y),jg(l,h))},Ql=(l,h)=>{let y=Fl();y&&(et(y),Qn(y,h.footer,"block"),h.footer&&xn(h.footer,y),Nt(y,h,"footer"))},Bg=(l,h)=>{let y=Se.innerParams.get(l),w=D();if(w){if(y&&h.icon===y.icon){Yn(w,h),Is(w,h);return}if(!h.icon&&!h.iconHtml){Xe(w);return}if(h.icon&&Object.keys(I).indexOf(h.icon)===-1){V(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),Xe(w);return}ze(w),Yn(w,h),Is(w,h),_e(w,h.showClass&&h.showClass.icon)}},Is=(l,h)=>{for(let[y,w]of Object.entries(I))h.icon!==y&&nn(l,w);_e(l,h.icon&&I[h.icon]),Rc(l,h),Yl(),Nt(l,h,"icon")},Yl=()=>{let l=R();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<y.length;w++)y[w].style.backgroundColor=h},Sc=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Es=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Yn=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,w="";h.iconHtml?w=Zl(h.iconHtml):h.icon==="success"?(w=Sc,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?w=Es:h.icon&&(w=Zl({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==w.trim()&&Dt(l,w)},Rc=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])mt(l,y,"background-color",h.iconColor);mt(l,".swal2-success-ring","border-color",h.iconColor)}},Zl=l=>`<div class="${g["icon-content"]}">${l}</div>`,Jl=(l,h)=>{let y=di();if(y){if(!h.imageUrl){Xe(y);return}ze(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),Sn(y,"width",h.imageWidth),Sn(y,"height",h.imageHeight),y.className=g.image,Nt(y,h,"image")}},Xl=(l,h)=>{let y=b(),w=R();if(!(!y||!w)){if(h.toast){Sn(y,"width",h.width),w.style.width="100%";let P=pi();P&&w.insertBefore(P,D())}else Sn(w,"width",h.width);Sn(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),Xe(hi()),ed(w,h)}},ed=(l,h)=>{let y=h.showClass||{};l.className=`${g.popup} ${Ct(l)?y.popup:""}`,h.toast?(_e([document.documentElement,document.body],g["toast-shown"]),_e(l,g.toast)):_e(l,g.modal),Nt(l,h,"popup"),typeof h.customClass=="string"&&_e(l,h.customClass),h.icon&&_e(l,g[`icon-${h.icon}`])},xc=(l,h)=>{let y=Sr();if(!y)return;let{progressSteps:w,currentProgressStep:P}=h;if(!w||w.length===0||P===void 0){Xe(y);return}ze(y),y.textContent="",P>=w.length&&N("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach((H,ge)=>{let Ne=Mc(H);if(y.appendChild(Ne),ge===P&&_e(Ne,g["active-progress-step"]),ge!==w.length-1){let qe=td(h);y.appendChild(qe)}})},Mc=l=>{let h=document.createElement("li");return _e(h,g["progress-step"]),Dt(h,l),h},td=l=>{let h=document.createElement("li");return _e(h,g["progress-step-line"]),l.progressStepsDistance&&Sn(h,"width",l.progressStepsDistance),h},nd=(l,h)=>{let y=li();y&&(et(y),Qn(y,h.title||h.titleText,"block"),h.title&&xn(h.title,y),h.titleText&&(y.innerText=h.titleText),Nt(y,h,"title"))},rd=(l,h)=>{Xl(l,h),ws(l,h),xc(l,h),Bg(l,h),Jl(l,h),nd(l,h),Gl(l,h),Kl(l,h),ql(l,h),Ql(l,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),o.eventEmitter.emit("didRender",y)},$g=()=>Ct(R()),Nc=()=>{var l;return(l=en())===null||l===void 0?void 0:l.click()},id=()=>{var l;return(l=Mt())===null||l===void 0?void 0:l.click()},Hg=()=>{var l;return(l=fi())===null||l===void 0?void 0:l.click()},qt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),gn=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},Po=(l,h,y)=>{gn(l),h.toast||(l.keydownHandler=w=>ko(h,w,y),l.keydownTarget=h.keydownListenerCapture?window:R(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},Ii=(l,h)=>{var y;let w=gi();if(w.length){l=l+h,l===w.length?l=0:l===-1&&(l=w.length-1),w[l].focus();return}(y=R())===null||y===void 0||y.focus()},Pc=["ArrowRight","ArrowDown"],Oe=["ArrowLeft","ArrowUp"],ko=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?bs(h,l):h.key==="Tab"?Ds(h):[...Pc,...Oe].includes(h.key)?qg(h.key):h.key==="Escape"&&sd(h,l,y)))},bs=(l,h)=>{if(!le(h.allowEnterKey))return;let y=So(R(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;Nc(),l.preventDefault()}},Ds=l=>{let h=l.target,y=gi(),w=-1;for(let P=0;P<y.length;P++)if(h===y[P]){w=P;break}l.shiftKey?Ii(w,-1):Ii(w,1),l.stopPropagation(),l.preventDefault()},qg=l=>{let h=An(),y=en(),w=Mt(),P=fi();if(!h||!y||!w||!P)return;let H=[y,w,P];if(document.activeElement instanceof HTMLElement&&!H.includes(document.activeElement))return;let ge=Pc.includes(l)?"nextElementSibling":"previousElementSibling",Ne=document.activeElement;if(Ne){for(let qe=0;qe<h.children.length;qe++){if(Ne=Ne[ge],!Ne)return;if(Ne instanceof HTMLButtonElement&&Ct(Ne))break}Ne instanceof HTMLButtonElement&&Ne.focus()}},sd=(l,h,y)=>{le(h.allowEscapeKey)&&(l.preventDefault(),y(qt.esc))};var Ei={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let zg=()=>{let l=b();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},od=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},ad=typeof window<"u"&&!!window.GestureEvent,Cs=()=>{if(ad&&!tn(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,_e(document.body,g.iosfix),Zn()}},Zn=()=>{let l=b();if(!l)return;let h;l.ontouchstart=y=>{h=cd(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},cd=l=>{let h=l.target,y=b(),w=vc();return!y||!w||ud(l)||ld(l)?!1:h===y||!Ul(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(Ul(w)&&w.contains(h))},ud=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",ld=l=>l.touches&&l.touches.length>1,bi=()=>{if(tn(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);nn(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},Gg=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},Di=null,Wg=l=>{Di===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(Di=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Di+Gg()}px`)},Jn=()=>{Di!==null&&(document.body.style.paddingRight=`${Di}px`,Di=null)};function dd(l,h,y,w){yi()?je(l,w):(u(y).then(()=>je(l,w)),gn(o)),ad?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),mi()&&(Jn(),bi(),od()),Kg()}function Kg(){nn([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function zt(l){l=Ts(l);let h=Ei.swalPromiseResolve.get(this),y=Oo(this);this.isAwaitingPromise?l.isDismissed||(Mn(this),h(l)):y&&h(l)}let Oo=l=>{let h=R();if(!h)return!1;let y=Se.innerParams.get(l);if(!y||tn(h,y.hideClass.popup))return!1;nn(h,y.showClass.popup),_e(h,y.hideClass.popup);let w=b();return nn(w,y.showClass.backdrop),_e(w,y.hideClass.backdrop),hd(l,h,y),!0};function kc(l){let h=Ei.swalPromiseReject.get(this);Mn(this),h&&h(l)}let Mn=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,Se.innerParams.get(l)||l._destroy())},Ts=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),hd=(l,h,y)=>{let w=b(),P=vi(h);typeof y.willClose=="function"&&y.willClose(h),o.eventEmitter.emit("willClose",h),P?Oc(l,h,w,y.returnFocus,y.didClose):dd(l,w,y.returnFocus,y.didClose)},Oc=(l,h,y,w,P)=>{o.swalCloseEventFinishedCallback=dd.bind(null,l,y,w,P);let H=function(ge){ge.target===h&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback,h.removeEventListener("animationend",H),h.removeEventListener("transitionend",H))};h.addEventListener("animationend",H),h.addEventListener("transitionend",H)},je=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),o.eventEmitter.emit("didClose"),l._destroy&&l._destroy()})},Ci=l=>{let h=R();if(h||new Ad,h=R(),!h)return;let y=pi();yi()?Xe(D()):Qg(h,l),ze(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},Qg=(l,h)=>{let y=An(),w=pi();!y||!w||(!h&&Ct(en())&&(h=en()),ze(y),h&&(Xe(h),w.setAttribute("data-button-to-replace",h.className),y.insertBefore(w,h)),_e([l,y],g.loading))},fd=(l,h)=>{h.input==="select"||h.input==="radio"?Nn(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(Q(h.inputValue)||E(h.inputValue))&&(Ci(en()),yd(l,h))},pd=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return gd(y);case"radio":return Fo(y);case"file":return md(y);default:return h.inputAutoTrim?y.value.trim():y.value}},gd=l=>l.checked?1:0,Fo=l=>l.checked?l.value:null,md=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,Nn=(l,h)=>{let y=R();if(!y)return;let w=P=>{h.input==="select"?Yg(y,Ss(P),h):h.input==="radio"&&As(y,Ss(P),h)};Q(h.inputOptions)||E(h.inputOptions)?(Ci(en()),T(h.inputOptions).then(P=>{l.hideLoading(),w(P)})):typeof h.inputOptions=="object"?w(h.inputOptions):V(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},yd=(l,h)=>{let y=l.getInput();y&&(Xe(y),T(h.inputValue).then(w=>{y.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,ze(y),y.focus(),l.hideLoading()}).catch(w=>{V(`Error in inputValue promise: ${w}`),y.value="",ze(y),y.focus(),l.hideLoading()}))};function Yg(l,h,y){let w=Kn(l,g.select);if(!w)return;let P=(H,ge,Ne)=>{let qe=document.createElement("option");qe.value=Ne,Dt(qe,ge),qe.selected=Lo(Ne,y.inputValue),H.appendChild(qe)};h.forEach(H=>{let ge=H[0],Ne=H[1];if(Array.isArray(Ne)){let qe=document.createElement("optgroup");qe.label=ge,qe.disabled=!1,w.appendChild(qe),Ne.forEach(Bo=>P(qe,Bo[1],Bo[0]))}else P(w,Ne,ge)}),w.focus()}function As(l,h,y){let w=Kn(l,g.radio);if(!w)return;h.forEach(H=>{let ge=H[0],Ne=H[1],qe=document.createElement("input"),Bo=document.createElement("label");qe.type="radio",qe.name=g.radio,qe.value=ge,Lo(ge,y.inputValue)&&(qe.checked=!0);let Jg=document.createElement("span");Dt(Jg,Ne),Jg.className=g.label,Bo.appendChild(qe),Bo.appendChild(Jg),w.appendChild(Bo)});let P=w.querySelectorAll("input");P.length&&P[0].focus()}let Ss=l=>{let h=[];return l instanceof Map?l.forEach((y,w)=>{let P=y;typeof P=="object"&&(P=Ss(P)),h.push([w,P])}):Object.keys(l).forEach(y=>{let w=l[y];typeof w=="object"&&(w=Ss(w)),h.push([y,w])}),h},Lo=(l,h)=>!!h&&h.toString()===l.toString(),Vo=l=>{let h=Se.innerParams.get(l);l.disableButtons(),h.input?wd(l,"confirm"):Rs(l,!0)},vd=l=>{let h=Se.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?wd(l,"deny"):Rr(l,!1)},Uo=(l,h)=>{l.disableButtons(),h(qt.cancel)},wd=(l,h)=>{let y=Se.innerParams.get(l);if(!y.input){V(`The "input" parameter is needed to be set when using returnInputValueOn${O(h)}`);return}let w=l.getInput(),P=pd(l,y);y.inputValidator?_d(l,P,h):w&&!w.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||w.validationMessage)):h==="deny"?Rr(l,P):Rs(l,P)},_d=(l,h,y)=>{let w=Se.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>T(w.inputValidator(h,w.validationMessage))).then(H=>{l.enableButtons(),l.enableInput(),H?l.showValidationMessage(H):y==="deny"?Rr(l,h):Rs(l,h)})},Rr=(l,h)=>{let y=Se.innerParams.get(l||void 0);y.showLoaderOnDeny&&Ci(Mt()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>T(y.preDeny(h,y.validationMessage))).then(P=>{P===!1?(l.hideLoading(),Mn(l)):l.close({isDenied:!0,value:typeof P>"u"?h:P})}).catch(P=>Lc(l||void 0,P))):l.close({isDenied:!0,value:h})},Fc=(l,h)=>{l.close({isConfirmed:!0,value:h})},Lc=(l,h)=>{l.rejectPromise(h)},Rs=(l,h)=>{let y=Se.innerParams.get(l||void 0);y.showLoaderOnConfirm&&Ci(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>T(y.preConfirm(h,y.validationMessage))).then(P=>{Ct(hi())||P===!1?(l.hideLoading(),Mn(l)):Fc(l,typeof P>"u"?h:P)}).catch(P=>Lc(l||void 0,P))):Fc(l,h)};function Ti(){let l=Se.innerParams.get(this);if(!l)return;let h=Se.domCache.get(this);Xe(h.loader),yi()?l.icon&&ze(D()):Id(h),nn([h.popup,h.actions],g.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Id=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?ze(h[0],"inline-block"):Vl()&&Xe(l.actions)};function xs(){let l=Se.innerParams.get(this),h=Se.domCache.get(this);return h?So(h.popup,l.input):null}function Vc(l,h,y){let w=Se.domCache.get(l);h.forEach(P=>{w[P].disabled=y})}function Uc(l,h){let y=R();if(!(!y||!l))if(l.type==="radio"){let w=y.querySelectorAll(`[name="${g.radio}"]`);for(let P=0;P<w.length;P++)w[P].disabled=h}else l.disabled=h}function Xn(){Vc(this,["confirmButton","denyButton","cancelButton"],!1)}function jc(){Vc(this,["confirmButton","denyButton","cancelButton"],!0)}function Bc(){Uc(this.getInput(),!1)}function $c(){Uc(this.getInput(),!0)}function Hc(l){let h=Se.domCache.get(this),y=Se.innerParams.get(this);Dt(h.validationMessage,l),h.validationMessage.className=g["validation-message"],y.customClass&&y.customClass.validationMessage&&_e(h.validationMessage,y.customClass.validationMessage),ze(h.validationMessage);let w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",g["validation-message"]),Ic(w),_e(w,g.inputerror))}function Ms(){let l=Se.domCache.get(this);l.validationMessage&&Xe(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),nn(h,g.inputerror))}let tt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ed=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],bd={allowEnterKey:void 0},Ai=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=l=>Object.prototype.hasOwnProperty.call(tt,l),f=l=>Ed.indexOf(l)!==-1,m=l=>bd[l],v=l=>{c(l)||N(`Unknown parameter "${l}"`)},x=l=>{Ai.includes(l)&&N(`The parameter "${l}" is incompatible with toasts`)},k=l=>{let h=m(l);h&&G(l,h)},j=l=>{l.backdrop===!1&&l.allowOutsideClick&&N('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)v(h),l.toast&&x(h),k(h)};function Me(l){let h=R(),y=Se.innerParams.get(this);if(!h||tn(h,y.hideClass.popup)){N("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let w=lt(l),P=Object.assign({},y,w);rd(this,P),Se.innerParams.set(this,P),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let lt=l=>{let h={};return Object.keys(l).forEach(y=>{f(y)?h[y]=l[y]:N(`Invalid parameter to update: ${y}`)}),h};function De(){let l=Se.domCache.get(this),h=Se.innerParams.get(this);if(!h){dt(this);return}l.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),o.eventEmitter.emit("didDestroy"),yt(this)}let yt=l=>{dt(l),delete l.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},dt=l=>{l.isAwaitingPromise?(er(Se,l),l.isAwaitingPromise=!0):(er(Ei,l),er(Se,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},er=(l,h)=>{for(let y in l)l[y].delete(h)};var rn=Object.freeze({__proto__:null,_destroy:De,close:zt,closeModal:zt,closePopup:zt,closeToast:zt,disableButtons:jc,disableInput:$c,disableLoading:Ti,enableButtons:Xn,enableInput:Bc,getInput:xs,handleAwaitingPromise:Mn,hideLoading:Ti,rejectPromise:kc,resetValidationMessage:Ms,showValidationMessage:Hc,update:Me});let jo=(l,h,y)=>{l.toast?qc(l,h,y):(kN(h),ON(h),FN(l,h,y))},qc=(l,h,y)=>{h.popup.onclick=()=>{l&&(PN(l)||l.timer||l.input)||y(qt.close)}},PN=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),Dd=!1,kN=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(Dd=!0)}}},ON=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(Dd=!0)}}},FN=(l,h,y)=>{h.container.onclick=w=>{if(Dd){Dd=!1;return}w.target===h.container&&le(l.allowOutsideClick)&&y(qt.backdrop)}},LN=l=>typeof l=="object"&&l.jquery,mb=l=>l instanceof Element||LN(l),VN=l=>{let h={};return typeof l[0]=="object"&&!mb(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,w)=>{let P=l[w];typeof P=="string"||mb(P)?h[y]=P:P!==void 0&&V(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof P}`)}),h};function UN(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function jN(l){class h extends this{_main(w,P){return super._main(w,Object.assign({},l,P))}}return h}let BN=()=>o.timeout&&o.timeout.getTimerLeft(),yb=()=>{if(o.timeout)return jl(),o.timeout.stop()},vb=()=>{if(o.timeout){let l=o.timeout.start();return Ro(l),l}},$N=()=>{let l=o.timeout;return l&&(l.running?yb():vb())},HN=l=>{if(o.timeout){let h=o.timeout.increase(l);return Ro(h,!0),h}},qN=()=>!!(o.timeout&&o.timeout.isRunning()),wb=!1,Zg={};function zN(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Zg[l]=this,wb||(document.body.addEventListener("click",GN),wb=!0)}let GN=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in Zg){let w=h.getAttribute(y);if(w){Zg[y].fire({template:w});return}}};class WN{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let w=this._getHandlersByEventName(h);w.includes(y)||w.push(y)}once(h,y){var w=this;let P=function(){w.removeListener(h,P);for(var H=arguments.length,ge=new Array(H),Ne=0;Ne<H;Ne++)ge[Ne]=arguments[Ne];y.apply(w,ge)};this.on(h,P)}emit(h){for(var y=arguments.length,w=new Array(y>1?y-1:0),P=1;P<y;P++)w[P-1]=arguments[P];this._getHandlersByEventName(h).forEach(H=>{try{H.apply(this,w)}catch(ge){console.error(ge)}})}removeListener(h,y){let w=this._getHandlersByEventName(h),P=w.indexOf(y);P>-1&&w.splice(P,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}o.eventEmitter=new WN;var KN=Object.freeze({__proto__:null,argsToParams:VN,bindClickHandler:zN,clickCancel:Hg,clickConfirm:Nc,clickDeny:id,enableLoading:Ci,fire:UN,getActions:An,getCancelButton:fi,getCloseButton:wc,getConfirmButton:en,getContainer:b,getDenyButton:Mt,getFocusableElements:gi,getFooter:Fl,getHtmlContainer:vc,getIcon:D,getIconContent:Tn,getImage:di,getInputLabel:gt,getLoader:pi,getPopup:R,getProgressSteps:Sr,getTimerLeft:BN,getTimerProgressBar:Wn,getTitle:li,getValidationMessage:hi,increaseTimer:HN,isDeprecatedParameter:m,isLoading:_c,isTimerRunning:qN,isUpdatableParameter:f,isValidParameter:c,isVisible:$g,mixin:jN,off:(l,h)=>{if(!l){o.eventEmitter.reset();return}h?o.eventEmitter.removeListener(l,h):o.eventEmitter.removeAllListeners(l)},on:(l,h)=>{o.eventEmitter.on(l,h)},once:(l,h)=>{o.eventEmitter.once(l,h)},resumeTimer:vb,showLoading:Ci,stopTimer:yb,toggleTimer:$N});class QN{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let _b=["swal-title","swal-html","swal-footer"],YN=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return iP(y),Object.assign(ZN(y),JN(y),XN(y),eP(y),tP(y),nP(y),rP(y,_b))},ZN=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(w=>{Ns(w,["name","value"]);let P=w.getAttribute("name"),H=w.getAttribute("value");!P||!H||(typeof tt[P]=="boolean"?h[P]=H!=="false":typeof tt[P]=="object"?h[P]=JSON.parse(H):h[P]=H)}),h},JN=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(w=>{let P=w.getAttribute("name"),H=w.getAttribute("value");!P||!H||(h[P]=new Function(`return ${H}`)())}),h},XN=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(w=>{Ns(w,["type","color","aria-label"]);let P=w.getAttribute("type");!P||!["confirm","cancel","deny"].includes(P)||(h[`${P}ButtonText`]=w.innerHTML,h[`show${O(P)}Button`]=!0,w.hasAttribute("color")&&(h[`${P}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${P}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),h},eP=l=>{let h={},y=l.querySelector("swal-image");return y&&(Ns(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},tP=l=>{let h={},y=l.querySelector("swal-icon");return y&&(Ns(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},nP=l=>{let h={},y=l.querySelector("swal-input");y&&(Ns(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let w=Array.from(l.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(P=>{Ns(P,["value"]);let H=P.getAttribute("value");if(!H)return;let ge=P.innerHTML;h.inputOptions[H]=ge})),h},rP=(l,h)=>{let y={};for(let w in h){let P=h[w],H=l.querySelector(P);H&&(Ns(H,[]),y[P.replace(/^swal-/,"")]=H.innerHTML.trim())}return y},iP=l=>{let h=_b.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let w=y.tagName.toLowerCase();h.includes(w)||N(`Unrecognized element <${w}>`)})},Ns=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&N([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},Ib=10,sP=l=>{let h=b(),y=R();typeof l.willOpen=="function"&&l.willOpen(y),o.eventEmitter.emit("willOpen",y);let P=window.getComputedStyle(document.body).overflowY;cP(h,y,l),setTimeout(()=>{oP(h,y)},Ib),mi()&&(aP(h,l.scrollbarPadding,P),zg()),!yi()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),o.eventEmitter.emit("didOpen",y),nn(h,g["no-transition"])},Cd=l=>{let h=R();if(l.target!==h)return;let y=b();h.removeEventListener("animationend",Cd),h.removeEventListener("transitionend",Cd),y.style.overflowY="auto"},oP=(l,h)=>{vi(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",Cd),h.addEventListener("transitionend",Cd)):l.style.overflowY="auto"},aP=(l,h,y)=>{Cs(),h&&y!=="hidden"&&Wg(y),setTimeout(()=>{l.scrollTop=0})},cP=(l,h,y)=>{_e(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),ze(h,"grid"),setTimeout(()=>{_e(h,y.showClass.popup),h.style.removeProperty("opacity")},Ib)):ze(h,"grid"),_e([document.documentElement,document.body],g.shown),y.heightAuto&&y.backdrop&&!y.toast&&_e([document.documentElement,document.body],g["height-auto"])};var Eb={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function uP(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=Eb.email),l.input==="url"&&(l.inputValidator=Eb.url))}function lP(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(N('Target parameter is not valid, defaulting to "body"'),l.target="body")}function dP(l){uP(l),l.showLoaderOnConfirm&&!l.preConfirm&&N(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),lP(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),Cc(l)}let tr;var Td=new WeakMap;class Ze{constructor(){if(r(this,Td,void 0),typeof window>"u")return;tr=this;for(var h=arguments.length,y=new Array(h),w=0;w<h;w++)y[w]=arguments[w];let P=Object.freeze(this.constructor.argsToParams(y));this.params=P,this.isAwaitingPromise=!1,i(Td,this,this._main(tr.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(j(Object.assign({},y,h)),o.currentInstance){let H=Ei.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:ge}=o.currentInstance;o.currentInstance._destroy(),ge||H({isDismissed:!0}),mi()&&od()}o.currentInstance=tr;let w=fP(h,y);dP(w),Object.freeze(w),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let P=pP(tr);return rd(tr,w),Se.innerParams.set(tr,w),hP(tr,P,w)}then(h){return n(Td,this).then(h)}finally(h){return n(Td,this).finally(h)}}let hP=(l,h,y)=>new Promise((w,P)=>{let H=ge=>{l.close({isDismissed:!0,dismiss:ge})};Ei.swalPromiseResolve.set(l,w),Ei.swalPromiseReject.set(l,P),h.confirmButton.onclick=()=>{Vo(l)},h.denyButton.onclick=()=>{vd(l)},h.cancelButton.onclick=()=>{Uo(l,H)},h.closeButton.onclick=()=>{H(qt.close)},jo(y,h,H),Po(o,y,H),fd(l,y),sP(y),gP(o,y,H),mP(h,y),setTimeout(()=>{h.container.scrollTop=0})}),fP=(l,h)=>{let y=YN(l),w=Object.assign({},tt,h,y,l);return w.showClass=Object.assign({},tt.showClass,w.showClass),w.hideClass=Object.assign({},tt.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},pP=l=>{let h={popup:R(),container:b(),actions:An(),confirmButton:en(),denyButton:Mt(),cancelButton:fi(),loader:pi(),closeButton:wc(),validationMessage:hi(),progressSteps:Sr()};return Se.domCache.set(l,h),h},gP=(l,h,y)=>{let w=Wn();Xe(w),h.timer&&(l.timeout=new QN(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(ze(w),Nt(w,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&Ro(h.timer)})))},mP=(l,h)=>{if(!h.toast){if(!le(h.allowEnterKey)){G("allowEnterKey"),wP();return}yP(l)||vP(l,h)||Ii(-1,1)}},yP=l=>{let h=l.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&Ct(y))return y.focus(),!0;return!1},vP=(l,h)=>h.focusDeny&&Ct(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&Ct(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&Ct(l.confirmButton)?(l.confirmButton.focus(),!0):!1,wP=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}Ze.prototype.disableButtons=jc,Ze.prototype.enableButtons=Xn,Ze.prototype.getInput=xs,Ze.prototype.disableInput=$c,Ze.prototype.enableInput=Bc,Ze.prototype.hideLoading=Ti,Ze.prototype.disableLoading=Ti,Ze.prototype.showValidationMessage=Hc,Ze.prototype.resetValidationMessage=Ms,Ze.prototype.close=zt,Ze.prototype.closePopup=zt,Ze.prototype.closeModal=zt,Ze.prototype.closeToast=zt,Ze.prototype.rejectPromise=kc,Ze.prototype.update=Me,Ze.prototype._destroy=De,Object.assign(Ze,KN),Object.keys(rn).forEach(l=>{Ze[l]=function(){return tr&&tr[l]?tr[l](...arguments):null}}),Ze.DismissReason=qt,Ze.version="11.14.4";let Ad=Ze;return Ad.default=Ad,Ad});typeof Tr<"u"&&Tr.Sweetalert2&&(Tr.swal=Tr.sweetAlert=Tr.Swal=Tr.SweetAlert=Tr.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function Sb(t,e){return Object.is(t,e)}var ht=null,Rd=!1,xd=1,Ri=Symbol("SIGNAL");function Re(t){let e=ht;return ht=t,e}function Rb(){return ht}var Gc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rm(t){if(Rd)throw new Error("");if(ht===null)return;ht.consumerOnSignalRead(t);let e=ht.nextProducerIndex++;if(kd(ht),e<ht.producerNode.length&&ht.producerNode[e]!==t&&zc(ht)){let n=ht.producerNode[e];Pd(n,ht.producerIndexOfThis[e])}ht.producerNode[e]!==t&&(ht.producerNode[e]=t,ht.producerIndexOfThis[e]=zc(ht)?Pb(t,ht,e):0),ht.producerLastReadVersion[e]=t.version}function SP(){xd++}function xb(t){if(!(zc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===xd)){if(!t.producerMustRecompute(t)&&!sm(t)){t.dirty=!1,t.lastCleanEpoch=xd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=xd}}function Mb(t){if(t.liveConsumerNode===void 0)return;let e=Rd;Rd=!0;try{for(let n of t.liveConsumerNode)n.dirty||RP(n)}finally{Rd=e}}function Nb(){return ht?.consumerAllowSignalWrites!==!1}function RP(t){t.dirty=!0,Mb(t),t.consumerMarkedDirty?.(t)}function Nd(t){return t&&(t.nextProducerIndex=0),Re(t)}function im(t,e){if(Re(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(zc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Pd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function sm(t){kd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(xb(n),r!==n.version))return!0}return!1}function om(t){if(kd(t),zc(t))for(let e=0;e<t.producerNode.length;e++)Pd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Pb(t,e,n){if(kb(t),t.liveConsumerNode.length===0&&Ob(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Pb(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Pd(t,e){if(kb(t),t.liveConsumerNode.length===1&&Ob(t))for(let r=0;r<t.producerNode.length;r++)Pd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];kd(i),i.producerIndexOfThis[r]=e}}function zc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function kd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function kb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ob(t){return t.producerNode!==void 0}function Fb(t){let e=Object.create(xP);e.computation=t;let n=()=>{if(xb(e),rm(e),e.value===Md)throw e.error;return e.value};return n[Ri]=e,n}var tm=Symbol("UNSET"),nm=Symbol("COMPUTING"),Md=Symbol("ERRORED"),xP=ve(B({},Gc),{value:tm,dirty:!0,error:null,equal:Sb,producerMustRecompute(t){return t.value===tm||t.value===nm},producerRecomputeValue(t){if(t.value===nm)throw new Error("Detected cycle in computations.");let e=t.value;t.value=nm;let n=Nd(t),r;try{r=t.computation()}catch(i){r=Md,t.error=i}finally{im(t,n)}if(e!==tm&&e!==Md&&r!==Md&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function MP(){throw new Error}var Lb=MP;function Vb(){Lb()}function Ub(t){Lb=t}var NP=null;function jb(t){let e=Object.create($b);e.value=t;let n=()=>(rm(e),e.value);return n[Ri]=e,n}function am(t,e){Nb()||Vb(),t.equal(t.value,e)||(t.value=e,PP(t))}function Bb(t,e){Nb()||Vb(),am(t,e(t.value))}var $b=ve(B({},Gc),{equal:Sb,value:void 0});function PP(t){t.version++,SP(),Mb(t),NP?.()}function ae(t){return typeof t=="function"}function $o(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Od=$o(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ps(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ae(r))try{r()}catch(s){e=s instanceof Od?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Hb(s)}catch(o){e=e??[],o instanceof Od?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Od(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Hb(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ps(n,e)}remove(e){let{_finalizers:n}=this;n&&Ps(n,e),e instanceof t&&e._removeParent(this)}};Ge.EMPTY=(()=>{let t=new Ge;return t.closed=!0,t})();var cm=Ge.EMPTY;function Fd(t){return t instanceof Ge||t&&"closed"in t&&ae(t.remove)&&ae(t.add)&&ae(t.unsubscribe)}function Hb(t){ae(t)?t():t.unsubscribe()}var Pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ho={setTimeout(t,e,...n){let{delegate:r}=Ho;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ho;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ld(t){Ho.setTimeout(()=>{let{onUnhandledError:e}=Pn;if(e)e(t);else throw t})}function Wc(){}var qb=um("C",void 0,void 0);function zb(t){return um("E",void 0,t)}function Gb(t){return um("N",t,void 0)}function um(t,e,n){return{kind:t,value:e,error:n}}var ks=null;function qo(t){if(Pn.useDeprecatedSynchronousErrorHandling){let e=!ks;if(e&&(ks={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ks;if(ks=null,n)throw r}}else t()}function Wb(t){Pn.useDeprecatedSynchronousErrorHandling&&ks&&(ks.errorThrown=!0,ks.error=t)}var Os=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fd(e)&&e.add(this)):this.destination=FP}static create(e,n,r){return new zo(e,n,r)}next(e){this.isStopped?dm(Gb(e),this):this._next(e)}error(e){this.isStopped?dm(zb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?dm(qb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kP=Function.prototype.bind;function lm(t,e){return kP.call(t,e)}var hm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Vd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Vd(r)}else Vd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Vd(n)}}},zo=class extends Os{constructor(e,n,r){super();let i;if(ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Pn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&lm(e.next,s),error:e.error&&lm(e.error,s),complete:e.complete&&lm(e.complete,s)}):i=e}this.destination=new hm(i)}};function Vd(t){Pn.useDeprecatedSynchronousErrorHandling?Wb(t):Ld(t)}function OP(t){throw t}function dm(t,e){let{onStoppedNotification:n}=Pn;n&&Ho.setTimeout(()=>n(t,e))}var FP={closed:!0,next:Wc,error:OP,complete:Wc};var Go=typeof Symbol=="function"&&Symbol.observable||"@@observable";function sn(t){return t}function fm(...t){return pm(t)}function pm(t){return t.length===0?sn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var we=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=VP(n)?n:new zo(n,r,i);return qo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Kb(r),new r((i,s)=>{let o=new zo({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Go](){return this}pipe(...n){return pm(n)(this)}toPromise(n){return n=Kb(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Kb(t){var e;return(e=t??Pn.Promise)!==null&&e!==void 0?e:Promise}function LP(t){return t&&ae(t.next)&&ae(t.error)&&ae(t.complete)}function VP(t){return t&&t instanceof Os||LP(t)&&Fd(t)}function gm(t){return ae(t?.lift)}function Ce(t){return e=>{if(gm(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(t,e,n,r,i){return new mm(t,e,n,r,i)}var mm=class extends Os{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Wo(){return Ce((t,e)=>{let n=null;t._refCount++;let r=Ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ko=class extends we{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let n=this.getSubject();e.add(this.source.subscribe(Ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return Wo()(this)}};var Qb=$o(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var vt=(()=>{class t extends we{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ud(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Qb}next(n){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?cm:(this.currentObservers=null,s.push(n),new Ge(()=>{this.currentObservers=null,Ps(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new we;return n.source=this,n}}return t.create=(e,n)=>new Ud(e,n),t})(),Ud=class extends vt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:cm}};var Tt=class extends vt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ym={now(){return(ym.delegate||Date).now()},delegate:void 0};var jd=class extends Ge{constructor(e,n){super()}schedule(e,n=0){return this}};var Kc={setInterval(t,e,...n){let{delegate:r}=Kc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Kc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Qo=class extends jd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Kc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Kc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ps(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Yo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Yo.now=ym.now;var Zo=class extends Yo{constructor(e,n=Yo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var vm=new Zo(Qo);var Bd=class extends Qo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var $d=class extends Zo{};var wm=new $d(Bd);var on=new we(t=>t.complete());function Yb(t){return t&&ae(t.schedule)}function Zb(t){return t[t.length-1]}function Hd(t){return ae(Zb(t))?t.pop():void 0}function xi(t){return Yb(Zb(t))?t.pop():void 0}function _m(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Xb(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(p){try{d(r.next(p))}catch(g){o(g)}}function u(p){try{d(r.throw(p))}catch(g){o(g)}}function d(p){p.done?s(p.value):i(p.value).then(a,u)}d((r=r.apply(t,e||[])).next())})}function Jb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fs(t){return this instanceof Fs?(this.v=t,this):new Fs(t)}function e0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(M){return Promise.resolve(M).then(I,g)}}function a(I,M){r[I]&&(i[I]=function(O){return new Promise(function(N,V){s.push([I,O,N,V])>1||u(I,O)})},M&&(i[I]=M(i[I])))}function u(I,M){try{d(r[I](M))}catch(O){_(s[0][3],O)}}function d(I){I.value instanceof Fs?Promise.resolve(I.value.v).then(p,g):_(s[0][2],I)}function p(I){u("next",I)}function g(I){u("throw",I)}function _(I,M){I(M),s.shift(),s.length&&u(s[0][0],s[0][1])}}function t0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Jb=="function"?Jb(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(d){s({value:d,done:a})},o)}}var qd=t=>t&&typeof t.length=="number"&&typeof t!="function";function zd(t){return ae(t?.then)}function Gd(t){return ae(t[Go])}function Wd(t){return Symbol.asyncIterator&&ae(t?.[Symbol.asyncIterator])}function Kd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function UP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qd=UP();function Yd(t){return ae(t?.[Qd])}function Zd(t){return e0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Fs(n.read());if(i)return yield Fs(void 0);yield yield Fs(r)}}finally{n.releaseLock()}})}function Jd(t){return ae(t?.getReader)}function nt(t){if(t instanceof we)return t;if(t!=null){if(Gd(t))return jP(t);if(qd(t))return BP(t);if(zd(t))return $P(t);if(Wd(t))return n0(t);if(Yd(t))return HP(t);if(Jd(t))return qP(t)}throw Kd(t)}function jP(t){return new we(e=>{let n=t[Go]();if(ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BP(t){return new we(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function $P(t){return new we(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ld)})}function HP(t){return new we(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function n0(t){return new we(e=>{zP(t,e).catch(n=>e.error(n))})}function qP(t){return n0(Zd(t))}function zP(t,e){var n,r,i,s;return Xb(this,void 0,void 0,function*(){try{for(n=t0(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Gt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Mi(t,e=0){return Ce((n,r)=>{n.subscribe(Ie(r,i=>Gt(r,t,()=>r.next(i),e),()=>Gt(r,t,()=>r.complete(),e),i=>Gt(r,t,()=>r.error(i),e)))})}function Ni(t,e=0){return Ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function r0(t,e){return nt(t).pipe(Ni(e),Mi(e))}function i0(t,e){return nt(t).pipe(Ni(e),Mi(e))}function s0(t,e){return new we(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function o0(t,e){return new we(n=>{let r;return Gt(n,e,()=>{r=t[Qd](),Gt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}function Xd(t,e){if(!t)throw new Error("Iterable cannot be null");return new we(n=>{Gt(n,e,()=>{let r=t[Symbol.asyncIterator]();Gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function a0(t,e){return Xd(Zd(t),e)}function c0(t,e){if(t!=null){if(Gd(t))return r0(t,e);if(qd(t))return s0(t,e);if(zd(t))return i0(t,e);if(Wd(t))return Xd(t,e);if(Yd(t))return o0(t,e);if(Jd(t))return a0(t,e)}throw Kd(t)}function Ve(t,e){return e?c0(t,e):nt(t)}function ee(...t){let e=xi(t);return Ve(t,e)}function Jo(t,e){let n=ae(t)?t:()=>t,r=i=>i.error(n());return new we(e?i=>e.schedule(r,0,i):r)}function Im(t){return!!t&&(t instanceof we||ae(t.lift)&&ae(t.subscribe))}var xr=$o(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function de(t,e){return Ce((n,r)=>{let i=0;n.subscribe(Ie(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:GP}=Array;function WP(t,e){return GP(e)?t(...e):t(e)}function eh(t){return de(e=>WP(t,e))}var{isArray:KP}=Array,{getPrototypeOf:QP,prototype:YP,keys:ZP}=Object;function th(t){if(t.length===1){let e=t[0];if(KP(e))return{args:e,keys:null};if(JP(e)){let n=ZP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function JP(t){return t&&typeof t=="object"&&QP(t)===YP}function nh(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Qc(...t){let e=xi(t),n=Hd(t),{args:r,keys:i}=th(t);if(r.length===0)return Ve([],e);let s=new we(XP(r,e,i?o=>nh(i,o):sn));return n?s.pipe(eh(n)):s}function XP(t,e,n=sn){return r=>{u0(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)u0(e,()=>{let d=Ve(t[u],e),p=!1;d.subscribe(Ie(r,g=>{s[u]=g,p||(p=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function u0(t,e,n){t?Gt(n,t,e):e()}function l0(t,e,n,r,i,s,o,a){let u=[],d=0,p=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},I=O=>d<r?M(O):u.push(O),M=O=>{s&&e.next(O),d++;let N=!1;nt(n(O,p++)).subscribe(Ie(e,V=>{i?.(V),s?I(V):e.next(V)},()=>{N=!0},void 0,()=>{if(N)try{for(d--;u.length&&d<r;){let V=u.shift();o?Gt(e,o,()=>M(V)):M(V)}_()}catch(V){e.error(V)}}))};return t.subscribe(Ie(e,I,()=>{g=!0,_()})),()=>{a?.()}}function rt(t,e,n=1/0){return ae(e)?rt((r,i)=>de((s,o)=>e(r,s,i,o))(nt(t(r,i))),n):(typeof e=="number"&&(n=e),Ce((r,i)=>l0(r,i,t,n)))}function Pi(t=1/0){return rt(sn,t)}function d0(){return Pi(1)}function Xo(...t){return d0()(Ve(t,xi(t)))}function rh(t){return new we(e=>{nt(t()).subscribe(e)})}function Em(...t){let e=Hd(t),{args:n,keys:r}=th(t),i=new we(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,d=o;for(let p=0;p<o;p++){let g=!1;nt(n[p]).subscribe(Ie(s,_=>{g||(g=!0,d--),a[p]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(r?nh(r,a):a),s.complete())}))}});return e?i.pipe(eh(e)):i}function Wt(t,e){return Ce((n,r)=>{let i=0;n.subscribe(Ie(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ki(t){return Ce((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Ie(n,void 0,void 0,o=>{s=nt(t(o,ki(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function h0(t,e,n,r,i){return(s,o)=>{let a=n,u=e,d=0;s.subscribe(Ie(o,p=>{let g=d++;u=a?t(u,p,g):(a=!0,p),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Mr(t,e){return ae(e)?rt(t,e,1):rt(t,1)}function Oi(t){return Ce((e,n)=>{let r=!1;e.subscribe(Ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Nr(t){return t<=0?()=>on:Ce((e,n)=>{let r=0;e.subscribe(Ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function bm(t){return de(()=>t)}function ih(t=ek){return Ce((e,n)=>{let r=!1;e.subscribe(Ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ek(){return new xr}function Ls(t){return Ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function kn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Wt((i,s)=>t(i,s,r)):sn,Nr(1),n?Oi(e):ih(()=>new xr))}function ea(t){return t<=0?()=>on:Ce((e,n)=>{let r=[];e.subscribe(Ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Dm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Wt((i,s)=>t(i,s,r)):sn,ea(1),n?Oi(e):ih(()=>new xr))}function Cm(t,e){return Ce(h0(t,e,arguments.length>=2,!0))}function Tm(...t){let e=xi(t);return Ce((n,r)=>{(e?Xo(t,n,e):Xo(t,n)).subscribe(r)})}function Kt(t,e){return Ce((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Ie(r,u=>{i?.unsubscribe();let d=0,p=s++;nt(t(u,p)).subscribe(i=Ie(r,g=>r.next(e?e(u,g,p,d++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Am(t){return Ce((e,n)=>{nt(t).subscribe(Ie(n,()=>n.complete(),Wc)),!n.closed&&e.subscribe(n)})}function Je(t,e,n){let r=ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ce((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Ie(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):sn}var Z0="https://g.co/ng/security#xss",Y=class extends Error{constructor(e,n){super(Hh(e,n)),this.code=e}};function Hh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ou(t){return{toString:t}.toString()}var sh="__parameters__";function tk(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function J0(t,e,n){return ou(()=>{let r=tk(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,d,p){let g=u.hasOwnProperty(sh)?u[sh]:Object.defineProperty(u,sh,{value:[]})[sh];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Hm=globalThis;function Fe(t){for(let e in t)if(t[e]===Fe)return e;throw Error("Could not find renamed property on target object.")}function nk(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function f0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var rk=Fe({__forward_ref__:Fe});function $i(t){return t.__forward_ref__=$i,t.toString=function(){return Ut(this())},t}function Vt(t){return X0(t)?t():t}function X0(t){return typeof t=="function"&&t.hasOwnProperty(rk)&&t.__forward_ref__===$i}function K(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Vr(t){return{providers:t.providers||[],imports:t.imports||[]}}function qh(t){return p0(t,tD)||p0(t,nD)}function eD(t){return qh(t)!==null}function p0(t,e){return t.hasOwnProperty(e)?t[e]:null}function ik(t){let e=t&&(t[tD]||t[nD]);return e||null}function g0(t){return t&&(t.hasOwnProperty(m0)||t.hasOwnProperty(sk))?t[m0]:null}var tD=Fe({\u0275prov:Fe}),m0=Fe({\u0275inj:Fe}),nD=Fe({ngInjectableDef:Fe}),sk=Fe({ngInjectorDef:Fe}),q=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=K({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rD(t){return t&&!!t.\u0275providers}var ok=Fe({\u0275cmp:Fe}),ak=Fe({\u0275dir:Fe}),ck=Fe({\u0275pipe:Fe}),uk=Fe({\u0275mod:Fe}),vh=Fe({\u0275fac:Fe}),Jc=Fe({__NG_ELEMENT_ID__:Fe}),y0=Fe({__NG_ENV_ID__:Fe});function zh(t){return typeof t=="string"?t:t==null?"":String(t)}function lk(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():zh(t)}function dk(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Y(-200,t)}function Vy(t,e){throw new Y(-201,!1)}var me=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(me||{}),qm;function iD(){return qm}function mn(t){let e=qm;return qm=t,e}function sD(t,e,n){let r=qh(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&me.Optional)return null;if(e!==void 0)return e;Vy(t,"Injector")}var hk={},Xc=hk,zm="__NG_DI_FLAG__",wh="ngTempTokenPath",fk="ngTokenPath",pk=/\n/gm,gk="\u0275",v0="__source",sa;function mk(){return sa}function Fi(t){let e=sa;return sa=t,e}function yk(t,e=me.Default){if(sa===void 0)throw new Y(-203,!1);return sa===null?sD(t,void 0,e):sa.get(t,e&me.Optional?null:void 0,e)}function Z(t,e=me.Default){return(iD()||yk)(Vt(t),e)}function F(t,e=me.Default){return Z(t,Gh(e))}function Gh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Gm(t){let e=[];for(let n=0;n<t.length;n++){let r=Vt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Y(900,!1);let i,s=me.Default;for(let o=0;o<r.length;o++){let a=r[o],u=vk(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(Z(i,s))}else e.push(Z(r))}return e}function oD(t,e){return t[zm]=e,t.prototype[zm]=e,t}function vk(t){return t[zm]}function wk(t,e,n,r){let i=t[wh];throw e[v0]&&i.unshift(e[v0]),t.message=_k(`
`+t.message,i,n,r),t[fk]=i,t[wh]=null,t}function _k(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==gk?t.slice(2):t;let i=Ut(e);if(Array.isArray(e))i=e.map(Ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ut(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(pk,`
  `)}`}var st=oD(J0("Optional"),8);var aD=oD(J0("SkipSelf"),4);function aa(t,e){let n=t.hasOwnProperty(vh);return n?t[vh]:null}function Ik(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function Ek(t){return t.flat(Number.POSITIVE_INFINITY)}function Uy(t,e){t.forEach(n=>Array.isArray(n)?Uy(n,e):e(n))}function cD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _h(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bk(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Dk(t,e,n){let r=au(t,e);return r>=0?t[r|1]=n:(r=~r,bk(t,r,e,n)),r}function Sm(t,e){let n=au(t,e);if(n>=0)return t[n|1]}function au(t,e){return Ck(t,e,1)}function Ck(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ca={},an=[],Us=new q(""),uD=new q("",-1),lD=new q(""),Ih=class{get(e,n=Xc){if(n===Xc){let r=new Error(`NullInjectorError: No provider for ${Ut(e)}!`);throw r.name="NullInjectorError",r}return n}},dD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(dD||{}),ir=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ir||{}),Vi=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Vi||{});function Tk(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Wm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Ak(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function hD(t){return t===3||t===4||t===6}function Ak(t){return t.charCodeAt(0)===64}function eu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?w0(t,n,i,null,e[++r]):w0(t,n,i,null,null))}}return t}function w0(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var fD="ng-template";function Sk(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Tk(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(jy(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function jy(t){return t.type===4&&t.value!==fD}function Rk(t,e,n){let r=t.type===4&&!n?fD:t.value;return e===r}function xk(t,e,n){let r=4,i=t.attrs,s=i!==null?Pk(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!On(r)&&!On(u))return!1;if(o&&On(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!Rk(t,u,n)||u===""&&e.length===1){if(On(r))return!1;o=!0}}else if(r&8){if(i===null||!Sk(t,i,u,n)){if(On(r))return!1;o=!0}}else{let d=e[++a],p=Mk(u,i,jy(t),n);if(p===-1){if(On(r))return!1;o=!0;continue}if(d!==""){let g;if(p>s?g="":g=i[p+1].toLowerCase(),r&2&&d!==g){if(On(r))return!1;o=!0}}}}return On(r)||o}function On(t){return(t&1)===0}function Mk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return kk(e,t)}function Nk(t,e,n=!1){for(let r=0;r<e.length;r++)if(xk(t,e[r],n))return!0;return!1}function Pk(t){for(let e=0;e<t.length;e++){let n=t[e];if(hD(n))return e}return t.length}function kk(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function _0(t,e){return t?":not("+e.trim()+")":e}function Ok(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!On(o)&&(e+=_0(s,i),i=""),r=o,s=s||!On(r);n++}return i!==""&&(e+=_0(s,i)),e}function Fk(t){return t.map(Ok).join(",")}function Lk(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!On(i))break;i=s}r++}return{attrs:e,classes:n}}function wn(t){return ou(()=>{let e=vD(t),n=ve(B({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===dD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ir.Emulated,styles:t.styles||an,_:null,schemas:t.schemas||null,tView:null,id:""});wD(n);let r=t.dependencies;return n.directiveDefs=E0(r,!1),n.pipeDefs=E0(r,!0),n.id=jk(n),n})}function Vk(t){return Ui(t)||pD(t)}function Uk(t){return t!==null}function Ur(t){return ou(()=>({type:t.type,bootstrap:t.bootstrap||an,declarations:t.declarations||an,imports:t.imports||an,exports:t.exports||an,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function I0(t,e){if(t==null)return ca;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Vi.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Vi.None?[r,a]:r,e[s]=o):n[s]=r}return n}function wt(t){return ou(()=>{let e=vD(t);return wD(e),e})}function Ui(t){return t[ok]||null}function pD(t){return t[ak]||null}function gD(t){return t[ck]||null}function mD(t){let e=Ui(t)||pD(t)||gD(t);return e!==null?e.standalone:!1}function yD(t,e){let n=t[uk]||null;if(!n&&e===!0)throw new Error(`Type ${Ut(t)} does not have '\u0275mod' property.`);return n}function vD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ca,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||an,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:I0(t.inputs,e),outputs:I0(t.outputs),debugInfo:null}}function wD(t){t.features?.forEach(e=>e(t))}function E0(t,e){if(!t)return null;let n=e?gD:Vk;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Uk)}function jk(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Pt(t){return{\u0275providers:t}}function Bk(...t){return{\u0275providers:_D(!0,t),\u0275fromNgModule:!0}}function _D(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Uy(e,o=>{let a=o;Km(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ID(i,s),n}function ID(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];By(i,s=>{e(s,r)})}}function Km(t,e,n,r){if(t=Vt(t),!t)return!1;let i=null,s=g0(t),o=!s&&Ui(t);if(!s&&!o){let u=t.ngModule;if(s=g0(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)Km(d,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let d;try{Uy(s.imports,p=>{Km(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&ID(d,e)}if(!a){let d=aa(i)||(()=>new i);e({provide:i,useFactory:d,deps:an},i),e({provide:lD,useValue:i,multi:!0},i),e({provide:Us,useValue:()=>Z(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let d=t;By(u,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function By(t,e){for(let n of t)rD(n)&&(n=n.\u0275providers),Array.isArray(n)?By(n,e):e(n)}var $k=Fe({provide:String,useValue:Fe});function ED(t){return t!==null&&typeof t=="object"&&$k in t}function Hk(t){return!!(t&&t.useExisting)}function qk(t){return!!(t&&t.useFactory)}function ua(t){return typeof t=="function"}function zk(t){return!!t.useClass}var Wh=new q(""),hh={},Gk={},Rm;function $y(){return Rm===void 0&&(Rm=new Ih),Rm}var jt=class{},tu=class extends jt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ym(e,o=>this.processProvider(o)),this.records.set(uD,ta(void 0,this)),i.has("environment")&&this.records.set(jt,ta(void 0,this));let s=this.records.get(Wh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(lD,an,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Re(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Fi(this),r=mn(void 0),i;try{return e()}finally{Fi(n),mn(r)}}get(e,n=Xc,r=me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(y0))return e[y0](this);r=Gh(r);let i,s=Fi(this),o=mn(void 0);try{if(!(r&me.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=Zk(e)&&qh(e);d&&this.injectableDefInScope(d)?u=ta(Qm(e),hh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&me.Self?$y():this.parent;return n=r&me.Optional&&n===Xc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[wh]=a[wh]||[]).unshift(Ut(e)),s)throw a;return wk(a,e,"R3InjectorError",this.source)}else throw a}finally{mn(o),Fi(s)}}resolveInjectorInitializers(){let e=Re(null),n=Fi(this),r=mn(void 0),i;try{let s=this.get(Us,an,me.Self);for(let o of s)o()}finally{Fi(n),mn(r),Re(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(e){e=Vt(e);let n=ua(e)?e:Vt(e&&e.provide),r=Kk(e);if(!ua(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ta(void 0,hh,!0),i.factory=()=>Gm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Re(null);try{return n.value===hh&&(n.value=Gk,n.value=n.factory()),typeof n.value=="object"&&n.value&&Yk(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Qm(t){let e=qh(t),n=e!==null?e.factory:aa(t);if(n!==null)return n;if(t instanceof q)throw new Y(204,!1);if(t instanceof Function)return Wk(t);throw new Y(204,!1)}function Wk(t){if(t.length>0)throw new Y(204,!1);let n=ik(t);return n!==null?()=>n.factory(t):()=>new t}function Kk(t){if(ED(t))return ta(void 0,t.useValue);{let e=bD(t);return ta(e,hh)}}function bD(t,e,n){let r;if(ua(t)){let i=Vt(t);return aa(i)||Qm(i)}else if(ED(t))r=()=>Vt(t.useValue);else if(qk(t))r=()=>t.useFactory(...Gm(t.deps||[]));else if(Hk(t))r=()=>Z(Vt(t.useExisting));else{let i=Vt(t&&(t.useClass||t.provide));if(Qk(t))r=()=>new i(...Gm(t.deps));else return aa(i)||Qm(i)}return r}function ta(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Qk(t){return!!t.deps}function Yk(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Zk(t){return typeof t=="function"||typeof t=="object"&&t instanceof q}function Ym(t,e){for(let n of t)Array.isArray(n)?Ym(n,e):n&&rD(n)?Ym(n.\u0275providers,e):e(n)}function _n(t,e){t instanceof tu&&t.assertNotDestroyed();let n,r=Fi(t),i=mn(void 0);try{return e()}finally{Fi(r),mn(i)}}function DD(){return iD()!==void 0||mk()!=null}function Jk(t){if(!DD())throw new Y(-203,!1)}function Xk(t){return typeof t=="function"}var cn=0,he=1,ie=2,At=3,Fn=4,jn=5,sr=6,Eh=7,Vn=8,la=9,or=10,We=11,nu=12,b0=13,va=14,vn=15,js=16,na=17,Pr=18,Kh=19,CD=20,Li=21,xm=22,yn=23,Yt=25,TD=1,ru=6,kr=7,bh=8,da=9,Qt=10,Dh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Dh||{});function Ln(t){return Array.isArray(t)&&typeof t[TD]=="object"}function ar(t){return Array.isArray(t)&&t[TD]===!0}function AD(t){return(t.flags&4)!==0}function cu(t){return t.componentOffset>-1}function Hy(t){return(t.flags&1)===1}function ji(t){return!!t.template}function Ch(t){return(t[ie]&512)!==0}var Zm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function SD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function cr(){return RD}function RD(t){return t.type.prototype.ngOnChanges&&(t.setInput=tO),eO}cr.ngInherit=!0;function eO(){let t=MD(this),e=t?.current;if(e){let n=t.previous;if(n===ca)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function tO(t,e,n,r,i){let s=this.declaredInputs[r],o=MD(t)||nO(t,{previous:ca,current:null}),a=o.current||(o.current={}),u=o.previous,d=u[s];a[s]=new Zm(d&&d.currentValue,n,u===ca),SD(t,e,i,n)}var xD="__ngSimpleChanges__";function MD(t){return t[xD]||null}function nO(t,e){return t[xD]=e}var D0=null;var nr=function(t,e,n){D0?.(t,e,n)},rO="svg",iO="math";function Un(t){for(;Array.isArray(t);)t=t[cn];return t}function ND(t,e){return Un(e[t])}function un(t,e){return Un(e[t.index])}function PD(t,e){return t.data[e]}function Hi(t,e){let n=e[t];return Ln(n)?n:n[cn]}function sO(t){return(t[ie]&4)===4}function qy(t){return(t[ie]&128)===128}function oO(t){return ar(t[At])}function Th(t,e){return e==null?null:t[e]}function kD(t){t[na]=0}function OD(t){t[ie]&1024||(t[ie]|=1024,qy(t)&&Yh(t))}function aO(t,e){for(;t>0;)e=e[va],t--;return e}function Qh(t){return!!(t[ie]&9216||t[yn]?.dirty)}function Jm(t){t[or].changeDetectionScheduler?.notify(8),t[ie]&64&&(t[ie]|=1024),Qh(t)&&Yh(t)}function Yh(t){t[or].changeDetectionScheduler?.notify(0);let e=Bs(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!qy(e)));)e=Bs(e)}function FD(t,e){if((t[ie]&256)===256)throw new Y(911,!1);t[Li]===null&&(t[Li]=[]),t[Li].push(e)}function cO(t,e){if(t[Li]===null)return;let n=t[Li].indexOf(e);n!==-1&&t[Li].splice(n,1)}function Bs(t){let e=t[At];return ar(e)?e[At]:e}var ye={lFrame:zD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var LD=!1;function uO(){return ye.lFrame.elementDepthCount}function lO(){ye.lFrame.elementDepthCount++}function dO(){ye.lFrame.elementDepthCount--}function VD(){return ye.bindingsEnabled}function uu(){return ye.skipHydrationRootTNode!==null}function hO(t){return ye.skipHydrationRootTNode===t}function fO(t){ye.skipHydrationRootTNode=t}function pO(){ye.skipHydrationRootTNode=null}function Le(){return ye.lFrame.lView}function ln(){return ye.lFrame.tView}function Zh(t){return ye.lFrame.contextLView=t,t[Vn]}function Jh(t){return ye.lFrame.contextLView=null,t}function Bt(){let t=UD();for(;t!==null&&t.type===64;)t=t.parent;return t}function UD(){return ye.lFrame.currentTNode}function gO(){let t=ye.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function lu(t,e){let n=ye.lFrame;n.currentTNode=t,n.isParent=e}function jD(){return ye.lFrame.isParent}function mO(){ye.lFrame.isParent=!1}function BD(){return LD}function C0(t){LD=t}function yO(){let t=ye.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function vO(t){return ye.lFrame.bindingIndex=t}function zy(){return ye.lFrame.bindingIndex++}function wO(t){let e=ye.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function _O(){return ye.lFrame.inI18n}function IO(t,e){let n=ye.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xm(e)}function EO(){return ye.lFrame.currentDirectiveIndex}function Xm(t){ye.lFrame.currentDirectiveIndex=t}function bO(t){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $D(){return ye.lFrame.currentQueryIndex}function Gy(t){ye.lFrame.currentQueryIndex=t}function DO(t){let e=t[he];return e.type===2?e.declTNode:e.type===1?t[jn]:null}function HD(t,e,n){if(n&me.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&me.Host);)if(i=DO(s),i===null||(s=s[va],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ye.lFrame=qD();return r.currentTNode=e,r.lView=t,!0}function Wy(t){let e=qD(),n=t[he];ye.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qD(){let t=ye.lFrame,e=t===null?null:t.child;return e===null?zD(t):e}function zD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function GD(){let t=ye.lFrame;return ye.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var WD=GD;function Ky(){let t=GD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function CO(t){return(ye.lFrame.contextLView=aO(t,ye.lFrame.contextLView))[Vn]}function wa(){return ye.lFrame.selectedIndex}function $s(t){ye.lFrame.selectedIndex=t}function KD(){let t=ye.lFrame;return PD(t.tView,t.selectedIndex)}function QD(){return ye.lFrame.currentNamespace}var YD=!0;function Qy(){return YD}function qi(t){YD=t}function TO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=RD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Yy(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function fh(t,e,n){ZD(t,e,3,n)}function ph(t,e,n,r){(t[ie]&3)===n&&ZD(t,e,n,r)}function Mm(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function ZD(t,e,n,r){let i=r!==void 0?t[na]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[na]+=65536),(a<s||s==-1)&&(AO(t,n,e,u),t[na]=(t[na]&4294901760)+u+2),u++}function T0(t,e){nr(4,t,e);let n=Re(null);try{e.call(t)}finally{Re(n),nr(5,t,e)}}function AO(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ie]>>14<t[na]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,T0(a,s)):T0(a,s)}var oa=-1,Hs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function SO(t){return t instanceof Hs}function RO(t){return(t.flags&8)!==0}function xO(t){return(t.flags&16)!==0}var Nm={},ey=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Gh(r);let i=this.injector.get(e,Nm,r);return i!==Nm||n===Nm?i:this.parentInjector.get(e,n,r)}};function JD(t){return t!==oa}function Ah(t){return t&32767}function MO(t){return t>>16}function Sh(t,e){let n=MO(t),r=e;for(;n>0;)r=r[va],n--;return r}var ty=!0;function A0(t){let e=ty;return ty=t,e}var NO=256,XD=NO-1,eC=5,PO=0,rr={};function kO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Jc)&&(r=n[Jc]),r==null&&(r=n[Jc]=PO++);let i=r&XD,s=1<<i;e.data[t+(i>>eC)]|=s}function Rh(t,e){let n=tC(t,e);if(n!==-1)return n;let r=e[he];r.firstCreatePass&&(t.injectorIndex=e.length,Pm(r.data,t),Pm(e,null),Pm(r.blueprint,null));let i=Zy(t,e),s=t.injectorIndex;if(JD(i)){let o=Ah(i),a=Sh(i,e),u=a[he].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|u[o+d]}return e[s+8]=i,s}function Pm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Zy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=oC(i),r===null)return oa;if(n++,i=i[va],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return oa}function ny(t,e,n){kO(t,e,n)}function OO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(hD(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function nC(t,e,n){if(n&me.Optional||t!==void 0)return t;Vy(e,"NodeInjector")}function rC(t,e,n,r){if(n&me.Optional&&r===void 0&&(r=null),!(n&(me.Self|me.Host))){let i=t[la],s=mn(void 0);try{return i?i.get(e,r,n&me.Optional):sD(e,r,n&me.Optional)}finally{mn(s)}}return nC(r,e,n)}function iC(t,e,n,r=me.Default,i){if(t!==null){if(e[ie]&2048&&!(r&me.Self)){let o=UO(t,e,n,r,rr);if(o!==rr)return o}let s=sC(t,e,n,r,rr);if(s!==rr)return s}return rC(e,n,r,i)}function sC(t,e,n,r,i){let s=LO(n);if(typeof s=="function"){if(!HD(e,t,r))return r&me.Host?nC(i,n,r):rC(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&me.Optional))Vy(n);else return o}finally{WD()}}else if(typeof s=="number"){let o=null,a=tC(t,e),u=oa,d=r&me.Host?e[vn][jn]:null;for((a===-1||r&me.SkipSelf)&&(u=a===-1?Zy(t,e):e[a+8],u===oa||!R0(r,!1)?a=-1:(o=e[he],a=Ah(u),e=Sh(u,e)));a!==-1;){let p=e[he];if(S0(s,a,p.data)){let g=FO(a,e,n,o,r,d);if(g!==rr)return g}u=e[a+8],u!==oa&&R0(r,e[he].data[a+8]===d)&&S0(s,a,e)?(o=p,a=Ah(u),e=Sh(u,e)):a=-1}}return i}function FO(t,e,n,r,i,s){let o=e[he],a=o.data[t+8],u=r==null?cu(a)&&ty:r!=o&&(a.type&3)!==0,d=i&me.Host&&s===a,p=gh(a,o,n,u,d);return p!==null?qs(e,o,p,a):rr}function gh(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,d=t.directiveEnd,p=s>>20,g=r?a:a+p,_=i?a+p:d;for(let I=g;I<_;I++){let M=o[I];if(I<u&&n===M||I>=u&&M.type===n)return I}if(i){let I=o[u];if(I&&ji(I)&&I.type===n)return u}return null}function qs(t,e,n,r){let i=t[n],s=e.data;if(SO(i)){let o=i;o.resolving&&dk(lk(s[n]));let a=A0(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?mn(o.injectImpl):null,p=HD(t,r,me.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&TO(n,s[n],e)}finally{d!==null&&mn(d),A0(a),o.resolving=!1,WD()}}return i}function LO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Jc)?t[Jc]:void 0;return typeof e=="number"?e>=0?e&XD:VO:e}function S0(t,e,n){let r=1<<t;return!!(n[e+(t>>eC)]&r)}function R0(t,e){return!(t&me.Self)&&!(t&me.Host&&e)}var Vs=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return iC(this._tNode,this._lView,e,Gh(r),n)}};function VO(){return new Vs(Bt(),Le())}function Ks(t){return ou(()=>{let e=t.prototype.constructor,n=e[vh]||ry(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[vh]||ry(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ry(t){return X0(t)?()=>{let e=ry(Vt(t));return e&&e()}:aa(t)}function UO(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ie]&2048&&!(o[ie]&512);){let a=sC(s,o,n,r|me.Self,rr);if(a!==rr)return a;let u=s.parent;if(!u){let d=o[CD];if(d){let p=d.get(n,rr,r);if(p!==rr)return p}u=oC(o),o=o[va]}s=u}return i}function oC(t){let e=t[he],n=e.type;return n===2?e.declTNode:n===1?t[jn]:null}function Jy(t){return OO(Bt(),t)}function x0(t,e=null,n=null,r){let i=aC(t,e,n,r);return i.resolveInjectorInitializers(),i}function aC(t,e=null,n=null,r,i=new Set){let s=[n||an,Bk(t)];return r=r||(typeof t=="object"?void 0:Ut(t)),new tu(s,e||$y(),r||null,i)}var it=class t{static{this.THROW_IF_NOT_FOUND=Xc}static{this.NULL=new Ih}static create(e,n){if(Array.isArray(e))return x0({name:""},n,e,"");{let r=e.name??"";return x0({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=K({token:t,providedIn:"any",factory:()=>Z(uD)})}static{this.__NG_ELEMENT_ID__=-1}};var jO=new q("");jO.__NG_ELEMENT_ID__=t=>{let e=Bt();if(e===null)throw new Y(204,!1);if(e.type&2)return e.value;if(t&me.Optional)return null;throw new Y(204,!1)};var BO="ngOriginalError";function km(t){return t[BO]}var cC=!0,Xy=(()=>{class t{static{this.__NG_ELEMENT_ID__=$O}static{this.__NG_ENV_ID__=n=>n}}return t})(),iy=class extends Xy{constructor(e){super(),this._lView=e}onDestroy(e){return FD(this._lView,e),()=>cO(this._lView,e)}};function $O(){return new iy(Le())}var zi=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Tt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>new t})}}return t})();var sy=class extends vt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,DD()&&(this.destroyRef=F(Xy,{optional:!0})??void 0,this.pendingTasks=F(zi,{optional:!0})??void 0)}emit(e){let n=Re(null);try{super.next(e)}finally{Re(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ge&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Be=sy;function xh(...t){}function uC(t){let e,n;function r(){t=xh;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function M0(t){return queueMicrotask(()=>t()),()=>{t=xh}}var ev="isAngularZone",Mh=ev+"_ID",HO=0,Te=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Be(!1),this.onMicrotaskEmpty=new Be(!1),this.onStable=new Be(!1),this.onError=new Be(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=cC}=e;if(typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,GO(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ev)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Y(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,qO,xh,xh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},qO={};function tv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zO(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){uC(()=>{t.callbackScheduled=!1,oy(t),t.isCheckStableRunning=!0,tv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),oy(t)}function GO(t){let e=()=>{zO(t)},n=HO++;t._inner=t._inner.fork({name:"angular",properties:{[ev]:!0,[Mh]:n,[Mh+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(WO(u))return r.invokeTask(s,o,a,u);try{return N0(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),P0(t)}},onInvoke:(r,i,s,o,a,u,d)=>{try{return N0(t),r.invoke(s,o,a,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!KO(u)&&e(),P0(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,oy(t),tv(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function oy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function N0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function P0(t){t._nesting--,tv(t)}var ay=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Be,this.onMicrotaskEmpty=new Be,this.onStable=new Be,this.onError=new Be}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function WO(t){return lC(t,"__ignore_ng_zone__")}function KO(t){return lC(t,"__scheduler_tick__")}function lC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Or=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&km(e);for(;n&&km(n);)n=km(n);return n||null}},QO=new q("",{providedIn:"root",factory:()=>{let t=F(Te),e=F(Or);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function YO(){return _a(Bt(),Le())}function _a(t,e){return new In(un(t,e))}var In=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=YO}}return t})();function ZO(t){return t instanceof In?t.nativeElement:t}function JO(){return this._results[Symbol.iterator]()}var cy=class t{get changes(){return this._changes??=new Be}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=JO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Ek(e);(this._changesDetected=!Ik(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},XO="ngSkipHydration",e1="ngskiphydration";function dC(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===e1)return!0}return!1}function hC(t){return t.hasAttribute(XO)}function Nh(t){return(t.flags&128)===128}function t1(t){if(Nh(t))return!0;let e=t.parent;for(;e;){if(Nh(t)||dC(e))return!0;e=e.parent}return!1}var fC=new Map,n1=0;function r1(){return n1++}function i1(t){fC.set(t[Kh],t)}function uy(t){fC.delete(t[Kh])}var k0="__ngContext__";function zs(t,e){Ln(e)?(t[k0]=e[Kh],i1(e)):t[k0]=e}function pC(t){return mC(t[nu])}function gC(t){return mC(t[Fn])}function mC(t){for(;t!==null&&!ar(t);)t=t[Fn];return t}var ly;function yC(t){ly=t}function Xh(){if(ly!==void 0)return ly;if(typeof document<"u")return document;throw new Y(210,!1)}var ef=new q("",{providedIn:"root",factory:()=>s1}),s1="ng",nv=new q(""),Zt=new q("",{providedIn:"platform",factory:()=>"unknown"});var rv=new q("",{providedIn:"root",factory:()=>Xh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function o1(){let t=new Ia;return F(Zt)==="browser"&&(t.store=a1(Xh(),F(ef))),t}var Ia=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=K({token:t,providedIn:"root",factory:o1})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function a1(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var vC="h",wC="b",dy=function(t){return t.FirstChild="f",t.NextSibling="n",t}(dy||{}),c1="e",u1="t",iv="c",_C="x",Ph="r",l1="i",d1="n",IC="d";var h1="__nghData__",EC=h1,Om="ngh",f1="nghm",bC=()=>null;function p1(t,e,n=!1){let r=t.getAttribute(Om);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=s?`|${s}`:"",a=n?i:o,u={};if(r!==""){let p=e.get(Ia,null,{optional:!0});p!==null&&(u=p.get(EC,[])[Number(r)])}let d={data:u,firstChild:t.firstChild??null};return n&&(d.firstChild=t,tf(d,0,t.nextSibling)),a?t.setAttribute(Om,a):t.removeAttribute(Om),d}function g1(){bC=p1}function sv(t,e,n=!1){return bC(t,e,n)}function m1(t){let e=t._lView;return e[he].type===2?null:(Ch(e)&&(e=e[Yt]),e)}function y1(t){return t.textContent?.replace(/\s/gm,"")}function v1(t){let e=Xh(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=y1(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function tf(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function hy(t,e){return t.segmentHeads?.[e]??null}function w1(t,e){let n=t.data,r=n[c1]?.[e]??null;return r===null&&n[iv]?.[e]&&(r=ov(t,e)),r}function DC(t,e){return t.data[iv]?.[e]??null}function ov(t,e){let n=DC(t,e)??[],r=0;for(let i of n)r+=i[Ph]*(i[_C]??1);return r}function _1(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[IC];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function du(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[IC];t.disconnectedNodes=n?new Set(n):null}return!!_1(t)?.has(e)}var oh=new q(""),CC=!1,TC=new q("",{providedIn:"root",factory:()=>CC});var ah;function I1(){if(ah===void 0&&(ah=null,Hm.trustedTypes))try{ah=Hm.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ah}function O0(t){return I1()?.createScriptURL(t)||t}var kh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Z0})`}};function hu(t){return t instanceof kh?t.changingThisBreaksApplicationSecurity:t}function av(t,e){let n=E1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Z0})`)}return n===e}function E1(t){return t instanceof kh&&t.getTypeName()||null}var b1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function AC(t){return t=String(t),t.match(b1)?t:"unsafe:"+t}var nf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(nf||{});function D1(t){let e=RC();return e?e.sanitize(nf.URL,t)||"":av(t,"URL")?hu(t):AC(zh(t))}function C1(t){let e=RC();if(e)return O0(e.sanitize(nf.RESOURCE_URL,t)||"");if(av(t,"ResourceURL"))return O0(hu(t));throw new Y(904,!1)}function T1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?C1:D1}function SC(t,e,n){return T1(e,n)(t)}function RC(){let t=Le();return t&&t[or].sanitizer}var A1=/^>|^->|<!--|-->|--!>|<!-$/g,S1=/(<|>)/g,R1="\u200B$1\u200B";function x1(t){return t.replace(A1,e=>e.replace(S1,R1))}function M1(t){return t.ownerDocument.body}function xC(t){return t instanceof Function?t():t}function Yc(t){return(t??F(it)).get(Zt)==="browser"}var Fr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fr||{}),N1;function cv(t,e){return N1(t,e)}function ra(t,e,n,r,i){if(r!=null){let s,o=!1;ar(r)?s=r:Ln(r)&&(o=!0,r=r[cn]);let a=Un(r);t===0&&n!==null?i==null?FC(e,n,a):Oh(e,n,a,i||null,!0):t===1&&n!==null?Oh(e,n,a,i||null,!0):t===2?hv(e,a,o):t===3&&e.destroyNode(a),s!=null&&W1(e,t,s,n,i)}}function MC(t,e){return t.createText(e)}function P1(t,e,n){t.setValue(e,n)}function NC(t,e){return t.createComment(x1(e))}function uv(t,e,n){return t.createElement(e,n)}function k1(t,e){PC(t,e),e[cn]=null,e[jn]=null}function O1(t,e,n,r,i,s){r[cn]=i,r[jn]=e,rf(t,r,n,1,i,s)}function PC(t,e){e[or].changeDetectionScheduler?.notify(9),rf(t,e,e[We],2,null,null)}function F1(t){let e=t[nu];if(!e)return Fm(t[he],t);for(;e;){let n=null;if(Ln(e))n=e[nu];else{let r=e[Qt];r&&(n=r)}if(!n){for(;e&&!e[Fn]&&e!==t;)Ln(e)&&Fm(e[he],e),e=e[At];e===null&&(e=t),Ln(e)&&Fm(e[he],e),n=e&&e[Fn]}e=n}}function L1(t,e,n,r){let i=Qt+r,s=n.length;r>0&&(n[i-1][Fn]=e),r<s-Qt?(e[Fn]=n[i],cD(n,Qt+r,e)):(n.push(e),e[Fn]=null),e[At]=n;let o=e[js];o!==null&&n!==o&&kC(o,e);let a=e[Pr];a!==null&&a.insertView(t),Jm(e),e[ie]|=128}function kC(t,e){let n=t[da],r=e[At];if(Ln(r))t[ie]|=Dh.HasTransplantedViews;else{let i=r[At][vn];e[vn]!==i&&(t[ie]|=Dh.HasTransplantedViews)}n===null?t[da]=[e]:n.push(e)}function lv(t,e){let n=t[da],r=n.indexOf(e);n.splice(r,1)}function fy(t,e){if(t.length<=Qt)return;let n=Qt+e,r=t[n];if(r){let i=r[js];i!==null&&i!==t&&lv(i,r),e>0&&(t[n-1][Fn]=r[Fn]);let s=_h(t,Qt+e);k1(r[he],r);let o=s[Pr];o!==null&&o.detachView(s[he]),r[At]=null,r[Fn]=null,r[ie]&=-129}return r}function OC(t,e){if(!(e[ie]&256)){let n=e[We];n.destroyNode&&rf(t,e,n,3,null,null),F1(e)}}function Fm(t,e){if(e[ie]&256)return;let n=Re(null);try{e[ie]&=-129,e[ie]|=256,e[yn]&&om(e[yn]),U1(t,e),V1(t,e),e[he].type===1&&e[We].destroy();let r=e[js];if(r!==null&&ar(e[At])){r!==e[At]&&lv(r,e);let i=e[Pr];i!==null&&i.detachView(t)}uy(e)}finally{Re(n)}}function V1(t,e){let n=t.cleanup,r=e[Eh];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Eh]=null);let i=e[Li];if(i!==null){e[Li]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function U1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Hs)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];nr(4,a,u);try{u.call(a)}finally{nr(5,a,u)}}else{nr(4,i,s);try{s.call(i)}finally{nr(5,i,s)}}}}}function j1(t,e,n){return B1(t,e.parent,n)}function B1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[cn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===ir.None||s===ir.Emulated)return null}return un(r,n)}}function Oh(t,e,n,r,i){t.insertBefore(e,n,r,i)}function FC(t,e,n){t.appendChild(e,n)}function F0(t,e,n,r,i){r!==null?Oh(t,e,n,r,i):FC(t,e,n)}function LC(t,e){return t.parentNode(e)}function $1(t,e){return t.nextSibling(e)}function H1(t,e,n){return z1(t,e,n)}function q1(t,e,n){return t.type&40?un(t,n):null}var z1=q1,L0;function dv(t,e,n,r){let i=j1(t,r,e),s=e[We],o=r.parent||e[jn],a=H1(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)F0(s,i,n[u],a,!1);else F0(s,i,n,a,!1);L0!==void 0&&L0(s,r,e,n,i)}function Zc(t,e){if(e!==null){let n=e.type;if(n&3)return un(e,t);if(n&4)return py(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Zc(t,r);{let i=t[e.index];return ar(i)?py(-1,i):Un(i)}}else{if(n&128)return Zc(t,e.next);if(n&32)return cv(e,t)()||Un(t[e.index]);{let r=VC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Bs(t[vn]);return Zc(i,r)}else return Zc(t,e.next)}}}return null}function VC(t,e){if(e!==null){let r=t[vn][jn],i=e.projection;return r.projection[i]}return null}function py(t,e){let n=Qt+t+1;if(n<e.length){let r=e[n],i=r[he].firstChild;if(i!==null)return Zc(r,i)}return e[kr]}function hv(t,e,n){t.removeChild(null,e,n)}function UC(t){t.textContent=""}function fv(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&zs(Un(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)fv(t,e,n.child,r,i,s,!1),ra(e,t,i,a,s);else if(u&32){let d=cv(n,r),p;for(;p=d();)ra(e,t,i,p,s);ra(e,t,i,a,s)}else u&16?G1(t,e,r,n,i,s):ra(e,t,i,a,s);n=o?n.projectionNext:n.next}}function rf(t,e,n,r,i,s){fv(n,r,t.firstChild,e,i,s,!1)}function G1(t,e,n,r,i,s){let o=n[vn],u=o[jn].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];ra(e,t,i,p,s)}else{let d=u,p=o[At];Nh(r)&&(d.flags|=128),fv(t,e,d,p,i,s,!0)}}function W1(t,e,n,r,i){let s=n[kr],o=Un(n);s!==o&&ra(e,t,r,s,i);for(let a=Qt;a<n.length;a++){let u=n[a];rf(u[he],u,t,e,r,s)}}function K1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Fr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Fr.Important),t.setStyle(n,r,i,s))}}function Q1(t,e,n){t.setAttribute(e,"style",n)}function jC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function BC(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Wm(t,e,r),i!==null&&jC(t,e,i),s!==null&&Q1(t,e,s)}var Qs={};function Ke(t=1){$C(ln(),Le(),wa()+t,!1)}function $C(t,e,n,r){if(!r)if((e[ie]&3)===3){let s=t.preOrderCheckHooks;s!==null&&fh(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ph(e,s,0,n)}$s(n)}function ce(t,e=me.Default){let n=Le();if(n===null)return Z(t,e);let r=Bt();return iC(r,n,Vt(t),e)}function HC(){let t="invalid";throw new Error(t)}function qC(t,e,n,r,i,s){let o=Re(null);try{let a=null;i&Vi.SignalBased&&(a=e[r][Ri]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Vi.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):SD(e,a,r,s)}finally{Re(o)}}function Y1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)$s(~i);else{let s=i,o=n[++r],a=n[++r];IO(o,s);let u=e[s];a(2,u)}}}finally{$s(-1)}}function sf(t,e,n,r,i,s,o,a,u,d,p){let g=e.blueprint.slice();return g[cn]=i,g[ie]=r|4|128|8|64,(d!==null||t&&t[ie]&2048)&&(g[ie]|=2048),kD(g),g[At]=g[va]=t,g[Vn]=n,g[or]=o||t&&t[or],g[We]=a||t&&t[We],g[la]=u||t&&t[la]||null,g[jn]=s,g[Kh]=r1(),g[sr]=p,g[CD]=d,g[vn]=e.type==2?t[vn]:g,g}function of(t,e,n,r,i){let s=t.data[e];if(s===null)s=Z1(t,e,n,r,i),_O()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=gO();s.injectorIndex=o===null?-1:o.injectorIndex}return lu(s,!0),s}function Z1(t,e,n,r,i){let s=UD(),o=jD(),a=o?s:s&&s.parent,u=t.data[e]=iF(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function zC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function GC(t,e,n,r,i){let s=wa(),o=r&2;try{$s(-1),o&&e.length>Yt&&$C(t,e,Yt,!1),nr(o?2:0,i),n(r,i)}finally{$s(s),nr(o?3:1,i)}}function WC(t,e,n){if(AD(e)){let r=Re(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{Re(r)}}}function KC(t,e,n){VD()&&(dF(t,e,n,un(n,e)),(n.flags&64)===64&&eT(t,e,n))}function QC(t,e,n=un){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function YC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=pv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function pv(t,e,n,r,i,s,o,a,u,d,p){let g=Yt+r,_=g+i,I=J1(g,_),M=typeof d=="function"?d():d;return I[he]={type:t,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:p}}function J1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Qs);return n}function X1(t,e,n,r){let s=r.get(TC,CC)||n===ir.ShadowDom,o=t.selectRootElement(e,s);return eF(o),o}function eF(t){ZC(t)}var ZC=()=>null;function tF(t){hC(t)?UC(t):v1(t)}function nF(){ZC=tF}function rF(t,e,n,r){let i=rT(e);i.push(n),t.firstCreatePass&&iT(t).push(r,i.length-1)}function iF(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return uu()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function V0(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Vi.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}t===0?U0(r,n,d,a,u):U0(r,n,d,a)}return r}function U0(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function sF(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let g=s[p],_=n?n.get(g):null,I=_?_.inputs:null,M=_?_.outputs:null;u=V0(0,g.inputs,p,u,I),d=V0(1,g.outputs,p,d,M);let O=u!==null&&o!==null&&!jy(e)?EF(u,p,o):null;a.push(O)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function oF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function aF(t,e,n,r,i,s,o,a){let u=un(e,n),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(gv(t,n,p,r,i),cu(e)&&cF(n,e.index)):e.type&3?(r=oF(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function cF(t,e){let n=Hi(e,t);n[ie]&16||(n[ie]|=64)}function JC(t,e,n,r){if(VD()){let i=r===null?null:{"":-1},s=fF(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&XC(t,e,n,o,i,a),i&&pF(n,r,i)}n.mergedAttrs=eu(n.mergedAttrs,n.attrs)}function XC(t,e,n,r,i,s){for(let d=0;d<r.length;d++)ny(Rh(n,e),t,r[d].type);mF(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,u=zC(t,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];n.mergedAttrs=eu(n.mergedAttrs,p.hostAttrs),yF(t,n,e,u,p),gF(u,p,i),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let g=p.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}sF(t,n,s)}function uF(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;lF(o)!=a&&o.push(a),o.push(n,r,s)}}function lF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function dF(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;cu(n)&&vF(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Rh(n,e),zs(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],d=qs(e,t,a,n);if(zs(d,e),o!==null&&IF(e,a-i,d,u,n,o),ji(u)){let p=Hi(n.index,e);p[Vn]=qs(e,t,a,n)}}}function eT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=EO();try{$s(s);for(let a=r;a<i;a++){let u=t.data[a],d=e[a];Xm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&hF(u,d)}}finally{$s(-1),Xm(o)}}function hF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function fF(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Nk(e,o.selectors,!1))if(r||(r=[]),ji(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;gy(t,e,u)}else r.unshift(o),gy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function gy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function pF(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new Y(-301,!1);r.push(e[i],s)}}}function gF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ji(e)&&(n[""]=t)}}function mF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function yF(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=aa(i.type,!0)),o=new Hs(s,ji(i),ce);t.blueprint[r]=o,n[r]=o,uF(t,e,r,zC(t,n,i.hostVars,Qs),i)}function vF(t,e,n){let r=un(e,t),i=YC(n),s=t[or].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=af(t,sf(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function wF(t,e,n,r,i,s){let o=un(t,e);_F(e[We],o,s,t.value,n,r,i)}function _F(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?zh(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function IF(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],d=o[a++],p=o[a++],g=o[a++];qC(r,n,u,d,p,g)}}function EF(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function tT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function nT(t,e){let n=t.contentQueries;if(n!==null){let r=Re(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Gy(s),a.contentQueries(2,e[o],o)}}}finally{Re(r)}}}function af(t,e){return t[nu]?t[b0][Fn]=e:t[nu]=e,t[b0]=e,e}function my(t,e,n){Gy(0);let r=Re(null);try{e(t,n)}finally{Re(r)}}function rT(t){return t[Eh]??=[]}function iT(t){return t.cleanup??=[]}function sT(t,e){let n=t[la],r=n?n.get(Or,null):null;r&&r.handleError(e)}function gv(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],d=e[o],p=t.data[o];qC(p,d,r,a,u,i)}}function bF(t,e,n){let r=ND(e,t);P1(t[We],r,n)}function DF(t,e){let n=Hi(e,t),r=n[he];CF(r,n);let i=n[cn];i!==null&&n[sr]===null&&(n[sr]=sv(i,n[la])),mv(r,n,n[Vn])}function CF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function mv(t,e,n){Wy(e);try{let r=t.viewQuery;r!==null&&my(1,r,n);let i=t.template;i!==null&&GC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Pr]?.finishViewCreation(t),t.staticContentQueries&&nT(t,e),t.staticViewQueries&&my(2,t.viewQuery,n);let s=t.components;s!==null&&TF(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,Ky()}}function TF(t,e){for(let n=0;n<e.length;n++)DF(t,e[n])}function AF(t,e,n,r){let i=Re(null);try{let s=e.tView,a=t[ie]&4096?4096:16,u=sf(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[js]=d;let p=t[Pr];return p!==null&&(u[Pr]=p.createEmbeddedView(s)),mv(s,u,n),u}finally{Re(i)}}function j0(t,e){return!e||e.firstChild===null||Nh(t)}function SF(t,e,n,r=!0){let i=e[he];if(L1(i,e,t,n),r){let o=py(n,t),a=e[We],u=LC(a,t[kr]);u!==null&&O1(i,t[jn],a,e,u,o)}let s=e[sr];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Fh(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Un(s)),ar(s)&&RF(s,r);let o=n.type;if(o&8)Fh(t,e,n.child,r);else if(o&32){let a=cv(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=VC(e,n);if(Array.isArray(a))r.push(...a);else{let u=Bs(e[vn]);Fh(u[he],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function RF(t,e){for(let n=Qt;n<t.length;n++){let r=t[n],i=r[he].firstChild;i!==null&&Fh(r[he],r,i,e)}t[kr]!==t[cn]&&e.push(t[kr])}var oT=[];function xF(t){return t[yn]??MF(t)}function MF(t){let e=oT.pop()??Object.create(PF);return e.lView=t,e}function NF(t){t.lView[yn]!==t&&(t.lView=null,oT.push(t))}var PF=ve(B({},Gc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Yh(t.lView)},consumerOnSignalRead(){this.lView[yn]=this}});function kF(t){let e=t[yn]??Object.create(OF);return e.lView=t,e}var OF=ve(B({},Gc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Bs(t.lView);for(;e&&!aT(e[he]);)e=Bs(e);e&&OD(e)},consumerOnSignalRead(){this.lView[yn]=this}});function aT(t){return t.type!==2}var FF=100;function cT(t,e=!0,n=0){let r=t[or],i=r.rendererFactory,s=!1;s||i.begin?.();try{LF(t,n)}catch(o){throw e&&sT(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function LF(t,e){let n=BD();try{C0(!0),yy(t,e);let r=0;for(;Qh(t);){if(r===FF)throw new Y(103,!1);r++,yy(t,1)}}finally{C0(n)}}function VF(t,e,n,r){let i=e[ie];if((i&256)===256)return;let s=!1,o=!1;!s&&e[or].inlineEffectRunner?.flush(),Wy(e);let a=!0,u=null,d=null;s||(aT(t)?(d=xF(e),u=Nd(d)):Rb()===null?(a=!1,d=kF(e),u=Nd(d)):e[yn]&&(om(e[yn]),e[yn]=null));try{kD(e),vO(t.bindingStartIndex),n!==null&&GC(t,e,n,2,r);let p=(i&3)===3;if(!s)if(p){let I=t.preOrderCheckHooks;I!==null&&fh(e,I,null)}else{let I=t.preOrderHooks;I!==null&&ph(e,I,0,null),Mm(e,0)}if(o||UF(e),uT(e,0),t.contentQueries!==null&&nT(t,e),!s)if(p){let I=t.contentCheckHooks;I!==null&&fh(e,I)}else{let I=t.contentHooks;I!==null&&ph(e,I,1),Mm(e,1)}Y1(t,e);let g=t.components;g!==null&&dT(e,g,0);let _=t.viewQuery;if(_!==null&&my(2,_,r),!s)if(p){let I=t.viewCheckHooks;I!==null&&fh(e,I)}else{let I=t.viewHooks;I!==null&&ph(e,I,2),Mm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[xm]){for(let I of e[xm])I();e[xm]=null}s||(e[ie]&=-73)}catch(p){throw s||Yh(e),p}finally{d!==null&&(im(d,u),a&&NF(d)),Ky()}}function uT(t,e){for(let n=pC(t);n!==null;n=gC(n))for(let r=Qt;r<n.length;r++){let i=n[r];lT(i,e)}}function UF(t){for(let e=pC(t);e!==null;e=gC(e)){if(!(e[ie]&Dh.HasTransplantedViews))continue;let n=e[da];for(let r=0;r<n.length;r++){let i=n[r];OD(i)}}}function jF(t,e,n){let r=Hi(e,t);lT(r,n)}function lT(t,e){qy(t)&&yy(t,e)}function yy(t,e){let r=t[he],i=t[ie],s=t[yn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&sm(s)),o||=!1,s&&(s.dirty=!1),t[ie]&=-9217,o)VF(r,t,r.template,t[Vn]);else if(i&8192){uT(t,1);let a=r.components;a!==null&&dT(t,a,1)}}function dT(t,e,n){for(let r=0;r<e.length;r++)jF(t,e[r],n)}function yv(t,e){let n=BD()?64:1088;for(t[or].changeDetectionScheduler?.notify(e);t;){t[ie]|=n;let r=Bs(t);if(Ch(t)&&!r)return t;t=r}return null}var Gs=class{get rootNodes(){let e=this._lView,n=e[he];return Fh(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vn]}set context(e){this._lView[Vn]=e}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[At];if(ar(e)){let n=e[bh],r=n?n.indexOf(this):-1;r>-1&&(fy(e,r),_h(n,r))}this._attachedToViewContainer=!1}OC(this._lView[he],this._lView)}onDestroy(e){FD(this._lView,e)}markForCheck(){yv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){Jm(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,cT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ch(this._lView),n=this._lView[js];n!==null&&!e&&lv(n,this._lView),PC(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=e;let n=Ch(this._lView),r=this._lView[js];r!==null&&!n&&kC(r,this._lView),Jm(this._lView)}},ha=(()=>{class t{static{this.__NG_ELEMENT_ID__=HF}}return t})(),BF=ha,$F=class extends BF{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=AF(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Gs(i)}};function HF(){return vv(Bt(),Le())}function vv(t,e){return t.type&4?new $F(e,t,_a(t,e)):null}var qF=new RegExp(`^(\\d+)*(${wC}|${vC})*(.*)`);function zF(t){let e=t.match(qF),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[u,d,p]of s.matchAll(/(f|n)(\d*)/g)){let g=parseInt(p,10)||1;a.push(d,g)}return[o,...a]}function GF(t){return!t.prev&&t.parent?.type===8}function Lm(t){return t.index-Yt}function WF(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function cf(t,e,n,r){let i=Lm(r),s=WF(t,i);if(s===void 0){let o=t.data[d1];if(o?.[i])s=QF(o[i],n);else if(e.firstChild===r)s=t.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(GF(r)){let d=Lm(r.parent);s=hy(t,d)}else{let d=un(u,n);if(a)s=d.firstChild;else{let p=Lm(u),g=hy(t,p);if(u.type===2&&g){let I=ov(t,p)+1;s=uf(I,g)}else s=d.nextSibling}}}}return s}function uf(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function KF(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case dy.FirstChild:n=n.firstChild;break;case dy.NextSibling:n=n.nextSibling;break}}return n}function QF(t,e){let[n,...r]=zF(t),i;if(n===vC)i=e[vn][cn];else if(n===wC)i=M1(e[vn][cn]);else{let s=Number(n);i=Un(e[s+Yt])}return KF(i,r)}var YF=!1;function ZF(t){YF=t}function JF(t){let e=t[sr];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[We];for(let s of r.values())XF(i,n,s)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function XF(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Yt);i&&hv(t,i,!1)}}function hT(t){let e=t[ru]??[],r=t[At][We];for(let i of e)eL(i,r);t[ru]=an}function eL(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Ph];for(;n<i;){let s=r.nextSibling;hv(e,r,!1),r=s,n++}}}function fT(t){hT(t);let e=t[cn];Ln(e)&&Lh(e);for(let n=Qt;n<t.length;n++)Lh(t[n])}function Lh(t){JF(t);let e=t[he];for(let n=Yt;n<e.bindingStartIndex;n++)if(ar(t[n])){let r=t[n];fT(r)}else Ln(t[n])&&Lh(t[n])}function tL(t){let e=t._views;for(let n of e){let r=m1(n);r!==null&&r[cn]!==null&&(Ln(r)?Lh(r):fT(r))}}function nL(t,e){let n=[];for(let r of e)for(let i=0;i<(r[_C]??1);i++){let s={data:r,firstChild:null};r[Ph]>0&&(s.firstChild=t,t=uf(r[Ph],t)),n.push(s)}return[t,n]}var pT=()=>null;function rL(t,e){let n=t[ru];return!e||n===null||n.length===0?null:n[0].data[l1]===e?n.shift():(hT(t),null)}function iL(){pT=rL}function B0(t,e){return pT(t,e)}var fa=class{},lf=new q("",{providedIn:"root",factory:()=>!1});var gT=new q(""),mT=new q(""),vy=class{},Vh=class{};function sL(t){let e=Error(`No component factory found for ${Ut(t)}.`);return e[oL]=t,e}var oL="ngComponent";var wy=class{resolveComponentFactory(e){throw sL(e)}},pa=class{static{this.NULL=new wy}},ga=class{},Gi=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>aL()}}return t})();function aL(){let t=Le(),e=Bt(),n=Hi(e.index,t);return(Ln(n)?n:t)[We]}var cL=(()=>{class t{static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>null})}}return t})();function _y(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=f0(i,a);else if(s==2){let u=a,d=e[++o];r=f0(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Uh=class extends pa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ui(e);return new ma(n,this.ngModule)}};function $0(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Vi.None;e?n.push({propName:o,templateName:r,isSignal:(a&Vi.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function uL(t){let e=t.toLowerCase();return e==="svg"?rO:e==="math"?iO:null}var ma=class extends Vh{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=$0(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return $0(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Fk(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Re(null);try{i=i||this.ngModule;let o=i instanceof jt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new ey(e,o):e,u=a.get(ga,null);if(u===null)throw new Y(407,!1);let d=a.get(cL,null),p=a.get(fa,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",M=r?X1(_,r,this.componentDef.encapsulation,a):uv(_,I,uL(I)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let N=null;M!==null&&(N=sv(M,a,!0));let V=pv(0,null,null,1,0,null,null,null,null,null,null),z=sf(null,V,null,O,null,null,g,_,a,null,N);Wy(z);let $,G,le=null;try{let Q=this.componentDef,T,E=null;Q.findHostDirectiveDefs?(T=[],E=new Map,Q.findHostDirectiveDefs(Q,T,E),T.push(Q)):T=[Q];let b=lL(z,M);le=dL(b,M,Q,T,z,g,_),G=PD(V,Yt),M&&pL(_,Q,M,r),n!==void 0&&gL(G,this.ngContentSelectors,n),$=fL(le,Q,T,E,z,[mL]),mv(V,z,null)}catch(Q){throw le!==null&&uy(le),uy(z),Q}finally{Ky()}return new Iy(this.componentType,$,_a(G,z),z,G)}finally{Re(s)}}},Iy=class extends vy{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Gs(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;gv(s[he],s,i,e,n),this.previousInputValues.set(e,n);let o=Hi(this._tNode.index,s);yv(o,1)}}get injector(){return new Vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function lL(t,e){let n=t[he],r=Yt;return t[r]=e,of(n,r,2,"#host",null)}function dL(t,e,n,r,i,s,o){let a=i[he];hL(r,t,e,o);let u=null;e!==null&&(u=sv(e,i[la]));let d=s.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let g=sf(i,YC(n),null,p,i[t.index],t,s,d,null,null,u);return a.firstCreatePass&&gy(a,t,r.length-1),af(i,g),i[t.index]=g}function hL(t,e,n,r){for(let i of t)e.mergedAttrs=eu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(_y(e,e.mergedAttrs,!0),n!==null&&BC(r,n,e))}function fL(t,e,n,r,i,s){let o=Bt(),a=i[he],u=un(o,i);XC(a,i,o,n,null,r);for(let p=0;p<n.length;p++){let g=o.directiveStart+p,_=qs(i,a,g,o);zs(_,i)}eT(a,i,o),u&&zs(u,i);let d=qs(i,a,o.directiveStart+o.componentOffset,o);if(t[Vn]=i[Vn]=d,s!==null)for(let p of s)p(d,e);return WC(a,o,i),d}function pL(t,e,n,r){if(r)Wm(t,n,["ng-version","18.2.10"]);else{let{attrs:i,classes:s}=Lk(e.selectors[0]);i&&Wm(t,n,i),s&&s.length>0&&jC(t,n,s.join(" "))}}function gL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function mL(){let t=Bt();Yy(Le()[he],t)}var Ys=(()=>{class t{static{this.__NG_ELEMENT_ID__=yL}}return t})();function yL(){let t=Bt();return vT(t,Le())}var vL=Ys,yT=class extends vL{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return _a(this._hostTNode,this._hostLView)}get injector(){return new Vs(this._hostTNode,this._hostLView)}get parentInjector(){let e=Zy(this._hostTNode,this._hostLView);if(JD(e)){let n=Sh(e,this._hostLView),r=Ah(e),i=n[he].data[r+8];return new Vs(i,n)}else return new Vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=H0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Qt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=B0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,j0(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!Xk(e),a;if(o)a=n;else{let M=n||{};a=M.index,r=M.injector,i=M.projectableNodes,s=M.environmentInjector||M.ngModuleRef}let u=o?e:new ma(Ui(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let O=(o?d:this.parentInjector).get(jt,null);O&&(s=O)}let p=Ui(u.componentType??{}),g=B0(this._lContainer,p?.id??null),_=g?.firstChild??null,I=u.create(d,i,_,s);return this.insertImpl(I.hostView,a,j0(this._hostTNode,g)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(oO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[At],d=new yT(u,u[jn],u[At]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return SF(o,i,s,r),e.attachToViewContainerRef(),cD(Vm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=H0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=fy(this._lContainer,n);r&&(_h(Vm(this._lContainer),n),OC(r[he],r))}detach(e){let n=this._adjustIndex(e,-1),r=fy(this._lContainer,n);return r&&_h(Vm(this._lContainer),n)!=null?new Gs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function H0(t){return t[bh]}function Vm(t){return t[bh]||(t[bh]=[])}function vT(t,e){let n,r=e[t.index];return ar(r)?n=r:(n=tT(r,e,null,t),e[t.index]=n,af(e,n)),wT(n,e,t,r),new yT(n,t,e)}function wL(t,e){let n=t[We],r=n.createComment(""),i=un(e,t),s=LC(n,i);return Oh(n,s,r,$1(n,i),!1),r}var wT=_T,wv=()=>!1;function _L(t,e,n){return wv(t,e,n)}function _T(t,e,n,r){if(t[kr])return;let i;n.type&8?i=Un(r):i=wL(e,n),t[kr]=i}function IL(t,e,n){if(t[kr]&&t[ru])return!0;let r=n[sr],i=e.index-Yt;if(!r||t1(e)||du(r,i))return!1;let o=hy(r,i),a=r.data[iv]?.[i],[u,d]=nL(o,a);return t[kr]=u,t[ru]=d,!0}function EL(t,e,n,r){wv(t,n,e)||_T(t,e,n,r)}function bL(){wT=EL,wv=IL}var Ey=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},by=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)_v(e,n).matches!==null&&this.queries[n].setDirty()}},Dy=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=ML(e):this.predicate=e}},Cy=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ty=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,DL(n,s)),this.matchTNodeWithReadOption(e,n,gh(n,e,s,!1,!1))}else r===ha?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,gh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===In||i===Ys||i===ha&&n.type&4)this.addMatch(n.index,-2);else{let s=gh(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function DL(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function CL(t,e){return t.type&11?_a(t,e):t.type&4?vv(t,e):null}function TL(t,e,n,r){return n===-1?CL(e,t):n===-2?AL(t,e,r):qs(t,t[he],n,e)}function AL(t,e,n){if(n===In)return _a(e,t);if(n===ha)return vv(e,t);if(n===Ys)return vT(e,t)}function IT(t,e,n,r){let i=e[Pr].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let d=o[u];if(d<0)a.push(null);else{let p=s[d];a.push(TL(e,p,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Ay(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=IT(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let d=s[a+1],p=e[-u];for(let g=Qt;g<p.length;g++){let _=p[g];_[js]===_[At]&&Ay(_[he],_,d,r)}if(p[da]!==null){let g=p[da];for(let _=0;_<g.length;_++){let I=g[_];Ay(I[he],I,d,r)}}}}}return r}function SL(t,e){return t[Pr].queries[e].queryList}function RL(t,e,n){let r=new cy((n&4)===4);return rF(t,e,r,r.destroy),(e[Pr]??=new by).queries.push(new Ey(r))-1}function xL(t,e,n,r){let i=ln();if(i.firstCreatePass){let s=Bt();NL(i,new Dy(e,n,r),s.index),PL(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return RL(i,Le(),n)}function ML(t){return t.split(",").map(e=>e.trim())}function NL(t,e,n){t.queries===null&&(t.queries=new Cy),t.queries.track(new Ty(e,n))}function PL(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function _v(t,e){return t.queries.getByIndex(e)}function kL(t,e){let n=t[he],r=_v(n,e);return r.crossesNgTemplate?Ay(n,t,e,[]):IT(n,t,r,e)}var q0=new Set;function jr(t){q0.has(t)||(q0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function fu(t,e){jr("NgSignals");let n=jb(t),r=n[Ri];return e?.equal&&(r.equal=e.equal),n.set=i=>am(r,i),n.update=i=>Bb(r,i),n.asReadonly=OL.bind(n),n}function OL(){let t=this[Ri];if(t.readonlyFn===void 0){let e=()=>this();e[Ri]=t,t.readonlyFn=e}return t.readonlyFn}function FL(t){return Object.getPrototypeOf(t.prototype).constructor}function ur(t){let e=FL(t.type),n=!0,r=[t];for(;e;){let i;if(ji(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Y(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=ch(t.inputs),o.inputTransforms=ch(t.inputTransforms),o.declaredInputs=ch(t.declaredInputs),o.outputs=ch(t.outputs);let a=i.hostBindings;a&&BL(t,a);let u=i.viewQuery,d=i.contentQueries;if(u&&UL(t,u),d&&jL(t,d),LL(t,i),nk(t.outputs,i.outputs),ji(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===ur&&(n=!1)}}e=Object.getPrototypeOf(e)}VL(r)}function LL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function VL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=eu(i.hostAttrs,n=eu(n,i.hostAttrs))}}function ch(t){return t===ca?{}:t===an?[]:t}function UL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function jL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function BL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Iv(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Bi=class{},iu=class{};var Sy=class extends Bi{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uh(this);let s=yD(e);this._bootstrapComponents=xC(s.bootstrap),this._r3Injector=aC(e,n,[{provide:Bi,useValue:this},{provide:pa,useValue:this.componentFactoryResolver},...r],Ut(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ry=class extends iu{constructor(e){super(),this.moduleType=e}create(e){return new Sy(this.moduleType,e,[])}};var jh=class extends Bi{constructor(e){super(),this.componentFactoryResolver=new Uh(this),this.instance=null;let n=new tu([...e.providers,{provide:Bi,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],e.parent||$y(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function df(t,e,n=null){return new jh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function $L(t,e,n){return t[e]=n}function HL(t,e){return t[e]}function hf(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function pu(t){return(t.flags&32)===32}function qL(t,e,n,r,i,s,o,a,u){let d=e.consts,p=of(e,t,4,o||null,a||null);JC(e,n,p,Th(d,u)),Yy(e,p);let g=p.tView=pv(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function zL(t,e,n,r,i,s,o,a,u,d){let p=n+Yt,g=e.firstCreatePass?qL(p,e,t,r,i,s,o,a,u):e.data[p];lu(g,!1);let _=ET(e,t,g,n);Qy()&&dv(e,t,_,g),zs(_,t);let I=tT(_,t,_,g);return t[p]=I,af(t,I),_L(I,g,t),Hy(g)&&KC(e,t,g),u!=null&&QC(t,g,d),g}function Br(t,e,n,r,i,s,o,a){let u=Le(),d=ln(),p=Th(d.consts,s);return zL(u,d,t,e,n,r,i,p,o,a),Br}var ET=bT;function bT(t,e,n,r){return qi(!0),e[We].createComment("")}function GL(t,e,n,r){let i=e[sr],s=!i||uu()||pu(n)||du(i,r);if(qi(s),s)return bT(t,e,n,r);let o=i.data[u1]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=cf(i,t,e,n);tf(i,r,a);let u=ov(i,r);return uf(u,a)}function WL(){ET=GL}var ia=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ia||{}),DT=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>new t})}}return t})(),xy=class t{constructor(){this.ngZone=F(Te),this.scheduler=F(fa),this.errorHandler=F(Or,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ia.EarlyRead,ia.Write,ia.MixedReadWrite,ia.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>new t})}},My=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Ev(t,e){!e?.injector&&Jk(Ev);let n=e?.injector??F(it);return Yc(n)?(jr("NgAfterNextRender"),QL(t,n,e,!0)):YL}function KL(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function QL(t,e,n,r){let i=e.get(DT);i.impl??=e.get(xy);let s=n?.phase??ia.MixedReadWrite,o=n?.manualCleanup!==!0?e.get(Xy):null,a=new My(i.impl,KL(t,s),r,o);return i.impl.register(a),a}var YL={destroy(){}};function gu(t,e,n,r){let i=Le(),s=zy();if(hf(i,s,e)){let o=ln(),a=KD();wF(a,i,t,e,n,r)}return gu}function ZL(t,e,n,r){return hf(t,zy(),n)?e+zh(n)+r:Qs}function uh(t,e){return t<<17|e<<2}function Ws(t){return t>>17&32767}function JL(t){return(t&2)==2}function XL(t,e){return t&131071|e<<17}function Ny(t){return t|2}function ya(t){return(t&131068)>>2}function Um(t,e){return t&-131069|e<<2}function eV(t){return(t&1)===1}function Py(t){return t|1}function tV(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ws(o),u=ya(o);t[r]=n;let d=!1,p;if(Array.isArray(n)){let g=n;p=g[1],(p===null||au(g,p)>0)&&(d=!0)}else p=n;if(i)if(u!==0){let _=Ws(t[a+1]);t[r+1]=uh(_,a),_!==0&&(t[_+1]=Um(t[_+1],r)),t[a+1]=XL(t[a+1],r)}else t[r+1]=uh(a,0),a!==0&&(t[a+1]=Um(t[a+1],r)),a=r;else t[r+1]=uh(u,0),a===0?a=r:t[u+1]=Um(t[u+1],r),u=r;d&&(t[r+1]=Ny(t[r+1])),z0(t,p,r,!0),z0(t,p,r,!1),nV(e,p,t,r,s),o=uh(a,u),s?e.classBindings=o:e.styleBindings=o}function nV(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&au(s,e)>=0&&(n[r+1]=Py(n[r+1]))}function z0(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ws(i):ya(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],d=t[o+1];rV(u,e)&&(a=!0,t[o+1]=r?Py(d):Ny(d)),o=r?Ws(d):ya(d)}a&&(t[n+1]=r?Ny(i):Py(i))}function rV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?au(t,e)>=0:!1}function _t(t,e,n){let r=Le(),i=zy();if(hf(r,i,e)){let s=ln(),o=KD();aF(s,o,r,t,e,r[We],n,!1)}return _t}function G0(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";gv(t,n,s[o],o,r)}function Zs(t,e){return iV(t,e,null,!0),Zs}function iV(t,e,n,r){let i=Le(),s=ln(),o=wO(2);if(s.firstUpdatePass&&oV(s,t,o,r),e!==Qs&&hf(i,o,e)){let a=s.data[wa()];dV(s,a,i,i[We],t,i[o+1]=hV(e,n),r,o)}}function sV(t,e){return e>=t.expandoStartIndex}function oV(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[wa()],o=sV(t,n);fV(s,r)&&e===null&&!o&&(e=!1),e=aV(i,s,e,r),tV(i,s,e,n,o,r)}}function aV(t,e,n,r){let i=bO(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=jm(null,t,e,n,r),n=su(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=jm(i,t,e,n,r),s===null){let u=cV(t,e,r);u!==void 0&&Array.isArray(u)&&(u=jm(null,t,e,u[1],r),u=su(u,e.attrs,r),uV(t,e,r,u))}else s=lV(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function cV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ya(r)!==0)return t[Ws(r)]}function uV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ws(i)]=r}function lV(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=su(r,o,n)}return su(r,e.attrs,n)}function jm(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=su(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function su(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Dk(t,o,n?!0:e[++s]))}return t===void 0?null:t}function dV(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,d=u[a+1],p=eV(d)?W0(u,e,n,i,ya(d),o):void 0;if(!Bh(p)){Bh(s)||JL(d)&&(s=W0(u,null,n,i,a,o));let g=ND(wa(),n);K1(r,o,g,i,s)}}function W0(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],d=Array.isArray(u),p=d?u[1]:u,g=p===null,_=n[i+1];_===Qs&&(_=g?an:void 0);let I=g?Sm(_,r):p===r?_:void 0;if(d&&!Bh(I)&&(I=Sm(u,r)),Bh(I)&&(a=I,o))return a;let M=t[i+1];i=o?Ws(M):ya(M)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Sm(u,r))}return a}function Bh(t){return t!==void 0}function hV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ut(hu(t)))),t}function fV(t,e){return(t.flags&(e?8:16))!==0}function pV(t,e,n,r,i,s){let o=e.consts,a=Th(o,i),u=of(e,t,2,r,a);return JC(e,n,u,Th(o,s)),u.attrs!==null&&_y(u,u.attrs,!1),u.mergedAttrs!==null&&_y(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function X(t,e,n,r){let i=Le(),s=ln(),o=Yt+t,a=i[We],u=s.firstCreatePass?pV(o,s,i,e,n,r):s.data[o],d=CT(s,i,u,a,e,t);i[o]=d;let p=Hy(u);return lu(u,!0),BC(a,d,u),!pu(u)&&Qy()&&dv(s,i,d,u),uO()===0&&zs(d,i),lO(),p&&(KC(s,i,u),WC(s,u,i)),r!==null&&QC(i,u),X}function te(){let t=Bt();jD()?mO():(t=t.parent,lu(t,!1));let e=t;hO(e)&&pO(),dO();let n=ln();return n.firstCreatePass&&(Yy(n,t),AD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&RO(e)&&G0(n,e,Le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xO(e)&&G0(n,e,Le(),e.stylesWithoutHost,!1),te}function ot(t,e,n,r){return X(t,e,n,r),te(),ot}var CT=(t,e,n,r,i,s)=>(qi(!0),uv(r,i,QD()));function gV(t,e,n,r,i,s){let o=e[sr],a=!o||uu()||pu(n)||du(o,s);if(qi(a),a)return uv(r,i,QD());let u=cf(o,t,e,n);return DC(o,s)&&tf(o,s,u.nextSibling),o&&(dC(n)||hC(u))&&cu(n)&&(fO(n),UC(u)),u}function mV(){CT=gV}var yV=(t,e,n,r)=>(qi(!0),NC(e[We],""));function vV(t,e,n,r){let i,s=e[sr],o=!s||uu()||du(s,r)||pu(n);if(qi(o),o)return NC(e[We],"");let a=cf(s,t,e,n),u=w1(s,r);return tf(s,r,a),i=uf(u,a),i}function wV(){yV=vV}function bv(){return Le()}var $h="en-US";var _V=$h;function IV(t){typeof t=="string"&&(_V=t.toLowerCase().replace(/_/g,"-"))}var EV=(t,e,n)=>{};function St(t,e,n,r){let i=Le(),s=ln(),o=Bt();return DV(s,i,i[We],o,t,e,r),St}function bV(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Eh],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function DV(t,e,n,r,i,s,o){let a=Hy(r),d=t.firstCreatePass&&iT(t),p=e[Vn],g=rT(e),_=!0;if(r.type&3||o){let O=un(r,e),N=o?o(O):O,V=g.length,z=o?G=>o(Un(G[r.index])):r.index,$=null;if(!o&&a&&($=bV(t,e,i,r.index)),$!==null){let G=$.__ngLastListenerFn__||$;G.__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,_=!1}else{s=Q0(r,e,p,s),EV(O,i,s);let G=n.listen(N,i,s);g.push(s,G),d&&d.push(i,z,V,V+1)}}else s=Q0(r,e,p,s);let I=r.outputs,M;if(_&&I!==null&&(M=I[i])){let O=M.length;if(O)for(let N=0;N<O;N+=2){let V=M[N],z=M[N+1],le=e[V][z].subscribe(s),Q=g.length;g.push(s,le),d&&d.push(i,r.index,Q,-(Q+1))}}}function K0(t,e,n,r){let i=Re(null);try{return nr(6,e,n),n(r)!==!1}catch(s){return sT(t,s),!1}finally{nr(7,e,n),Re(i)}}function Q0(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Hi(t.index,e):e;yv(o,5);let a=K0(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=K0(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function Wi(t=1){return CO(t)}function TT(t,e,n,r){xL(t,e,n,r)}function AT(t){let e=Le(),n=ln(),r=$D();Gy(r+1);let i=_v(n,r);if(t.dirty&&sO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=kL(e,r);t.reset(s,ZO),t.notifyOnChanges()}return!0}return!1}function ST(){return SL(Le(),$D())}function ue(t,e=""){let n=Le(),r=ln(),i=t+Yt,s=r.firstCreatePass?of(r,i,1,e,null):r.data[i],o=RT(r,n,s,e,t);n[i]=o,Qy()&&dv(r,n,o,s),lu(s,!1)}var RT=(t,e,n,r,i)=>(qi(!0),MC(e[We],r));function CV(t,e,n,r,i){let s=e[sr],o=!s||uu()||pu(n)||du(s,i);return qi(o),o?MC(e[We],r):cf(s,t,e,n)}function TV(){RT=CV}function mu(t){return xT("",t,""),mu}function xT(t,e,n){let r=Le(),i=ZL(r,t,e,n);return i!==Qs&&bF(r,wa(),i),xT}function AV(t,e,n){let r=ln();if(r.firstCreatePass){let i=ji(t);ky(n,r.data,r.blueprint,i,!0),ky(e,r.data,r.blueprint,i,!1)}}function ky(t,e,n,r,i){if(t=Vt(t),Array.isArray(t))for(let s=0;s<t.length;s++)ky(t[s],e,n,r,i);else{let s=ln(),o=Le(),a=Bt(),u=ua(t)?t:Vt(t.provide),d=bD(t),p=a.providerIndexes&1048575,g=a.directiveStart,_=a.providerIndexes>>20;if(ua(t)||!t.multi){let I=new Hs(d,i,ce),M=$m(u,e,i?p:p+_,g);M===-1?(ny(Rh(a,o),s,u),Bm(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),o.push(I)):(n[M]=I,o[M]=I)}else{let I=$m(u,e,p+_,g),M=$m(u,e,p,p+_),O=I>=0&&n[I],N=M>=0&&n[M];if(i&&!N||!i&&!O){ny(Rh(a,o),s,u);let V=xV(i?RV:SV,n.length,i,r,d);!i&&N&&(n[M].providerFactory=V),Bm(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),o.push(V)}else{let V=MT(n[i?M:I],d,!i&&r);Bm(s,t,I>-1?I:M,V)}!i&&r&&N&&n[M].componentProviders++}}}function Bm(t,e,n,r){let i=ua(e),s=zk(e);if(i||s){let u=(s?Vt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,u]):d[p+1].push(r,u)}else d.push(n,u)}}}function MT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $m(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function SV(t,e,n,r){return Oy(this.multi,[])}function RV(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=qs(n,n[he],this.providerFactory.index,r);s=a.slice(0,o),Oy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Oy(i,s);return s}function Oy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function xV(t,e,n,r,i){let s=new Hs(t,n,ce);return s.multi=[],s.index=e,s.componentProviders=0,MT(s,i,r&&!n),s}function Ea(t,e=[]){return n=>{n.providersResolver=(r,i)=>AV(r,i?i(t):t,e)}}var MV=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=_D(!1,n.type),i=r.length>0?df([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=K({token:t,providedIn:"environment",factory:()=>new t(Z(jt))})}}return t})();function En(t){jr("NgStandalone"),t.getStandaloneInjector=e=>e.get(MV).getOrCreateStandaloneInjector(t)}function ff(t,e,n){let r=yO()+t,i=Le();return i[r]===Qs?$L(i,r,n?e.call(n):e()):HL(i,r)}var Lr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},NT=new Lr("18.2.10");var pf=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var PT=new q("");function Js(t){return!!t&&typeof t.then=="function"}function kT(t){return!!t&&typeof t.subscribe=="function"}var gf=new q(""),OT=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=F(gf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Js(s))n.push(s);else if(kT(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xs=new q("");function NV(){Ub(()=>{throw new Y(600,!1)})}function PV(t){return t.isBoundToModule}var kV=10;function OV(t,e,n){try{let r=n();return Js(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var lr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(QO),this.afterRenderManager=F(DT),this.zonelessEnabled=F(lf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new vt,this.afterTick=new vt,this.componentTypes=[],this.components=[],this.isStable=F(zi).hasPendingTasks.pipe(de(n=>!n)),this._injector=F(jt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Vh;if(!this._injector.get(OT).done){let _=!i&&mD(n),I=!1;throw new Y(405,I)}let o;i?o=n:o=this._injector.get(pa).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=PV(o)?void 0:this._injector.get(Bi),u=r||o.selector,d=o.create(it.NULL,[],u,a),p=d.location.nativeElement,g=d.injector.get(PT,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),mh(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Y(101,!1);let n=Re(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Re(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(ga,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<kV;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)FV(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Qh(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;mh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Xs,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>mh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Y(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function mh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var lh;function mf(t){lh??=new WeakMap;let e=lh.get(t);if(e)return e;let n=t.isStable.pipe(kn(r=>r)).toPromise().then(()=>{});return lh.set(t,n),t.onDestroy(()=>lh?.delete(t)),n}function FV(t,e,n,r){if(!n&&!Qh(t))return;cT(t,e,n&&!r?0:1)}var Fy=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},yf=(()=>{class t{compileModuleSync(n){return new Ry(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=yD(n),s=xC(i.declarations).reduce((o,a)=>{let u=Ui(a);return u&&o.push(new ma(u)),o},[]);return new Fy(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var LV=(()=>{class t{constructor(){this.zone=F(Te),this.changeDetectionScheduler=F(fa),this.applicationRef=F(lr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),VV=new q("",{factory:()=>!1});function FT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Te(ve(B({},VT()),{scheduleInRootZone:n})),[{provide:Te,useFactory:t},{provide:Us,multi:!0,useFactory:()=>{let r=F(LV,{optional:!0});return()=>r.initialize()}},{provide:Us,multi:!0,useFactory:()=>{let r=F(UV);return()=>{r.initialize()}}},e===!0?{provide:gT,useValue:!0}:[],{provide:mT,useValue:n??cC}]}function LT(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=FT({ngZoneFactory:()=>{let i=VT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&jr("NgZone_CoalesceEvent"),new Te(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Pt([{provide:VV,useValue:!0},{provide:lf,useValue:!1},r])}function VT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var UV=(()=>{class t{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=F(Te),this.pendingTasks=F(zi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var jV=(()=>{class t{constructor(){this.appRef=F(lr),this.taskService=F(zi),this.ngZone=F(Te),this.zonelessEnabled=F(lf),this.disableScheduling=F(gT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ge,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Mh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(mT,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ay||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?M0:uC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Mh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,M0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function BV(){return typeof $localize<"u"&&$localize.locale||$h}var Dv=new q("",{providedIn:"root",factory:()=>F(Dv,me.Optional|me.SkipSelf)||BV()});var Ly=new q("");function dh(t){return!t.moduleRef}function $V(t){let e=dh(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Te);return n.run(()=>{dh(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Or,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),dh(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Ly);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Ly);o.add(s),t.moduleRef.onDestroy(()=>{mh(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return OV(r,n,()=>{let s=e.get(OT);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Dv,$h);if(IV(o||$h),dh(t)){let a=e.get(lr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return HV(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function HV(t,e){let n=t.injector.get(lr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Y(-403,!1);e.push(t)}var yh=null;function qV(t=[],e){return it.create({name:e,providers:[{provide:Wh,useValue:"platform"},{provide:Ly,useValue:new Set([()=>yh=null])},...t]})}function zV(t=[]){if(yh)return yh;let e=qV(t);return yh=e,NV(),GV(e),e}function GV(t){t.get(nv,null)?.forEach(n=>n())}var eo=(()=>{class t{static{this.__NG_ELEMENT_ID__=WV}}return t})();function WV(t){return KV(Bt(),Le(),(t&16)===16)}function KV(t,e,n){if(cu(t)&&!n){let r=Hi(t.index,e);return new Gs(r,r)}else if(t.type&175){let r=e[vn];return new Gs(r,e)}return null}function UT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=zV(r),s=[FT({}),{provide:fa,useExisting:jV},...n||[]],o=new jh({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return $V({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var Y0=!1;function QV(){Y0||(Y0=!0,g1(),mV(),TV(),wV(),WL(),bL(),iL(),nF())}function YV(t,e){return mf(t)}function jT(){return Pt([{provide:oh,useFactory:()=>{let t=!0;return Yc()&&(t=!!F(Ia,{optional:!0})?.get(EC,null)),t&&jr("NgHydration"),t}},{provide:Us,useValue:()=>{ZF(!1),Yc()&&F(oh)&&(ZV(),QV())},multi:!0},{provide:TC,useFactory:()=>Yc()&&F(oh)},{provide:Xs,useFactory:()=>{if(Yc()&&F(oh)){let t=F(lr),e=F(it);return()=>{YV(t,e).then(()=>{tL(t)})}}return()=>{}},multi:!0}])}function ZV(){let t=Xh(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===f1){e=n;break}if(!e)throw new Y(-507,!1)}function to(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function yu(t,e){jr("NgSignals");let n=Fb(t);return e?.equal&&(n[Ri].equal=e.equal),n}function $r(t){let e=Re(null);try{return t()}finally{Re(e)}}function BT(t){let e=Ui(t);if(!e)return null;let n=new ma(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var zT=null;function qr(){return zT}function GT(t){zT??=t}var vf=class{};var kt=new q(""),Sv=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>F(JV),providedIn:"platform"})}}return t})(),WT=new q(""),JV=(()=>{class t extends Sv{constructor(){super(),this._doc=F(kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qr().getBaseHref(this._doc)}onPopState(n){let r=qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Rv(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function $T(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Hr(t){return t&&t[0]!=="?"?"?"+t:t}var zr=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>F(xv),providedIn:"root"})}}return t})(),KT=new q(""),xv=(()=>{class t extends zr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Rv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Hr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Hr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Hr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Z(Sv),Z(KT,8))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),QT=(()=>{class t extends zr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Rv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Hr(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Hr(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Z(Sv),Z(KT,8))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),Da=(()=>{class t{constructor(n){this._subject=new Be,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=t2($T(HT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Hr(r))}normalize(n){return t.stripTrailingSlash(e2(this._basePath,HT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Hr}static{this.joinWithSlash=Rv}static{this.stripTrailingSlash=$T}static{this.\u0275fac=function(r){return new(r||t)(Z(zr))}}static{this.\u0275prov=K({token:t,factory:()=>XV(),providedIn:"root"})}}return t})();function XV(){return new Da(Z(zr))}function e2(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function HT(t){return t.replace(/\/index.html$/,"")}function t2(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function wf(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var _f=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Cv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){qT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){qT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(ce(Ys),ce(ha))}}static{this.\u0275dir=wt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Cv=class{constructor(){this.$implicit=null,this.ngIf=null}};function qT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ut(e)}'.`)}var Gr=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ur({type:t})}static{this.\u0275inj=Vr({})}}return t})(),Mv="browser",n2="server";function r2(t){return t===Mv}function vu(t){return t===n2}var YT=(()=>{class t{static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>r2(F(Zt))?new Tv(F(kt),window):new Av})}}return t})(),Tv=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=i2(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function i2(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Av=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ba=class{};var _u=class{},Df=class{},dr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Pv=class{encodeKey(e){return ZT(e)}encodeValue(e){return ZT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function s2(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var o2=/%(\d[a-f0-9])/gi,a2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ZT(t){return encodeURIComponent(t).replace(o2,(e,n)=>a2[n]??e)}function Ef(t){return`${t}`}var Qi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Pv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=s2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Ef):[Ef(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Ef(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ef(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var kv=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function c2(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function JT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function XT(t){return typeof Blob<"u"&&t instanceof Blob}function eA(t){return typeof FormData<"u"&&t instanceof FormData}function u2(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var wu=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(c2(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new dr,this.context??=new kv,!this.params)this.params=new Qi,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||JT(this.body)||XT(this.body)||eA(this.body)||u2(this.body)?this.body:this.body instanceof Qi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||eA(this.body)?null:XT(this.body)?this.body.type||null:JT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Qi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,p=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((_,I)=>_.set(I,e.setHeaders[I]),d)),e.setParams&&(p=Object.keys(e.setParams).reduce((_,I)=>_.set(I,e.setParams[I]),p)),new t(n,r,o,{params:p,headers:d,context:g,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Yi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Yi||{}),Iu=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new dr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Cf=class t extends Iu{constructor(e={}){super(e),this.type=Yi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},no=class t extends Iu{constructor(e={}){super(e),this.type=Yi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ki=class extends Iu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},dA=200,l2=204;function Nv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var d2=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof wu)s=n;else{let u;i.headers instanceof dr?u=i.headers:u=new dr(i.headers);let d;i.params&&(i.params instanceof Qi?d=i.params:d=new Qi({fromObject:i.params})),s=new wu(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=ee(s).pipe(Mr(u=>this.handler.handle(u)));if(n instanceof wu||i.observe==="events")return o;let a=o.pipe(Wt(u=>u instanceof no));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(de(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(de(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(de(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(de(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Qi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Nv(i,r))}post(n,r,i={}){return this.request("POST",n,Nv(i,r))}put(n,r,i={}){return this.request("PUT",n,Nv(i,r))}static{this.\u0275fac=function(r){return new(r||t)(Z(_u))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),h2=/^\)\]\}',?\n/,f2="X-Request-URL";function tA(t){if(t.url)return t.url;let e=f2.toLocaleLowerCase();return t.headers.get(e)}var p2=(()=>{class t{constructor(){this.fetchImpl=F(Ov,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=F(Te)}handle(n){return new we(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Fv,s=>r.error(new Ki({error:s}))),()=>i.abort()})}doRequest(n,r,i){return C(this,null,function*(){let s=this.createRequestInit(n),o;try{let I=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,B({signal:r},s)));g2(I),i.next({type:Yi.Sent}),o=yield I}catch(I){i.error(new Ki({error:I,status:I.status??0,statusText:I.statusText,url:n.urlWithParams,headers:I.headers}));return}let a=new dr(o.headers),u=o.statusText,d=tA(o)??n.urlWithParams,p=o.status,g=null;if(n.reportProgress&&i.next(new Cf({headers:a,status:p,statusText:u,url:d})),o.body){let I=o.headers.get("content-length"),M=[],O=o.body.getReader(),N=0,V,z,$=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>C(this,null,function*(){for(;;){let{done:le,value:Q}=yield O.read();if(le)break;if(M.push(Q),N+=Q.length,n.reportProgress){z=n.responseType==="text"?(z??"")+(V??=new TextDecoder).decode(Q,{stream:!0}):void 0;let T=()=>i.next({type:Yi.DownloadProgress,total:I?+I:void 0,loaded:N,partialText:z});$?$.run(T):T()}}}));let G=this.concatChunks(M,N);try{let le=o.headers.get("Content-Type")??"";g=this.parseBody(n,G,le)}catch(le){i.error(new Ki({error:le,headers:new dr(o.headers),status:o.status,statusText:o.statusText,url:tA(o)??n.urlWithParams}));return}}p===0&&(p=g?dA:0),p>=200&&p<300?(i.next(new no({body:g,headers:a,status:p,statusText:u,url:d})),i.complete()):i.error(new Ki({error:g,headers:a,status:p,statusText:u,url:d}))})}parseBody(n,r,i){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(h2,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>r[s]=o.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),s=0;for(let o of n)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),Ov=class{};function Fv(){}function g2(t){t.then(Fv,Fv)}function m2(t,e){return e(t)}function y2(t,e,n){return(r,i)=>_n(n,()=>e(r,s=>t(s,i)))}var hA=new q(""),fA=new q(""),v2=new q("",{providedIn:"root",factory:()=>!0});var nA=(()=>{class t extends _u{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=F(zi),this.contributeToStability=F(v2)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(hA),...this.injector.get(fA,[])]));this.chain=r.reduceRight((i,s)=>y2(i,s,this.injector),m2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Ls(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(Z(Df),Z(jt))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})();var w2=/^\)\]\}',?\n/;function _2(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var rA=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Y(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ve(r.\u0275loadImpl()):ee(null)).pipe(Kt(()=>new we(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((O,N)=>o.setRequestHeader(O,N.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let O=n.detectContentTypeHeader();O!==null&&o.setRequestHeader("Content-Type",O)}if(n.responseType){let O=n.responseType.toLowerCase();o.responseType=O!=="json"?O:"text"}let a=n.serializeBody(),u=null,d=()=>{if(u!==null)return u;let O=o.statusText||"OK",N=new dr(o.getAllResponseHeaders()),V=_2(o)||n.url;return u=new Cf({headers:N,status:o.status,statusText:O,url:V}),u},p=()=>{let{headers:O,status:N,statusText:V,url:z}=d(),$=null;N!==l2&&($=typeof o.response>"u"?o.responseText:o.response),N===0&&(N=$?dA:0);let G=N>=200&&N<300;if(n.responseType==="json"&&typeof $=="string"){let le=$;$=$.replace(w2,"");try{$=$!==""?JSON.parse($):null}catch(Q){$=le,G&&(G=!1,$={error:Q,text:$})}}G?(s.next(new no({body:$,headers:O,status:N,statusText:V,url:z||void 0})),s.complete()):s.error(new Ki({error:$,headers:O,status:N,statusText:V,url:z||void 0}))},g=O=>{let{url:N}=d(),V=new Ki({error:O,status:o.status||0,statusText:o.statusText||"Unknown Error",url:N||void 0});s.error(V)},_=!1,I=O=>{_||(s.next(d()),_=!0);let N={type:Yi.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(N.total=O.total),n.responseType==="text"&&o.responseText&&(N.partialText=o.responseText),s.next(N)},M=O=>{let N={type:Yi.UploadProgress,loaded:O.loaded};O.lengthComputable&&(N.total=O.total),s.next(N)};return o.addEventListener("load",p),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),n.reportProgress&&(o.addEventListener("progress",I),a!==null&&o.upload&&o.upload.addEventListener("progress",M)),o.send(a),s.next({type:Yi.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",p),o.removeEventListener("timeout",g),n.reportProgress&&(o.removeEventListener("progress",I),a!==null&&o.upload&&o.upload.removeEventListener("progress",M)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(Z(ba))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),pA=new q(""),I2="XSRF-TOKEN",E2=new q("",{providedIn:"root",factory:()=>I2}),b2="X-XSRF-TOKEN",D2=new q("",{providedIn:"root",factory:()=>b2}),Tf=class{},C2=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=wf(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(Z(kt),Z(Zt),Z(E2))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})();function T2(t,e){let n=t.url.toLowerCase();if(!F(pA)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=F(Tf).getToken(),i=F(D2);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function gA(...t){let e=[d2,rA,nA,{provide:_u,useExisting:nA},{provide:Df,useFactory:()=>F(p2,{optional:!0})??F(rA)},{provide:hA,useValue:T2,multi:!0},{provide:pA,useValue:!0},{provide:Tf,useClass:C2}];for(let n of t)e.push(...n.\u0275providers);return Pt(e)}var A2=new q(""),iA="b",sA="h",oA="s",aA="st",cA="u",uA="rt",bf=new q(""),S2=["GET","HEAD"];function R2(t,e){let I=F(bf),{isCacheActive:n}=I,r=Tb(I,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||i===!1||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!S2.includes(s)||!r.includeRequestsWithAuthHeaders&&x2(t)||r.filter?.(t)===!1)return e(t);let o=F(Ia),a=F(A2,{optional:!0}),u=vu(F(Zt));if(a&&!u)throw new Y(2803,!1);let d=u&&a?k2(t.url,a):t.url,p=N2(t,d),g=o.get(p,null),_=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(_=i.includeHeaders),g){let{[iA]:M,[uA]:O,[sA]:N,[oA]:V,[aA]:z,[cA]:$}=g,G=M;switch(O){case"arraybuffer":G=new TextEncoder().encode(M).buffer;break;case"blob":G=new Blob([M]);break}let le=new dr(N);return ee(new no({body:G,headers:le,status:V,statusText:z,url:$}))}return e(t).pipe(Je(M=>{M instanceof no&&u&&o.set(p,{[iA]:M.body,[sA]:M2(M.headers,_),[oA]:M.status,[aA]:M.statusText,[cA]:d,[uA]:t.responseType})}))}function x2(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function M2(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function lA(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function N2(t,e){let{params:n,method:r,responseType:i}=t,s=lA(n),o=t.serializeBody();o instanceof URLSearchParams?o=lA(o):typeof o!="string"&&(o="");let a=[r,i,e,o,s].join("|"),u=P2(a);return u}function P2(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function mA(t){return[{provide:bf,useFactory:()=>(jr("NgHttpTransferCache"),B({isCacheActive:!0},t))},{provide:fA,useValue:R2,multi:!0,deps:[Ia,bf]},{provide:Xs,multi:!0,useFactory:()=>{let e=F(lr),n=F(bf);return()=>{mf(e).then(()=>{n.isCacheActive=!1})}}}]}function k2(t,e){let n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}var Uv=class extends vf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},jv=class t extends Uv{static makeCurrent(){GT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=O2();return n==null?null:F2(n)}resetBaseElement(){Eu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wf(document.cookie,e)}},Eu=null;function O2(){return Eu=Eu||document.querySelector("base"),Eu?Eu.getAttribute("href"):null}function F2(t){return new URL(t,document.baseURI).pathname}var L2=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),Bv=new q(""),_A=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Y(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(Z(Bv),Z(Te))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),Af=class{constructor(e){this._doc=e}},Lv="ng-app-id",IA=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vu(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Lv}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Lv),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Lv,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(Z(kt),Z(ef),Z(rv,8),Z(Zt))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),Vv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},qv=/%COMP%/g,EA="%COMP%",V2=`_nghost-${EA}`,U2=`_ngcontent-${EA}`,j2=!0,B2=new q("",{providedIn:"root",factory:()=>j2});function $2(t){return U2.replace(qv,t)}function H2(t){return V2.replace(qv,t)}function bA(t,e){return e.map(n=>n.replace(qv,t))}var yA=(()=>{class t{constructor(n,r,i,s,o,a,u,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=vu(a),this.defaultRenderer=new bu(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ir.ShadowDom&&(r=ve(B({},r),{encapsulation:ir.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Sf?i.applyToHost(n):i instanceof Du&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case ir.Emulated:s=new Sf(u,d,r,this.appId,p,o,a,g);break;case ir.ShadowDom:return new $v(u,d,n,r,o,a,this.nonce,g);default:s=new Du(u,d,r,p,o,a,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(Z(_A),Z(IA),Z(ef),Z(B2),Z(kt),Z(Zt),Z(Te),Z(rv))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),bu=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Vv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(vA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Y(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Vv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Vv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Fr.DashCase|Fr.Important)?e.style.setProperty(n,r,i&Fr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Fr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=qr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function vA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var $v=class extends bu{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=bA(i.id,i.styles);for(let p of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Du=class extends bu{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?bA(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Sf=class extends Du{constructor(e,n,r,i,s,o,a,u){let d=i+"-"+r.id;super(e,n,r,s,o,a,u,d),this.contentAttr=$2(d),this.hostAttr=H2(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},q2=(()=>{class t extends Af{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(Z(kt))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),wA=["alt","control","meta","shift"],z2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},W2=(()=>{class t extends Af{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),wA.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=z2[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),wA.forEach(o=>{if(o!==i){let a=G2[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(Z(kt))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})();function DA(t,e){return UT(B({rootComponent:t},K2(e)))}function K2(t){return{appProviders:[...X2,...t?.providers??[]],platformProviders:J2}}function Q2(){jv.makeCurrent()}function Y2(){return new Or}function Z2(){return yC(document),document}var J2=[{provide:Zt,useValue:Mv},{provide:nv,useValue:Q2,multi:!0},{provide:kt,useFactory:Z2,deps:[]}];var X2=[{provide:Wh,useValue:"root"},{provide:Or,useFactory:Y2,deps:[]},{provide:Bv,useClass:q2,multi:!0,deps:[kt,Te,Zt]},{provide:Bv,useClass:W2,multi:!0,deps:[kt]},yA,IA,_A,{provide:ga,useExisting:yA},{provide:ba,useClass:L2,deps:[]},[]];var CA=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(Z(kt))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Hv=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(Hv||{});function TA(...t){let e=[],n=new Set,r=n.has(Hv.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return Pt([[],jT(),n.has(Hv.NoHttpTransferCache)||r?[]:mA({}),e])}var pe="primary",Uu=Symbol("RouteTitle"),Qv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function xa(t){return new Qv(t)}function tU(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function nU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hr(t[n],e[n]))return!1;return!0}function hr(t,e){let n=t?Yv(t):void 0,r=e?Yv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!LA(t[i],e[i]))return!1;return!0}function Yv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function LA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function VA(t){return t.length>0?t[t.length-1]:null}function es(t){return Im(t)?t:Js(t)?Ve(Promise.resolve(t)):ee(t)}var rU={exact:jA,subset:BA},UA={exact:iU,subset:sU,ignored:()=>!0};function AA(t,e,n){return rU[n.paths](t.root,e.root,n.matrixParams)&&UA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function iU(t,e){return hr(t,e)}function jA(t,e,n){if(!io(t.segments,e.segments)||!Mf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!jA(t.children[r],e.children[r],n))return!1;return!0}function sU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>LA(t[n],e[n]))}function BA(t,e,n){return $A(t,e,e.segments,n)}function $A(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!io(i,n)||e.hasChildren()||!Mf(i,n,r))}else if(t.segments.length===n.length){if(!io(t.segments,n)||!Mf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!BA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!io(t.segments,i)||!Mf(t.segments,i,r)||!t.children[pe]?!1:$A(t.children[pe],e,s,r)}}function Mf(t,e,n){return e.every((r,i)=>UA[n](t[i].parameters,r.parameters))}var Kr=class{constructor(e=new Pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xa(this.queryParams),this._queryParamMap}toString(){return cU.serialize(this)}},Pe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nf(this)}},ro=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=xa(this.parameters),this._parameterMap}toString(){return qA(this)}};function oU(t,e){return io(t,e)&&t.every((n,r)=>hr(n.parameters,e[r].parameters))}function io(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function aU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===pe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==pe&&(n=n.concat(e(i,r)))}),n}var ju=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>new Ma,providedIn:"root"})}}return t})(),Ma=class{parse(e){let n=new Jv(e);return new Kr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Cu(e.root,!0)}`,r=dU(e.queryParams),i=typeof e.fragment=="string"?`#${uU(e.fragment)}`:"";return`${n}${r}${i}`}},cU=new Ma;function Nf(t){return t.segments.map(e=>qA(e)).join("/")}function Cu(t,e){if(!t.hasChildren())return Nf(t);if(e){let n=t.children[pe]?Cu(t.children[pe],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==pe&&r.push(`${i}:${Cu(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=aU(t,(r,i)=>i===pe?[Cu(t.children[pe],!1)]:[`${i}:${Cu(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[pe]!=null?`${Nf(t)}/${n[0]}`:`${Nf(t)}/(${n.join("//")})`}}function HA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rf(t){return HA(t).replace(/%3B/gi,";")}function uU(t){return encodeURI(t)}function Zv(t){return HA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pf(t){return decodeURIComponent(t)}function SA(t){return Pf(t.replace(/\+/g,"%20"))}function qA(t){return`${Zv(t.path)}${lU(t.parameters)}`}function lU(t){return Object.entries(t).map(([e,n])=>`;${Zv(e)}=${Zv(n)}`).join("")}function dU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Rf(n)}=${Rf(i)}`).join("&"):`${Rf(n)}=${Rf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var hU=/^[^\/()?;#]+/;function zv(t){let e=t.match(hU);return e?e[0]:""}var fU=/^[^\/()?;=#]+/;function pU(t){let e=t.match(fU);return e?e[0]:""}var gU=/^[^=?&#]+/;function mU(t){let e=t.match(gU);return e?e[0]:""}var yU=/^[^&#]+/;function vU(t){let e=t.match(yU);return e?e[0]:""}var Jv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[pe]=new Pe(e,n)),r}parseSegment(){let e=zv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(e),new ro(Pf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=pU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=zv(this.remaining);i&&(r=i,this.capture(r))}e[Pf(n)]=Pf(r)}parseQueryParam(e){let n=mU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=vU(this.remaining);o&&(r=o,this.capture(r))}let i=SA(n),s=SA(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Y(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=pe);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[pe]:new Pe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Y(4011,!1)}};function zA(t){return t.segments.length>0?new Pe([],{[pe]:t}):t}function GA(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=GA(i);if(r===pe&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Pe(t.segments,e);return wU(n)}function wU(t){if(t.numberOfChildren===1&&t.children[pe]){let e=t.children[pe];return new Pe(t.segments.concat(e.segments),e.children)}return t}function so(t){return t instanceof Kr}function _U(t,e,n=null,r=null){let i=WA(t);return KA(i,e,n,r)}function WA(t){let e;function n(s){let o={};for(let u of s.children){let d=n(u);o[u.outlet]=d}let a=new Pe(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=zA(r);return e??i}function KA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Gv(i,i,i,n,r);let s=IU(e);if(s.toRoot())return Gv(i,i,new Pe([],{}),n,r);let o=EU(s,i,t),a=o.processChildren?Su(o.segmentGroup,o.index,s.commands):YA(o.segmentGroup,o.index,s.commands);return Gv(i,o.segmentGroup,a,n,r)}function kf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Mu(t){return typeof t=="object"&&t!=null&&t.outlets}function Gv(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let o;t===e?o=n:o=QA(t,e,n);let a=zA(GA(o));return new Kr(a,s,i)}function QA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=QA(s,e,n)}),new Pe(t.segments,r)}var Of=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kf(r[0]))throw new Y(4003,!1);let i=r.find(Mu);if(i&&i!==VA(r))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function IU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Of(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Of(n,e,r)}var Aa=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function EU(t,e,n){if(t.isAbsolute)return new Aa(e,!0,0);if(!n)return new Aa(e,!1,NaN);if(n.parent===null)return new Aa(n,!0,0);let r=kf(t.commands[0])?0:1,i=n.segments.length-1+r;return bU(n,i,t.numberOfDoubleDots)}function bU(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Y(4005,!1);i=r.segments.length}return new Aa(r,!1,i-s)}function DU(t){return Mu(t[0])?t[0].outlets:{[pe]:t}}function YA(t,e,n){if(t??=new Pe([],{}),t.segments.length===0&&t.hasChildren())return Su(t,e,n);let r=CU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Pe(t.segments.slice(0,r.pathIndex),{});return s.children[pe]=new Pe(t.segments.slice(r.pathIndex),t.children),Su(s,0,i)}else return r.match&&i.length===0?new Pe(t.segments,{}):r.match&&!t.hasChildren()?Xv(t,e,n):r.match?Su(t,0,i):Xv(t,e,n)}function Su(t,e,n){if(n.length===0)return new Pe(t.segments,{});{let r=DU(n),i={};if(Object.keys(r).some(s=>s!==pe)&&t.children[pe]&&t.numberOfChildren===1&&t.children[pe].segments.length===0){let s=Su(t.children[pe],e,n);return new Pe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=YA(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Pe(t.segments,i)}}function CU(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Mu(a))break;let u=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!xA(u,d,o))return s;r+=2}else{if(!xA(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Xv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Mu(s)){let u=TU(s.outlets);return new Pe(r,u)}if(i===0&&kf(n[0])){let u=t.segments[e];r.push(new ro(u.path,RA(n[0]))),i++;continue}let o=Mu(s)?s.outlets[pe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&kf(a)?(r.push(new ro(o,RA(a))),i+=2):(r.push(new ro(o,{})),i++)}return new Pe(r,{})}function TU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Xv(new Pe([],{}),0,r))}),e}function RA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function xA(t,e,n){return t==n.path&&hr(e,n.parameters)}var Ru="imperative",It=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(It||{}),Dn=class{constructor(e,n){this.id=e,this.url=n}},Na=class extends Dn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=It.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$n=class extends Dn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=It.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},hn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(hn||{}),Ff=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ff||{}),Wr=class extends Dn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=It.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zi=class extends Dn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=It.NavigationSkipped}},Nu=class extends Dn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=It.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lf=class extends Dn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=It.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ew=class extends Dn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=It.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tw=class extends Dn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=It.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nw=class extends Dn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=It.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rw=class extends Dn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=It.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iw=class{constructor(e){this.route=e,this.type=It.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sw=class{constructor(e){this.route=e,this.type=It.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ow=class{constructor(e){this.snapshot=e,this.type=It.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},aw=class{constructor(e){this.snapshot=e,this.type=It.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cw=class{constructor(e){this.snapshot=e,this.type=It.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uw=class{constructor(e){this.snapshot=e,this.type=It.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vf=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=It.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Pu=class{},Pa=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function AU(t,e){return t.providers&&!t._injector&&(t._injector=df(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Bn(t){return t.outlet||pe}function SU(t,e){let n=t.filter(r=>Bn(r)===e);return n.push(...t.filter(r=>Bn(r)!==e)),n}function Bu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var lw=class{get injector(){return Bu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new $u(this.rootInjector),this.attachRef=null}},$u=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new lw(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(Z(jt))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Uf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=dw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=dw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=hw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hw(e,this._root).map(n=>n.value)}};function dw(t,e){if(t===e.value)return e;for(let n of e.children){let r=dw(t,n);if(r)return r}return null}function hw(t,e){if(t===e.value)return[e];for(let n of e.children){let r=hw(t,n);if(r.length)return r.unshift(e),r}return[]}var dn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ta(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var jf=class extends Uf{constructor(e,n){super(e),this.snapshot=n,Iw(this,e)}toString(){return this.snapshot.toString()}};function ZA(t){let e=RU(t),n=new Tt([new ro("",{})]),r=new Tt({}),i=new Tt({}),s=new Tt({}),o=new Tt(""),a=new Ji(n,r,s,o,i,pe,t,e.root);return a.snapshot=e.root,new jf(new dn(a,[]),e)}function RU(t){let e={},n={},r={},i="",s=new Sa([],e,r,i,n,pe,t,null,{});return new $f("",new dn(s,[]))}var Ji=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(de(d=>d[Uu]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>xa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>xa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),t.params),data:B(B({},e.data),t.data),resolve:B(B(B(B({},t.data),e.data),i?.data),t._resolvedData)}:r={params:B({},t.params),data:B({},t.data),resolve:B(B({},t.data),t._resolvedData??{})},i&&XA(i)&&(r.resolve[Uu]=i.title),r}var Sa=class{get title(){return this.data?.[Uu]}constructor(e,n,r,i,s,o,a,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},$f=class extends Uf{constructor(e,n){super(n),this.url=e,Iw(this,n)}toString(){return JA(this._root)}};function Iw(t,e){e.value._routerState=t,e.children.forEach(n=>Iw(t,n))}function JA(t){let e=t.children.length>0?` { ${t.children.map(JA).join(", ")} } `:"";return`${t.value}${e}`}function Wv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),hr(e.params,n.params)||t.paramsSubject.next(n.params),nU(e.url,n.url)||t.urlSubject.next(n.url),hr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function fw(t,e){let n=hr(t.params,e.params)&&oU(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||fw(t.parent,e.parent))}function XA(t){return typeof t.title=="string"||t.title===null}var Ew=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new Be,this.deactivateEvents=new Be,this.attachEvents=new Be,this.detachEvents=new Be,this.parentContexts=F($u),this.location=F(Ys),this.changeDetector=F(eo),this.inputBinder=F(Gf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new pw(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=wt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cr]})}}return t})(),pw=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ji?this.route:e===$u?this.childContexts:this.parent.get(e,n)}},Gf=new q(""),MA=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Qc([r.queryParams,r.params,r.data]).pipe(Kt(([s,o,a],u)=>(a=B(B(B({},s),o),a),u===0?ee(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=BT(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})();function xU(t,e,n){let r=ku(t,e._root,n?n._root:void 0);return new jf(r,e)}function ku(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=MU(t,e,n);return new dn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ku(t,a)),o}}let r=NU(e.value),i=e.children.map(s=>ku(t,s));return new dn(r,i)}}function MU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ku(t,r,i);return ku(t,r)})}function NU(t){return new Ji(new Tt(t.url),new Tt(t.params),new Tt(t.queryParams),new Tt(t.fragment),new Tt(t.data),t.outlet,t.component,t)}var Ou=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},eS="ngNavigationCancelingError";function Hf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=so(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tS(!1,hn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function tS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[eS]=!0,n.cancellationCode=e,n}function PU(t){return nS(t)&&so(t.url)}function nS(t){return!!t&&t[eS]}var kU=(t,e,n,r)=>de(i=>(new gw(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),gw=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Wv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ta(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ta(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ta(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ta(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new uw(s.value.snapshot))}),e.children.length&&this.forwardEvent(new aw(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Wv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Wv(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},qf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ra=class{constructor(e,n){this.component=e,this.route=n}};function OU(t,e,n){let r=t._root,i=e?e._root:null;return Tu(r,i,n,[r.value])}function FU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Oa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!eD(t)?t:e.get(t):r}function Tu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ta(e);return t.children.forEach(o=>{LU(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>xu(a,n.getContext(o),i)),i}function LU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=VU(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new qf(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Tu(t,e,a?a.children:null,r,i):Tu(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ra(a.outlet.component,o))}else o&&xu(e,a,i),i.canActivateChecks.push(new qf(r)),s.component?Tu(t,null,a?a.children:null,r,i):Tu(t,null,n,r,i);return i}function VU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!io(t.url,e.url);case"pathParamsOrQueryParamsChange":return!io(t.url,e.url)||!hr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fw(t,e)||!hr(t.queryParams,e.queryParams);case"paramsChange":default:return!fw(t,e)}}function xu(t,e,n){let r=Ta(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?xu(o,e.children.getContext(s),n):xu(o,null,n):xu(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ra(e.outlet.component,i)):n.canDeactivateChecks.push(new Ra(null,i)):n.canDeactivateChecks.push(new Ra(null,i))}function Hu(t){return typeof t=="function"}function UU(t){return typeof t=="boolean"}function jU(t){return t&&Hu(t.canLoad)}function BU(t){return t&&Hu(t.canActivate)}function $U(t){return t&&Hu(t.canActivateChild)}function HU(t){return t&&Hu(t.canDeactivate)}function qU(t){return t&&Hu(t.canMatch)}function rS(t){return t instanceof xr||t?.name==="EmptyError"}var xf=Symbol("INITIAL_VALUE");function ka(){return Kt(t=>Qc(t.map(e=>e.pipe(Nr(1),Tm(xf)))).pipe(de(e=>{for(let n of e)if(n!==!0){if(n===xf)return xf;if(n===!1||zU(n))return n}return!0}),Wt(e=>e!==xf),Nr(1)))}function zU(t){return so(t)||t instanceof Ou}function GU(t,e){return rt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?ee(ve(B({},n),{guardsResult:!0})):WU(o,r,i,t).pipe(rt(a=>a&&UU(a)?KU(r,s,t,e):ee(a)),de(a=>ve(B({},n),{guardsResult:a})))})}function WU(t,e,n,r){return Ve(t).pipe(rt(i=>XU(i.component,i.route,n,e,r)),kn(i=>i!==!0,!0))}function KU(t,e,n,r){return Ve(e).pipe(Mr(i=>Xo(YU(i.route.parent,r),QU(i.route,r),JU(t,i.path,n),ZU(t,i.route,n))),kn(i=>i!==!0,!0))}function QU(t,e){return t!==null&&e&&e(new cw(t)),ee(!0)}function YU(t,e){return t!==null&&e&&e(new ow(t)),ee(!0)}function ZU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(s=>rh(()=>{let o=Bu(e)??n,a=Oa(s,o),u=BU(a)?a.canActivate(e,t):_n(o,()=>a(e,t));return es(u).pipe(kn())}));return ee(i).pipe(ka())}function JU(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>FU(o)).filter(o=>o!==null).map(o=>rh(()=>{let a=o.guards.map(u=>{let d=Bu(o.node)??n,p=Oa(u,d),g=$U(p)?p.canActivateChild(r,t):_n(d,()=>p(r,t));return es(g).pipe(kn())});return ee(a).pipe(ka())}));return ee(s).pipe(ka())}function XU(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ee(!0);let o=s.map(a=>{let u=Bu(e)??i,d=Oa(a,u),p=HU(d)?d.canDeactivate(t,e,n,r):_n(u,()=>d(t,e,n,r));return es(p).pipe(kn())});return ee(o).pipe(ka())}function ej(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let s=i.map(o=>{let a=Oa(o,t),u=jU(a)?a.canLoad(e,n):_n(t,()=>a(e,n));return es(u)});return ee(s).pipe(ka(),iS(r))}function iS(t){return fm(Je(e=>{if(typeof e!="boolean")throw Hf(t,e)}),de(e=>e===!0))}function tj(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let s=i.map(o=>{let a=Oa(o,t),u=qU(a)?a.canMatch(e,n):_n(t,()=>a(e,n));return es(u)});return ee(s).pipe(ka(),iS(r))}var Fu=class{constructor(e){this.segmentGroup=e||null}},Lu=class extends Error{constructor(e){super(),this.urlTree=e}};function Ca(t){return Jo(new Fu(t))}function nj(t){return Jo(new Y(4e3,!1))}function rj(t){return Jo(tS(!1,hn.GuardRejected))}var mw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[pe])return nj(`${e.redirectTo}`);i=i.children[pe]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,params:I,data:M,title:O}=i,N=_n(s,()=>a({params:I,data:M,queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,title:O}));if(N instanceof Kr)throw new Lu(N);n=N}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Lu(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Kr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Pe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Y(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},yw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ij(t,e,n,r,i){let s=sS(t,e,n);return s.matched?(r=AU(e,r),tj(r,e,n,i).pipe(de(o=>o===!0?s:B({},yw)))):ee(s)}function sS(t,e,n){if(e.path==="**")return sj(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?B({},yw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||tU)(n,t,e);if(!i)return B({},yw);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?B(B({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function sj(t){return{matched:!0,parameters:t.length>0?VA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function NA(t,e,n,r){return n.length>0&&cj(t,n,r)?{segmentGroup:new Pe(e,aj(r,new Pe(n,t.children))),slicedSegments:[]}:n.length===0&&uj(t,n,r)?{segmentGroup:new Pe(t.segments,oj(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Pe(t.segments,t.children),slicedSegments:n}}function oj(t,e,n,r){let i={};for(let s of n)if(Wf(t,e,s)&&!r[Bn(s)]){let o=new Pe([],{});i[Bn(s)]=o}return B(B({},r),i)}function aj(t,e){let n={};n[pe]=e;for(let r of t)if(r.path===""&&Bn(r)!==pe){let i=new Pe([],{});n[Bn(r)]=i}return n}function cj(t,e,n){return n.some(r=>Wf(t,e,r)&&Bn(r)!==pe)}function uj(t,e,n){return n.some(r=>Wf(t,e,r))}function Wf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function lj(t,e,n){return e.length===0&&!t.children[n]}var vw=class{};function dj(t,e,n,r,i,s,o="emptyOnly"){return new ww(t,e,n,r,i,o,s).recognize()}var hj=31,ww=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new mw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Y(4002,`'${e.segmentGroup}'`)}recognize(){let e=NA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(({children:n,rootSnapshot:r})=>{let i=new dn(r,n),s=new $f("",i),o=_U(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Sa([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,pe,n).pipe(de(r=>({children:r,rootSnapshot:n})),ki(r=>{if(r instanceof Lu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(de(o=>o instanceof dn?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ve(s).pipe(Mr(o=>{let a=r.children[o],u=SU(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Cm((o,a)=>(o.push(...a),o)),Oi(null),Dm(),rt(o=>{if(o===null)return Ca(r);let a=oS(o);return fj(a),ee(a)}))}processSegment(e,n,r,i,s,o,a){return Ve(n).pipe(Mr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(ki(d=>{if(d instanceof Fu)return ee(null);throw d}))),kn(u=>!!u),ki(u=>{if(rS(u))return lj(r,i,s)?ee(new vw):Ca(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return Bn(r)!==o&&(o===pe||!Wf(i,s,r))?Ca(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Ca(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:g,remainingSegments:_}=sS(n,i,s);if(!u)return Ca(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hj&&(this.allowRedirects=!1));let I=new Sa(s,d,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,PA(i),Bn(i),i.component??i._loadedComponent??null,i,kA(i)),M=Bf(I,a,this.paramsInheritanceStrategy);I.params=Object.freeze(M.params),I.data=Object.freeze(M.data);let O=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(rt(N=>this.processSegment(e,r,n,N.concat(_),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=ij(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Kt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Kt(({routes:d})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:I}=u,M=new Sa(_,g,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,PA(r),Bn(r),r.component??r._loadedComponent??null,r,kA(r)),O=Bf(M,o,this.paramsInheritanceStrategy);M.params=Object.freeze(O.params),M.data=Object.freeze(O.data);let{segmentGroup:N,slicedSegments:V}=NA(n,_,I,d);if(V.length===0&&N.hasChildren())return this.processChildren(p,d,N,M).pipe(de($=>new dn(M,$)));if(d.length===0&&V.length===0)return ee(new dn(M,[]));let z=Bn(r)===s;return this.processSegment(p,d,N,V,z?pe:s,!0,M).pipe(de($=>new dn(M,$ instanceof dn?[$]:[])))}))):Ca(n)))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):ej(e,n,r,this.urlSerializer).pipe(rt(i=>i?this.configLoader.loadChildren(e,n).pipe(Je(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):rj(n))):ee({routes:[],injector:e})}};function fj(t){t.sort((e,n)=>e.value.outlet===pe?-1:n.value.outlet===pe?1:e.value.outlet.localeCompare(n.value.outlet))}function pj(t){let e=t.value.routeConfig;return e&&e.path===""}function oS(t){let e=[],n=new Set;for(let r of t){if(!pj(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=oS(r.children);e.push(new dn(r.value,i))}return e.filter(r=>!n.has(r))}function PA(t){return t.data||{}}function kA(t){return t.resolve||{}}function gj(t,e,n,r,i,s){return rt(o=>dj(t,e,n,r,o.extractedUrl,i,s).pipe(de(({state:a,tree:u})=>ve(B({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function mj(t,e){return rt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of aS(u))o.add(d);let a=0;return Ve(o).pipe(Mr(u=>s.has(u)?yj(u,r,t,e):(u.data=Bf(u,u.parent,t).resolve,ee(void 0))),Je(()=>a++),ea(1),rt(u=>a===o.size?ee(n):on))})}function aS(t){let e=t.children.map(n=>aS(n)).flat();return[t,...e]}function yj(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!XA(i)&&(s[Uu]=i.title),vj(s,t,e,r).pipe(de(o=>(t._resolvedData=o,t.data=Bf(t,t.parent,n).resolve,null)))}function vj(t,e,n,r){let i=Yv(t);if(i.length===0)return ee({});let s={};return Ve(i).pipe(rt(o=>wj(t[o],e,n,r).pipe(kn(),Je(a=>{if(a instanceof Ou)throw Hf(new Ma,a);s[o]=a}))),ea(1),bm(s),ki(o=>rS(o)?on:Jo(o)))}function wj(t,e,n,r){let i=Bu(e)??r,s=Oa(t,i),o=s.resolve?s.resolve(e,n):_n(i,()=>s(e,n));return es(o)}function Kv(t){return Kt(e=>{let n=t(e);return n?Ve(n).pipe(de(()=>e)):ee(e)})}var cS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===pe);return r}getResolvedTitleForRoute(n){return n.data[Uu]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>F(_j),providedIn:"root"})}}return t})(),_j=(()=>{class t extends cS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(Z(CA))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qu=new q("",{providedIn:"root",factory:()=>({})}),Ij=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=wn({type:t,selectors:[["ng-component"]],standalone:!0,features:[En],decls:1,vars:0,template:function(r,i){r&1&&ot(0,"router-outlet")},dependencies:[Ew],encapsulation:2})}}return t})();function bw(t){let e=t.children&&t.children.map(bw),n=e?ve(B({},t),{children:e}):B({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pe&&(n.component=Ij),n}var Vu=new q(""),Dw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(yf)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=es(n.loadComponent()).pipe(de(uS),Je(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Ls(()=>{this.componentLoaders.delete(n)})),i=new Ko(r,()=>new vt).pipe(Wo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Ej(r,this.compiler,n,this.onLoadEndListener).pipe(Ls(()=>{this.childrenLoaders.delete(r)})),o=new Ko(s,()=>new vt).pipe(Wo());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ej(t,e,n,r){return es(t.loadChildren()).pipe(de(uS),rt(i=>i instanceof iu||Array.isArray(i)?ee(i):Ve(e.compileModuleAsync(i))),de(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Vu,[],{optional:!0,self:!0}).flat()),{routes:o.map(bw),injector:s}}))}function bj(t){return t&&typeof t=="object"&&"default"in t}function uS(t){return bj(t)?t.default:t}var Cw=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>F(Dj),providedIn:"root"})}}return t})(),Dj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lS=new q(""),dS=new q("");function Cj(t,e,n){let r=t.get(dS),i=t.get(kt);return t.get(Te).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let s,o=new Promise(d=>{s=d}),a=i.startViewTransition(()=>(s(),Tj(t))),{onViewTransitionCreated:u}=r;return u&&_n(t,()=>u({transition:a,from:e,to:n})),o})}function Tj(t){return new Promise(e=>{Ev({read:()=>setTimeout(e)},{injector:t})})}var Aj=new q(""),Tw=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vt,this.transitionAbortSubject=new vt,this.configLoader=F(Dw),this.environmentInjector=F(jt),this.urlSerializer=F(ju),this.rootContexts=F($u),this.location=F(Da),this.inputBindingEnabled=F(Gf,{optional:!0})!==null,this.titleStrategy=F(cS),this.options=F(qu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(Cw),this.createViewTransition=F(lS,{optional:!0}),this.navigationErrorHandler=F(Aj,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let n=i=>this.events.next(new iw(i)),r=i=>this.events.next(new sw(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ve(B(B({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Tt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ru,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wt(s=>s.id!==0),de(s=>ve(B({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Kt(s=>{let o=!1,a=!1;return ee(s).pipe(Kt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",hn.SupersededByNewNavigation),on;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ve(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&p!=="reload"){let g="";return this.events.next(new Zi(u.id,this.urlSerializer.serialize(u.rawUrl),g,Ff.IgnoredSameUrlNavigation)),u.resolve(!1),on}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ee(u).pipe(Kt(g=>{let _=this.transitions?.getValue();return this.events.next(new Na(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?on:Promise.resolve(g)}),gj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Je(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=ve(B({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new Lf(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:I,restoredState:M,extras:O}=u,N=new Na(g,this.urlSerializer.serialize(_),I,M);this.events.next(N);let V=ZA(this.rootComponentType).snapshot;return this.currentTransition=s=ve(B({},u),{targetSnapshot:V,urlAfterRedirects:_,extras:ve(B({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ee(s)}else{let g="";return this.events.next(new Zi(u.id,this.urlSerializer.serialize(u.extractedUrl),g,Ff.IgnoredByUrlHandlingStrategy)),u.resolve(!1),on}}),Je(u=>{let d=new ew(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),de(u=>(this.currentTransition=s=ve(B({},u),{guards:OU(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),GU(this.environmentInjector,u=>this.events.next(u)),Je(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Hf(this.urlSerializer,u.guardsResult);let d=new tw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Wt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",hn.GuardRejected),!1)),Kv(u=>{if(u.guards.canActivateChecks.length)return ee(u).pipe(Je(d=>{let p=new nw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),Kt(d=>{let p=!1;return ee(d).pipe(mj(this.paramsInheritanceStrategy,this.environmentInjector),Je({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",hn.NoDataFromResolver)}}))}),Je(d=>{let p=new rw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Kv(u=>{let d=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(Je(_=>{p.component=_}),de(()=>{})));for(let _ of p.children)g.push(...d(_));return g};return Qc(d(u.targetSnapshot.root)).pipe(Oi(null),Nr(1))}),Kv(()=>this.afterPreactivation()),Kt(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?Ve(p).pipe(de(()=>s)):ee(s)}),de(u=>{let d=xU(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=ve(B({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),Je(()=>{this.events.next(new Pu)}),kU(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Nr(1),Je({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $n(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Am(this.transitionAbortSubject.pipe(Je(u=>{throw u}))),Ls(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",hn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ki(u=>{if(a=!0,nS(u))this.events.next(new Wr(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),PU(u)?this.events.next(new Pa(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new Nu(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let p=_n(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof Ou){let{message:g,cancellationCode:_}=Hf(this.urlSerializer,p);this.events.next(new Wr(s.id,this.urlSerializer.serialize(s.extractedUrl),g,_)),this.events.next(new Pa(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let g=n.errorHandler(u);s.resolve(!!g)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return on}))}))}cancelNavigationTransition(n,r,i){let s=new Wr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Sj(t){return t!==Ru}var Rj=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>F(xj),providedIn:"root"})}}return t})(),_w=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},xj=(()=>{class t extends _w{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ks(t)))(i||t)}})()}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>F(Mj),providedIn:"root"})}}return t})(),Mj=(()=>{class t extends hS{constructor(){super(...arguments),this.location=F(Da),this.urlSerializer=F(ju),this.options=F(qu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(Cw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Kr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ZA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Na)this.stateMemento=this.createStateMemento();else if(n instanceof Zi)this.rawUrlTree=r.initialUrl;else if(n instanceof Lf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Pu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Wr&&(n.code===hn.GuardRejected||n.code===hn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Nu?this.restoreHistory(r,!0):n instanceof $n&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Kr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=B(B({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ks(t)))(i||t)}})()}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Au=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Au||{});function fS(t,e){t.events.pipe(Wt(n=>n instanceof $n||n instanceof Wr||n instanceof Nu||n instanceof Zi),de(n=>n instanceof $n||n instanceof Zi?Au.COMPLETE:(n instanceof Wr?n.code===hn.Redirect||n.code===hn.SupersededByNewNavigation:!1)?Au.REDIRECTING:Au.FAILED),Wt(n=>n!==Au.REDIRECTING),Nr(1)).subscribe(()=>{e()})}function Nj(t){throw t}var Pj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Jt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(pf),this.stateManager=F(hS),this.options=F(qu,{optional:!0})||{},this.pendingTasks=F(zi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(Tw),this.urlSerializer=F(ju),this.location=F(Da),this.urlHandlingStrategy=F(Cw),this._events=new vt,this.errorHandler=this.options.errorHandler||Nj,this.navigated=!1,this.routeReuseStrategy=F(Rj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(Vu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(Gf,{optional:!0}),this.eventsSubscription=new Ge,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Wr&&r.code!==hn.Redirect&&r.code!==hn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $n)this.navigated=!0;else if(r instanceof Pa){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Sj(i.source)},o);this.scheduleNavigation(a,Ru,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Fj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ru,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=B({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(bw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=WA(_)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),g=this.currentUrlTree.root}return KA(g,n,p,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=so(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ru,null,r)}navigate(n,r={skipLocationChange:!1}){return Oj(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=B({},Pj):r===!1?i=B({},kj):i=r,so(n))return AA(this.currentUrlTree,n,i);let s=this.parseUrl(n);return AA(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,d;o?(a=o.resolve,u=o.reject,d=o.promise):d=new Promise((g,_)=>{a=g,u=_});let p=this.pendingTasks.add();return fS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Oj(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Y(4008,!1)}function Fj(t){return!(t instanceof Pu)&&!(t instanceof Pa)}var Xi=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new vt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(d=>{d instanceof $n&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(so(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:SC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:so(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(ce(Jt),ce(Ji),Jy("tabindex"),ce(Gi),ce(In),ce(zr))}}static{this.\u0275dir=wt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&St("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&gu("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",to],skipLocationChange:[2,"skipLocationChange","skipLocationChange",to],replaceUrl:[2,"replaceUrl","replaceUrl",to],routerLink:"routerLink"},standalone:!0,features:[Iv,cr]})}}return t})(),pS=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,s,o){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Be,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof $n&&this.update()})}ngAfterContentInit(){ee(this.links.changes,ee(null)).pipe(Pi()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ve(n).pipe(Pi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=Lj(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?n.isActive(s,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(r){return new(r||t)(ce(Jt),ce(In),ce(Gi),ce(eo),ce(Xi,8))}}static{this.\u0275dir=wt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&TT(s,Xi,5),r&2){let o;AT(o=ST())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[cr]})}}return t})();function Lj(t){return!!t.paths}var zf=class{};var Vj=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Wt(n=>n instanceof $n),Mr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=df(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ve(i).pipe(Pi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=ee(null);let s=i.pipe(rt(o=>o===null?ee(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ve([s,o]).pipe(Pi())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(Z(Jt),Z(yf),Z(jt),Z(zf),Z(Dw))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),gS=new q(""),Uj=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Na?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof $n?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Zi&&n.code===Ff.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Vf&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vf(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){HC()}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})();function mS(t,...e){return Pt([{provide:Vu,multi:!0,useValue:t},[],{provide:Ji,useFactory:yS,deps:[Jt]},{provide:Xs,multi:!0,useFactory:vS},e.map(n=>n.\u0275providers)])}function yS(t){return t.routerState.root}function zu(t,e){return{\u0275kind:t,\u0275providers:e}}function vS(){let t=F(it);return e=>{let n=t.get(lr);if(e!==n.components[0])return;let r=t.get(Jt),i=t.get(wS);t.get(Aw)===1&&r.initialNavigation(),t.get(_S,null,me.Optional)?.setUpPreloading(),t.get(gS,null,me.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wS=new q("",{factory:()=>new vt}),Aw=new q("",{providedIn:"root",factory:()=>1});function jj(){return zu(2,[{provide:Aw,useValue:0},{provide:gf,multi:!0,deps:[it],useFactory:e=>{let n=e.get(WT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Jt),s=e.get(wS);fS(i,()=>{r(!0)}),e.get(Tw).afterPreactivation=()=>(r(!0),s.closed?ee(void 0):s),i.initialNavigation()}))}}])}function Bj(){return zu(3,[{provide:gf,multi:!0,useFactory:()=>{let e=F(Jt);return()=>{e.setUpLocationChangeListener()}}},{provide:Aw,useValue:2}])}var _S=new q("");function $j(t){return zu(0,[{provide:_S,useExisting:Vj},{provide:zf,useExisting:t}])}function Hj(){return zu(8,[MA,{provide:Gf,useExisting:MA}])}function qj(t){let e=[{provide:lS,useValue:Cj},{provide:dS,useValue:B({skipNextTransition:!!t?.skipInitialTransition},t)}];return zu(9,e)}var OA=new q("ROUTER_FORROOT_GUARD"),zj=[Da,{provide:ju,useClass:Ma},Jt,$u,{provide:Ji,useFactory:yS,deps:[Jt]},Dw,[]],Fa=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[zj,[],{provide:Vu,multi:!0,useValue:n},{provide:OA,useFactory:Qj,deps:[[Jt,new st,new aD]]},{provide:qu,useValue:r||{}},r?.useHash?Wj():Kj(),Gj(),r?.preloadingStrategy?$j(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Yj(r):[],r?.bindToComponentInputs?Hj().\u0275providers:[],r?.enableViewTransitions?qj().\u0275providers:[],Zj()]}}static forChild(n){return{ngModule:t,providers:[{provide:Vu,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(Z(OA,8))}}static{this.\u0275mod=Ur({type:t})}static{this.\u0275inj=Vr({})}}return t})();function Gj(){return{provide:gS,useFactory:()=>{let t=F(YT),e=F(Te),n=F(qu),r=F(Tw),i=F(ju);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Uj(i,r,t,e,n)}}}function Wj(){return{provide:zr,useClass:QT}}function Kj(){return{provide:zr,useClass:xv}}function Qj(t){return"guarded"}function Yj(t){return[t.initialNavigation==="disabled"?Bj().\u0275providers:[],t.initialNavigation==="enabledBlocking"?jj().\u0275providers:[]]}var FA=new q("");function Zj(){return[{provide:FA,useFactory:vS},{provide:Xs,multi:!0,useExisting:FA}]}var Kf=class t{titulo="BIENVENIDO A LA CLINICA ONLINE";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=wn({type:t,selectors:[["app-home"]],standalone:!0,features:[En],decls:6,vars:1,consts:[[1,"home-container"],[1,"header"]],template:function(n,r){n&1&&(X(0,"div",0)(1,"header",1)(2,"h1"),ue(3),te(),X(4,"p"),ue(5,"test test test test"),te()()()),n&2&&(Ke(3),mu(r.titulo))},dependencies:[Gr,Fa],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#7e98f4,#ebb3b3);overflow:hidden}.home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;font-family:Arial,sans-serif;height:100%;width:100%;background-size:cover;background-position:center;background-repeat:no-repeat}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;background:linear-gradient(135deg,#232223,#583763);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#f7e8e8}"]})};var Yf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=wn({type:t,selectors:[["app-page-not-found"]],standalone:!0,features:[En],decls:9,vars:0,consts:[[1,"page-not-found-container"],["routerLink","/home",1,"back-home-button"]],template:function(n,r){n&1&&(X(0,"div",0)(1,"h1"),ue(2,"404"),te(),X(3,"h2"),ue(4,"P\xE1gina no encontrada"),te(),X(5,"p"),ue(6,"Lo sentimos, la p\xE1gina que buscas no existe."),te(),X(7,"button",1),ue(8,"Volver al inicio "),te()())},styles:[".page-not-found-container[_ngcontent-%COMP%]{display:flex;font-family:system-ui;flex-direction:column;align-items:center;justify-content:center;height:100vh;text-align:center;color:#333;background-color:#f8f9fa}h1[_ngcontent-%COMP%]{font-size:6rem;margin:0;color:#ff4757}h2[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}p[_ngcontent-%COMP%]{font-size:1.2rem;margin:10px 0 20px}.back-home-button[_ngcontent-%COMP%]{font-size:1rem;font:system-ui;color:#fff;background-color:#007bff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;transition:background-color .3s,transform .2s;outline:none}.back-home-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}.back-home-button[_ngcontent-%COMP%]:active{background-color:#004494;transform:translateY(0)}"]})};var xS=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(ce(Gi),ce(In))}}static{this.\u0275dir=wt({type:t})}}return t})(),MS=(()=>{class t extends xS{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ks(t)))(i||t)}})()}static{this.\u0275dir=wt({type:t,features:[ur]})}}return t})(),Pw=new q("");var Jj={provide:Pw,useExisting:$i(()=>Ba),multi:!0};function Xj(){let t=qr()?qr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var eB=new q(""),Ba=(()=>{class t extends xS{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Xj())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(ce(Gi),ce(In),ce(eB,8))}}static{this.\u0275dir=wt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&St("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ea([Jj]),ur]})}}return t})();function ts(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function NS(t){return t!=null&&typeof t.length=="number"}var kw=new q(""),PS=new q(""),tB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ft=class{static min(e){return nB(e)}static max(e){return rB(e)}static required(e){return kS(e)}static requiredTrue(e){return iB(e)}static email(e){return sB(e)}static minLength(e){return oB(e)}static maxLength(e){return aB(e)}static pattern(e){return cB(e)}static nullValidator(e){return Xf(e)}static compose(e){return jS(e)}static composeAsync(e){return $S(e)}};function nB(t){return e=>{if(ts(e.value)||ts(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function rB(t){return e=>{if(ts(e.value)||ts(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function kS(t){return ts(t.value)?{required:!0}:null}function iB(t){return t.value===!0?null:{required:!0}}function sB(t){return ts(t.value)||tB.test(t.value)?null:{email:!0}}function oB(t){return e=>ts(e.value)||!NS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function aB(t){return e=>NS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function cB(t){if(!t)return Xf;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ts(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Xf(t){return null}function OS(t){return t!=null}function FS(t){return Js(t)?Ve(t):t}function LS(t){let e={};return t.forEach(n=>{e=n!=null?B(B({},e),n):e}),Object.keys(e).length===0?null:e}function VS(t,e){return e.map(n=>n(t))}function uB(t){return!t.validate}function US(t){return t.map(e=>uB(e)?e:n=>e.validate(n))}function jS(t){if(!t)return null;let e=t.filter(OS);return e.length==0?null:function(n){return LS(VS(n,e))}}function BS(t){return t!=null?jS(US(t)):null}function $S(t){if(!t)return null;let e=t.filter(OS);return e.length==0?null:function(n){let r=VS(n,e).map(FS);return Em(r).pipe(de(LS))}}function HS(t){return t!=null?$S(US(t)):null}function ES(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function qS(t){return t._rawValidators}function zS(t){return t._rawAsyncValidators}function Sw(t){return t?Array.isArray(t)?t:[t]:[]}function ep(t,e){return Array.isArray(t)?t.includes(e):t===e}function bS(t,e){let n=Sw(e);return Sw(t).forEach(i=>{ep(n,i)||n.push(i)}),n}function DS(t,e){return Sw(e).filter(n=>!ep(t,n))}var tp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=HS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ua=class extends tp{get formDirective(){return null}get path(){return null}},Yu=class extends tp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},np=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},lB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},kQ=ve(B({},lB),{"[class.ng-submitted]":"isSubmitted"}),ap=(()=>{class t extends np{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(ce(Yu,2))}}static{this.\u0275dir=wt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Zs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ur]})}}return t})(),cp=(()=>{class t extends np{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(ce(Ua,10))}}static{this.\u0275dir=wt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Zs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ur]})}}return t})();var Gu="VALID",Zf="INVALID",La="PENDING",Wu="DISABLED",ns=class{},rp=class extends ns{constructor(e,n){super(),this.value=e,this.source=n}},Ku=class extends ns{constructor(e,n){super(),this.pristine=e,this.source=n}},Qu=class extends ns{constructor(e,n){super(),this.touched=e,this.source=n}},Va=class extends ns{constructor(e,n){super(),this.status=e,this.source=n}},Rw=class extends ns{constructor(e){super(),this.source=e}},xw=class extends ns{constructor(e){super(),this.source=e}};function Ow(t){return(up(t)?t.validators:t)||null}function dB(t){return Array.isArray(t)?BS(t):t||null}function Fw(t,e){return(up(e)?e.asyncValidators:t)||null}function hB(t){return Array.isArray(t)?HS(t):t||null}function up(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function GS(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Y(1e3,"");if(!r[n])throw new Y(1001,"")}function WS(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Y(1002,"")})}var ja=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=yu(()=>this.statusReactive()),this.statusReactive=fu(void 0),this._pristine=yu(()=>this.pristineReactive()),this.pristineReactive=fu(!0),this._touched=yu(()=>this.touchedReactive()),this.touchedReactive=fu(!1),this._events=new vt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return $r(this.statusReactive)}set status(e){$r(()=>this.statusReactive.set(e))}get valid(){return this.status===Gu}get invalid(){return this.status===Zf}get pending(){return this.status==La}get disabled(){return this.status===Wu}get enabled(){return this.status!==Wu}get pristine(){return $r(this.pristineReactive)}set pristine(e){$r(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return $r(this.touchedReactive)}set touched(e){$r(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(DS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(DS(e,this._rawAsyncValidators))}hasValidator(e){return ep(this._rawValidators,e)}hasAsyncValidator(e){return ep(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ve(B({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Qu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Qu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ve(B({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ku(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ku(!0,r))}markAsPending(e={}){this.status=La;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Va(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ve(B({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Wu,this.errors=null,this._forEachChild(i=>{i.disable(ve(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rp(this.value,r)),this._events.next(new Va(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(B({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Gu,this._forEachChild(r=>{r.enable(ve(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ve(B({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gu||this.status===La)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rp(this.value,n)),this._events.next(new Va(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ve(B({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wu:Gu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=La,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=FS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Va(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?Wu:this.errors?Zf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(La)?La:this._anyControlsHaveStatus(Zf)?Zf:Gu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ku(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Qu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){up(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=dB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=hB(this._rawAsyncValidators)}},ip=class extends ja{constructor(e,n,r){super(Ow(n),Fw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){WS(this,!0,e),Object.keys(e).forEach(r=>{GS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Mw=class extends ip{};var KS=new q("CallSetDisabledState",{providedIn:"root",factory:()=>Lw}),Lw="always";function fB(t,e){return[...e.path,t]}function CS(t,e,n=Lw){Vw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),gB(t,e),yB(t,e),mB(t,e),pB(t,e)}function TS(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),op(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function sp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function pB(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Vw(t,e){let n=qS(t);e.validator!==null?t.setValidators(ES(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=zS(t);e.asyncValidator!==null?t.setAsyncValidators(ES(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();sp(e._rawValidators,i),sp(e._rawAsyncValidators,i)}function op(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=qS(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=zS(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return sp(e._rawValidators,r),sp(e._rawAsyncValidators,r),n}function gB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&QS(t,e)})}function mB(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&QS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function QS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function yB(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function vB(t,e){t==null,Vw(t,e)}function wB(t,e){return op(t,e)}function _B(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function IB(t){return Object.getPrototypeOf(t.constructor)===MS}function EB(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function bB(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Ba?n=s:IB(s)?r=s:i=s}),i||r||n||null}function DB(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function SS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Jf=class extends ja{constructor(e=null,n,r){super(Ow(n),Fw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),up(n)&&(n.nonNullable||n.initialValueIsDefault)&&(SS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){SS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var CB=t=>t instanceof Jf;var lp=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=wt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),TB={provide:Pw,useExisting:$i(()=>Uw),multi:!0},Uw=(()=>{class t extends MS{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ks(t)))(i||t)}})()}static{this.\u0275dir=wt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&St("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ea([TB]),ur]})}}return t})();var YS=new q("");var AB={provide:Ua,useExisting:$i(()=>Zu)},Zu=(()=>{class t extends Ua{get submitted(){return $r(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=yu(()=>this._submittedReactive()),this._submittedReactive=fu(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Be,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(op(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return CS(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){TS(n.control||null,n,!1),DB(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),EB(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Rw(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new xw(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(TS(r||null,n),CB(i)&&(CS(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);vB(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&wB(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vw(this.form,this),this._oldForm&&op(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(ce(kw,10),ce(PS,10),ce(KS,8))}}static{this.\u0275dir=wt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&St("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ea([AB]),ur,cr]})}}return t})();var SB={provide:Yu,useExisting:$i(()=>Ju)},Ju=(()=>{class t extends Yu{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Be,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bB(this,s)}ngOnChanges(n){this._added||this._setUpControl(),_B(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return fB(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(ce(Ua,13),ce(kw,10),ce(PS,10),ce(Pw,10),ce(YS,8))}}static{this.\u0275dir=wt({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ea([SB]),ur,cr]})}}return t})();var RB=(()=>{class t{constructor(){this._validator=Xf}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Xf,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=wt({type:t,features:[cr]})}}return t})();var xB={provide:kw,useExisting:$i(()=>Xu),multi:!0};var Xu=(()=>{class t extends RB{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=to,this.createValidator=n=>kS}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ks(t)))(i||t)}})()}static{this.\u0275dir=wt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&gu("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ea([xB]),ur]})}}return t})();var MB=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ur({type:t})}static{this.\u0275inj=Vr({})}}return t})(),Nw=class extends ja{constructor(e,n,r){super(Ow(n),Fw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){WS(this,!1,e),e.forEach((r,i)=>{GS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function RS(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var dp=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),s={};return RS(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new ip(i,s)}record(n,r=null){let i=this._reduceControls(n);return new Mw(i,r)}control(n,r,i){let s={};return this.useNonNullable?(RS(r)?s=r:(s.validators=r,s.asyncValidators=i),new Jf(n,ve(B({},s),{nonNullable:!0}))):new Jf(n,r,i)}array(n,r,i){let s=n.map(o=>this._createControl(o));return new Nw(s,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Jf)return n;if(n instanceof ja)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,i,s)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var hp=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:YS,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:KS,useValue:n.callSetDisabledState??Lw}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ur({type:t})}static{this.\u0275inj=Vr({imports:[MB]})}}return t})();var XS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},eR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,g=(s&3)<<4|a>>4,_=(a&15)<<2|d>>6,I=d&63;u||(I=64,o||(_=64)),r.push(n[p],n[g],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||d==null||g==null)throw new Bw;let _=s<<2|a>>4;if(r.push(_),d!==64){let I=a<<4&240|d>>2;if(r.push(I),g!==64){let M=d<<6&192|g;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Bw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},PB=function(t){let e=XS(t);return eR.encodeByteArray(e,!0)},el=function(t){return PB(t).replace(/\./g,"")},Hw=function(t){try{return eR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var OB=()=>kB().__FIREBASE_DEFAULTS__,FB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Hw(t[1]);return e&&JSON.parse(e)},pp=()=>{try{return OB()||FB()||LB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qw=t=>{var e,n;return(n=(e=pp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gp=t=>{let e=qw(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zw=()=>{var t;return(t=pp())===null||t===void 0?void 0:t.config},Gw=t=>{var e;return(e=pp())===null||e===void 0?void 0:e[`_${t}`]};var fp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function mp(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[el(JSON.stringify(n)),el(JSON.stringify(o)),""].join(".")}function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function VB(){var t;let e=(t=pp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sR(){let t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oR(){return!VB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ww(){try{return typeof indexedDB=="object"}catch{return!1}}function aR(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var UB="FirebaseError",$t=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qr.prototype.create)}},Qr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?jB(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new $t(i,a,r)}};function jB(t,e){return t.replace(BB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var BB=/\{\$([^}]+)}/g;function cR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(JS(s)&&JS(o)){if(!oo(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function JS(t){return t!==null&&typeof t=="object"}function tl(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $a(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ha(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uR(t,e){let n=new $w(t,e);return n.subscribe.bind(n)}var $w=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$B(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=jw),i.error===void 0&&(i.error=jw),i.complete===void 0&&(i.complete=jw);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function $B(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jw(){}var LQ=4*60*60*1e3;function Rt(t){return t&&t._delegate?t._delegate:t}var Xt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ao="[DEFAULT]";var Kw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new fp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qB(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HB(t){return t===ao?void 0:t}function qB(t){return t.instantiationMode==="EAGER"}var yp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Kw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var zB=[],Ee=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ee||{}),GB={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},WB=Ee.INFO,KB={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},QB=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=KB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},rs=class{constructor(e){this.name=e,this._logLevel=WB,this._logHandler=QB,this._userLogHandler=null,zB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}};var YB=(t,e)=>e.some(n=>t instanceof n),lR,dR;function ZB(){return lR||(lR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JB(){return dR||(dR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var hR=new WeakMap,Yw=new WeakMap,fR=new WeakMap,Qw=new WeakMap,Jw=new WeakMap;function XB(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hR.set(n,t)}).catch(()=>{}),Jw.set(e,t),e}function e$(t){if(Yw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Yw.set(t,e)}var Zw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pR(t){Zw=t(Zw)}function t$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(vp(this),e,...n);return fR.set(r,e.sort?e.sort():[e]),fr(r)}:JB().includes(t)?function(...e){return t.apply(vp(this),e),fr(hR.get(this))}:function(...e){return fr(t.apply(vp(this),e))}}function n$(t){return typeof t=="function"?t$(t):(t instanceof IDBTransaction&&e$(t),YB(t,ZB())?new Proxy(t,Zw):t)}function fr(t){if(t instanceof IDBRequest)return XB(t);if(Qw.has(t))return Qw.get(t);let e=n$(t);return e!==t&&(Qw.set(t,e),Jw.set(e,t)),e}var vp=t=>Jw.get(t);function mR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=fr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(fr(o.result),u.oldVersion,u.newVersion,fr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var r$=["get","getKey","getAll","getAllKeys","count"],i$=["put","add","delete","clear"],Xw=new Map;function gR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xw.get(e))return Xw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=i$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||r$.includes(n)))return;let s=function(o,...a){return C(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&u.done]))[0]})};return Xw.set(e,s),s}pR(t=>ve(B({},t),{get:(e,n,r)=>gR(e,n)||t.get(e,n,r),has:(e,n)=>!!gR(e,n)||t.has(e,n)}));var t_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s$(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function s$(t){let e=t.getComponent();return e?.type==="VERSION"}var n_="@firebase/app",yR="0.10.13";var Yr=new rs("@firebase/app"),o$="@firebase/app-compat",a$="@firebase/analytics-compat",c$="@firebase/analytics",u$="@firebase/app-check-compat",l$="@firebase/app-check",d$="@firebase/auth",h$="@firebase/auth-compat",f$="@firebase/database",p$="@firebase/data-connect",g$="@firebase/database-compat",m$="@firebase/functions",y$="@firebase/functions-compat",v$="@firebase/installations",w$="@firebase/installations-compat",_$="@firebase/messaging",I$="@firebase/messaging-compat",E$="@firebase/performance",b$="@firebase/performance-compat",D$="@firebase/remote-config",C$="@firebase/remote-config-compat",T$="@firebase/storage",A$="@firebase/storage-compat",S$="@firebase/firestore",R$="@firebase/vertexai-preview",x$="@firebase/firestore-compat",M$="firebase",N$="10.14.1";var r_="[DEFAULT]",P$={[n_]:"fire-core",[o$]:"fire-core-compat",[c$]:"fire-analytics",[a$]:"fire-analytics-compat",[l$]:"fire-app-check",[u$]:"fire-app-check-compat",[d$]:"fire-auth",[h$]:"fire-auth-compat",[f$]:"fire-rtdb",[p$]:"fire-data-connect",[g$]:"fire-rtdb-compat",[m$]:"fire-fn",[y$]:"fire-fn-compat",[v$]:"fire-iid",[w$]:"fire-iid-compat",[_$]:"fire-fcm",[I$]:"fire-fcm-compat",[E$]:"fire-perf",[b$]:"fire-perf-compat",[D$]:"fire-rc",[C$]:"fire-rc-compat",[T$]:"fire-gcs",[A$]:"fire-gcs-compat",[S$]:"fire-fst",[x$]:"fire-fst-compat",[R$]:"fire-vertex","fire-js":"fire-js",[M$]:"fire-js-all"};var nl=new Map,k$=new Map,i_=new Map;function vR(t,e){try{t.container.addComponent(e)}catch(n){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pr(t){let e=t.name;if(i_.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;i_.set(e,t);for(let n of nl.values())vR(n,t);for(let n of k$.values())vR(n,t);return!0}function co(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t.settings!==void 0}var O$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new Qr("app","Firebase",O$);var s_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}};var gr=N$;function c_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:r_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw is.create("bad-app-name",{appName:String(i)});if(n||(n=zw()),!n)throw is.create("no-options");let s=nl.get(i);if(s){if(oo(n,s.options)&&oo(r,s.config))return s;throw is.create("duplicate-app",{appName:i})}let o=new yp(i);for(let u of i_.values())o.addComponent(u);let a=new s_(n,r,o);return nl.set(i,a),a}function ss(t=r_){let e=nl.get(t);if(!e&&t===r_&&zw())return c_();if(!e)throw is.create("no-app",{appName:t});return e}function wp(){return Array.from(nl.values())}function $e(t,e,n){var r;let i=(r=P$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(a.join(" "));return}pr(new Xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var F$="firebase-heartbeat-database",L$=1,rl="firebase-heartbeat-store",e_=null;function ER(){return e_||(e_=mR(F$,L$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rl)}catch(n){console.warn(n)}}}}).catch(t=>{throw is.create("idb-open",{originalErrorMessage:t.message})})),e_}function V$(t){return C(this,null,function*(){try{let n=(yield ER()).transaction(rl),r=yield n.objectStore(rl).get(bR(t));return yield n.done,r}catch(e){if(e instanceof $t)Yr.warn(e.message);else{let n=is.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(n.message)}}})}function wR(t,e){return C(this,null,function*(){try{let r=(yield ER()).transaction(rl,"readwrite");yield r.objectStore(rl).put(e,bR(t)),yield r.done}catch(n){if(n instanceof $t)Yr.warn(n.message);else{let r=is.create("idb-set",{originalErrorMessage:n?.message});Yr.warn(r.message)}}})}function bR(t){return`${t.name}!${t.options.appId}`}var U$=1024,j$=30*24*60*60*1e3,o_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new a_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_R();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=j$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yr.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=_R(),{heartbeatsToSend:r,unsentEntries:i}=B$(this._heartbeatsCache.heartbeats),s=el(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yr.warn(n),""}})}};function _R(){return new Date().toISOString().substring(0,10)}function B$(t,e=U$){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),IR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var a_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Ww()?aR().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield V$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function IR(t){return el(JSON.stringify({version:2,heartbeats:t})).length}function $$(t){pr(new Xt("platform-logger",e=>new t_(e),"PRIVATE")),pr(new Xt("heartbeat",e=>new o_(e),"PRIVATE")),$e(n_,yR,t),$e(n_,yR,"esm2017"),$e("fire-js","")}$$("");var H$="firebase",q$="10.14.1";$e(H$,q$,"app");var Zr=new Lr("ANGULARFIRE2_VERSION");function za(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var lo=(t,e)=>{let n=e?[e]:wp(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},os=class{constructor(){return lo(z$)}},z$="app-check";function qa(){}var _p=class{zone;delegate;constructor(e,n=wm){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},u_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qa,{},qa,qa)),n.pipe(Je({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},as=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _p(Zone.current)),this.insideAngular=n.run(()=>new _p(Zone.current,vm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Z(Te))};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ip(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function G$(t){return Ip().ngZone.runOutsideAngular(()=>t())}function uo(t){return Ip().ngZone.run(()=>t())}function W$(t){return K$(Ip())(t)}function K$(t){return function(n){return n=n.lift(new u_(t.ngZone)),n.pipe(Ni(t.outsideAngular),Mi(t.insideAngular))}}var Q$=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),uo(()=>t.apply(void 0,r))},Ht=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=uo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qa,{},qa,qa))),r[s]=Q$(r[s],n));let i=G$(()=>t.apply(this,r));if(!e)if(i instanceof we){let s=Ip();return i.pipe(Ni(s.outsideAngular),Mi(s.insideAngular))}else return uo(()=>i);return i instanceof we?i.pipe(W$):i instanceof Promise?uo(()=>new Promise((s,o)=>i.then(a=>uo(()=>s(a)),a=>uo(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:uo(()=>i)};var qn=class{constructor(e){return e}},Jr=class{constructor(){return wp()}};function Y$(t){return t&&t.length===1?t[0]:new qn(ss())}var l_=new q("angularfire2._apps"),Z$={provide:qn,useFactory:Y$,deps:[[new st,l_]]},J$={provide:Jr,deps:[[new st,l_]]};function X$(t){return(e,n)=>{let r=n.get(Zt);$e("angularfire",Zr.full,"core"),$e("angularfire",Zr.full,"app"),$e("angular",NT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new qn(i)}}function DR(t,...e){return Pt([Z$,J$,{provide:l_,useFactory:X$(t),multi:!0,deps:[Te,it,as,...e]}])}var CR=Ht(c_,!0);function $R(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var HR=$R,qR=new Qr("auth","Firebase",$R());var Ap=new rs("@firebase/auth");function eH(t,...e){Ap.logLevel<=Ee.WARN&&Ap.warn(`Auth (${gr}): ${t}`,...e)}function bp(t,...e){Ap.logLevel<=Ee.ERROR&&Ap.error(`Auth (${gr}): ${t}`,...e)}function yr(t,...e){throw P_(t,...e)}function ho(t,...e){return P_(t,...e)}function zR(t,e,n){let r=Object.assign(Object.assign({},HR()),{[e]:n});return new Qr("auth","Firebase",r).create(e,{appName:t.name})}function ti(t){return zR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qR.create(t,...e)}function re(t,e,...n){if(!t)throw P_(e,...n)}function Xr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw bp(e),new Error(e)}function us(t,e){t||Xr(e)}function p_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tH(){return TR()==="http:"||TR()==="https:"}function TR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function nH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tH()||rR()||"connection"in navigator)?navigator.onLine:!0}function rH(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var fo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,us(n>e,"Short delay should be less than long delay!"),this.isMobile=tR()||iR()}get(){return nH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function k_(t,e){us(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Sp=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var iH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var sH=new fo(3e4,6e4);function ls(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ds(s,o,a,u){return C(this,arguments,function*(t,e,n,r,i={}){return GR(t,i,()=>C(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let g=tl(Object.assign({key:t.config.apiKey},p)).slice(1),_=yield t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:_},d);return nR()||(I.referrerPolicy="no-referrer"),Sp.fetch()(WR(t,t.config.apiHost,n,g),I)}))})}function GR(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},iH),e);try{let i=new g_(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ep(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ep(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ep(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ep(t,"user-disabled",o);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw zR(t,p,d);yr(t,p)}}catch(i){if(i instanceof $t)throw i;yr(t,"network-request-failed",{message:String(i)})}})}function dl(s,o,a,u){return C(this,arguments,function*(t,e,n,r,i={}){let d=yield ds(t,e,n,r,i);return"mfaPendingCredential"in d&&yr(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function WR(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?k_(t.config,i):`${t.config.apiScheme}://${i}`}function oH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var g_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ho(this.auth,"network-request-failed")),sH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ep(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ho(t,e,r);return i.customData._tokenResponse=n,i}function AR(t){return t!==void 0&&t.enterprise!==void 0}var m_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function aH(t,e){return C(this,null,function*(){return ds(t,"GET","/v2/recaptchaConfig",ls(t,e))})}function cH(t,e){return C(this,null,function*(){return ds(t,"POST","/v1/accounts:delete",e)})}function KR(t,e){return C(this,null,function*(){return ds(t,"POST","/v1/accounts:lookup",e)})}function il(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function O_(t,e=!1){return C(this,null,function*(){let n=Rt(t),r=yield n.getIdToken(e),i=F_(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:il(d_(i.auth_time)),issuedAtTime:il(d_(i.iat)),expirationTime:il(d_(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function d_(t){return Number(t)*1e3}function F_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bp("JWT malformed, contained fewer than 3 sections"),null;try{let i=Hw(n);return i?JSON.parse(i):(bp("Failed to decode base64 JWT payload"),null)}catch(i){return bp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function SR(t){let e=F_(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ol(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof $t&&uH(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function uH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var y_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var al=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rp(t){return C(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ol(t,KR(n,{idToken:r}));re(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?QR(s.providerUserInfo):[],a=lH(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!a?.length,p=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new al(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)})}function L_(t){return C(this,null,function*(){let e=Rt(t);yield Rp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function lH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function QR(t){return t.map(e=>{var{providerId:n}=e,r=_m(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function dH(t,e){return C(this,null,function*(){let n=yield GR(t,{},()=>C(this,null,function*(){let r=tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=WR(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Sp.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function hH(t,e){return C(this,null,function*(){return ds(t,"POST","/v2/accounts:revokeToken",ls(t,e))})}var sl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");let n=SR(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return C(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield dH(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Xr("not implemented")}};function cs(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ga=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_m(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new y_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new al(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield ol(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return O_(this,e)}reload(){return L_(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Rp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(Hn(this.auth.app))return Promise.reject(ti(this.auth));let e=yield this.getIdToken();return yield ol(this,cH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,d,p;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,M=(o=n.photoURL)!==null&&o!==void 0?o:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(d=n.createdAt)!==null&&d!==void 0?d:void 0,z=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:$,emailVerified:G,isAnonymous:le,providerData:Q,stsTokenManager:T}=n;re($&&T,e,"internal-error");let E=sl.fromJSON(this.name,T);re(typeof $=="string",e,"internal-error"),cs(g,e.name),cs(_,e.name),re(typeof G=="boolean",e,"internal-error"),re(typeof le=="boolean",e,"internal-error"),cs(I,e.name),cs(M,e.name),cs(O,e.name),cs(N,e.name),cs(V,e.name),cs(z,e.name);let b=new t({uid:$,auth:e,email:_,emailVerified:G,displayName:g,isAnonymous:le,photoURL:M,phoneNumber:I,tenantId:O,stsTokenManager:E,createdAt:V,lastLoginAt:z});return Q&&Array.isArray(Q)&&(b.providerData=Q.map(A=>Object.assign({},A))),N&&(b._redirectEventId=N),b}static _fromIdTokenResponse(e,n,r=!1){return C(this,null,function*(){let i=new sl;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rp(s),s})}static _fromGetAccountInfoResponse(e,n,r){return C(this,null,function*(){let i=n.users[0];re(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?QR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new sl;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new al(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var RR=new Map;function ei(t){us(t instanceof Function,"Expected a class definition");let e=RR.get(t);return e?(us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RR.set(t,e),e)}var fH=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,r){return C(this,null,function*(){this.storage[n]=r})}_get(n){return C(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),v_=fH;function Dp(t,e,n){return`firebase:${t}:${e}:${n}`}var xp=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Dp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ga._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(this,null,function*(){if(!n.length)return new t(ei(v_),e,r);let i=(yield Promise.all(n.map(d=>C(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||ei(v_),o=Dp(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(o);if(p){let g=Ga._fromJSON(e,p);d!==s&&(a=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(d=>C(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new t(s,e,r))})}};function xR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tx(e))return"Blackberry";if(nx(e))return"Webos";if(ZR(e))return"Safari";if((e.includes("chrome/")||JR(e))&&!e.includes("edge/"))return"Chrome";if(ex(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function YR(t=Et()){return/firefox\//i.test(t)}function ZR(t=Et()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JR(t=Et()){return/crios\//i.test(t)}function XR(t=Et()){return/iemobile/i.test(t)}function ex(t=Et()){return/android/i.test(t)}function tx(t=Et()){return/blackberry/i.test(t)}function nx(t=Et()){return/webos/i.test(t)}function V_(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pH(t=Et()){var e;return V_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gH(){return sR()&&document.documentMode===10}function rx(t=Et()){return V_(t)||ex(t)||nx(t)||tx(t)||/windows phone/i.test(t)||XR(t)}function ix(t,e=[]){let n;switch(t){case"Browser":n=xR(Et());break;case"Worker":n=`${xR(Et())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gr}/${r}`}var w_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function mH(n){return C(this,arguments,function*(t,e={}){return ds(t,"GET","/v2/passwordPolicy",ls(t,e))})}var yH=6,__=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yH,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var I_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mp(this),this.idTokenSubscription=new Mp(this),this.beforeStateQueue=new w_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield xp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let n=yield KR(this,{idToken:e}),r=yield Ga._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;if(Hn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Rp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=rH()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(Hn(this.app))return Promise.reject(ti(this));let n=e?Rt(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return Hn(this.app)?Promise.reject(ti(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Hn(this.app)?Promise.reject(ti(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(ei(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield mH(this),n=new __(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield hH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ei(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=yield xp.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ix(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return C(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&eH(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function go(t){return Rt(t)}var Mp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=uR(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Vp={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vH(t){Vp=t}function sx(t){return Vp.loadJS(t)}function wH(){return Vp.recaptchaEnterpriseScript}function _H(){return Vp.gapiScript}function ox(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var IH="recaptcha-enterprise",EH="NO_RECAPTCHA",E_=class{constructor(e){this.type=IH,this.auth=go(e)}verify(e="verify",n=!1){return C(this,null,function*(){function r(s){return C(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>C(this,null,function*(){aH(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new m_(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;AR(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(EH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&AR(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=wH();u.length!==0&&(u+=a),sx(u).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})})}};function MR(t,e,n,r=!1){return C(this,null,function*(){let i=new E_(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function b_(t,e,n,r){return C(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield MR(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>C(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield MR(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function U_(t,e){let n=co(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(oo(s,e??{}))return i;yr(i,"already-initialized")}return n.initialize({options:e})}function bH(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ei);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function j_(t,e,n){let r=go(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=ax(e),{host:o,port:a}=DH(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||CH()}function ax(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DH(t){let e=ax(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:NR(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:NR(o)}}}function NR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function CH(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var cl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,n){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}};function TH(t,e){return C(this,null,function*(){return ds(t,"POST","/v1/accounts:signUp",e)})}function AH(t,e){return C(this,null,function*(){return dl(t,"POST","/v1/accounts:signInWithPassword",ls(t,e))})}function SH(t,e){return C(this,null,function*(){return dl(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))})}function RH(t,e){return C(this,null,function*(){return dl(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))})}var ul=class t extends cl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b_(e,n,"signInWithPassword",AH);case"emailLink":return SH(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}})}_linkToIdToken(e,n){return C(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b_(e,r,"signUpPassword",TH);case"emailLink":return RH(e,{idToken:n,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function h_(t,e){return C(this,null,function*(){return dl(t,"POST","/v1/accounts:signInWithIdp",ls(t,e))})}function xH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MH(t){let e=$a(Ha(t)).link,n=e?$a(Ha(e)).deep_link_id:null,r=$a(Ha(t)).deep_link_id;return(r?$a(Ha(r)).link:null)||r||n||e||t}var Np=class t{constructor(e){var n,r,i,s,o,a;let u=$a(Ha(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,g=xH((i=u.mode)!==null&&i!==void 0?i:null);re(d&&p&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=MH(e);try{return new t(n)}catch{return null}}};var cx=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ul._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Np.parseLink(r);return re(i,"argument-error"),ul._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Pp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var D_=class extends Pp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function NH(t,e){return C(this,null,function*(){return dl(t,"POST","/v1/accounts:signUp",ls(t,e))})}var Wa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return C(this,null,function*(){let s=yield Ga._fromIdTokenResponse(e,r,i),o=PR(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return C(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=PR(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function PR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var C_=class t extends $t{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function ux(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?C_._fromErrorAndOperation(t,s,e,r):s})}function PH(t,e,n=!1){return C(this,null,function*(){let r=yield ol(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Wa._forOperation(t,"link",r)})}function kH(t,e,n=!1){return C(this,null,function*(){let{auth:r}=t;if(Hn(r.app))return Promise.reject(ti(r));let i="reauthenticate";try{let s=yield ol(t,ux(r,i,e,t),n);re(s.idToken,r,"internal-error");let o=F_(s.idToken);re(o,r,"internal-error");let{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Wa._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&yr(r,"user-mismatch"),s}})}function lx(t,e,n=!1){return C(this,null,function*(){if(Hn(t.app))return Promise.reject(ti(t));let r="signIn",i=yield ux(t,r,e),s=yield Wa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function B_(t,e){return C(this,null,function*(){return lx(go(t),e)})}function dx(t){return C(this,null,function*(){let e=go(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function $_(t,e,n){return C(this,null,function*(){if(Hn(t.app))return Promise.reject(ti(t));let r=go(t),o=yield b_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NH).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&dx(t),u}),a=yield Wa._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function H_(t,e,n){return Hn(t.app)?Promise.reject(ti(t)):B_(Rt(t),cx.credential(e,n)).catch(r=>C(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&dx(t),r}))}function q_(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function z_(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function G_(t){return Rt(t).signOut()}var kp="__sak";var Op=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kp,"1"),this.storage.removeItem(kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var OH=1e3,FH=10,LH=(()=>{class t extends Op{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rx(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);gH()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,FH):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},OH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return C(this,null,function*(){yield Si(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return C(this,null,function*(){let r=yield Si(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return C(this,null,function*(){yield Si(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),hx=LH;var VH=(()=>{class t extends Op{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),W_=VH;function UH(t){return Promise.all(t.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var jH=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return C(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(p=>C(this,null,function*(){return p(r.origin,o)})),d=yield UH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function fx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var T_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return C(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let d=fx("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(_.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function mr(){return window}function BH(t){mr().location.href=t}function px(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}function $H(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function HH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qH(){return px()?self:null}var gx="firebaseLocalStorageDb",zH=1,Fp="firebaseLocalStorage",mx="fbase_key",po=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Up(t,e){return t.transaction([Fp],e?"readwrite":"readonly").objectStore(Fp)}function GH(){let t=indexedDB.deleteDatabase(gx);return new po(t).toPromise()}function A_(){let t=indexedDB.open(gx,zH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Fp,{keyPath:mx})}catch(i){n(i)}}),t.addEventListener("success",()=>C(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Fp)?e(r):(r.close(),yield GH(),e(yield A_()))}))})}function kR(t,e,n){return C(this,null,function*(){let r=Up(t,!0).put({[mx]:e,value:n});return new po(r).toPromise()})}function WH(t,e){return C(this,null,function*(){let n=Up(t,!1).get(e),r=yield new po(n).toPromise();return r===void 0?null:r.value})}function OR(t,e){let n=Up(t,!0).delete(e);return new po(n).toPromise()}var KH=800,QH=3,YH=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield A_(),this.db)})}_withRetries(n){return C(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>QH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return px()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=jH._getInstance(qH()),this.receiver._subscribe("keyChanged",(n,r)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var n,r;if(this.activeServiceWorker=yield $H(),!this.activeServiceWorker)return;this.sender=new T_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||HH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let n=yield A_();return yield kR(n,kp,"1"),yield OR(n,kp),!0}catch{}return!1})}_withPendingWrite(n){return C(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>kR(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return C(this,null,function*(){let r=yield this._withRetries(i=>WH(i,n));return this.localCache[n]=r,r})}_remove(n){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>OR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return C(this,null,function*(){let n=yield this._withRetries(s=>{let o=Up(s,!1).getAll();return new po(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),KH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),yx=YH;var xY=ox("rcb"),MY=new fo(3e4,6e4);function ZH(t,e){return e?ei(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ll=class extends cl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return h_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return h_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return h_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function JH(t){return lx(t.auth,new ll(t),t.bypassAuthState)}function XH(t){let{auth:e,user:n}=t;return re(n,e,"internal-error"),kH(n,new ll(t),t.bypassAuthState)}function eq(t){return C(this,null,function*(){let{auth:e,user:n}=t;return re(n,e,"internal-error"),PH(n,new ll(t),t.bypassAuthState)})}var S_=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JH;case"linkViaPopup":case"linkViaRedirect":return eq;case"reauthViaPopup":case"reauthViaRedirect":return XH;default:yr(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var NY=new fo(2e3,1e4);var tq="pendingRedirect",Cp=new Map,R_=class t extends S_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return C(this,null,function*(){let e=Cp.get(this.auth._key());if(!e){try{let r=(yield nq(this.resolver,this.auth))?yield Si(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cp.set(this.auth._key(),e)}return this.bypassAuthState||Cp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return Si(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Si(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function nq(t,e){return C(this,null,function*(){let n=sq(e),r=iq(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function rq(t,e){Cp.set(t._key(),e)}function iq(t){return ei(t._redirectPersistence)}function sq(t){return Dp(tq,t.config.apiKey,t.name)}function oq(t,e,n=!1){return C(this,null,function*(){if(Hn(t.app))return Promise.reject(ti(t));let r=go(t),i=ZH(r,e),o=yield new R_(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var aq=10*60*1e3,x_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vx(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ho(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aq&&this.cachedEventUids.clear(),this.cachedEventUids.has(FR(e))}saveEventToCache(e){this.cachedEventUids.add(FR(e)),this.lastProcessedEventTime=Date.now()}};function FR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function cq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vx(t);default:return!1}}function uq(n){return C(this,arguments,function*(t,e={}){return ds(t,"GET","/v1/projects",e)})}var lq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dq=/^https?/;function hq(t){return C(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield uq(t);for(let n of e)try{if(fq(n))return}catch{}yr(t,"unauthorized-domain")})}function fq(t){let e=p_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!dq.test(n))return!1;if(lq.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var pq=new fo(3e4,6e4);function LR(){let t=mr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gq(t){return new Promise((e,n)=>{var r,i,s;function o(){LR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LR(),n(ho(t,"network-request-failed"))},timeout:pq.get()})}if(!((i=(r=mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mr().gapi)===null||s===void 0)&&s.load)o();else{let a=ox("iframefcb");return mr()[a]=()=>{gapi.load?o():n(ho(t,"network-request-failed"))},sx(`${_H()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Tp=null,e})}var Tp=null;function mq(t){return Tp=Tp||gq(t),Tp}var yq=new fo(5e3,15e3),vq="__/auth/iframe",wq="emulator/auth/iframe",_q={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eq(t){let e=t.config;re(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?k_(e,wq):`https://${t.config.authDomain}/${vq}`,r={apiKey:e.apiKey,appName:t.name,v:gr},i=Iq.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tl(r).slice(1)}`}function bq(t){return C(this,null,function*(){let e=yield mq(t),n=mr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:Eq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_q,dontclear:!0},r=>new Promise((i,s)=>C(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ho(t,"network-request-failed"),a=mr().setTimeout(()=>{s(o)},yq.get());function u(){mr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Dq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cq=500,Tq=600,Aq="_blank",Sq="http://localhost",Lp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Rq(t,e,n,r=Cq,i=Tq){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Dq),{width:r.toString(),height:i.toString(),top:s,left:o}),d=Et().toLowerCase();n&&(a=JR(d)?Aq:n),YR(d)&&(e=e||Sq,u.scrollbars="yes");let p=Object.entries(u).reduce((_,[I,M])=>`${_}${I}=${M},`,"");if(pH(d)&&a!=="_self")return xq(e||"",a),new Lp(null);let g=window.open(e||"",a,p);re(g,t,"popup-blocked");try{g.focus()}catch{}return new Lp(g)}function xq(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Mq="__/auth/handler",Nq="emulator/auth/handler",Pq=encodeURIComponent("fac");function VR(t,e,n,r,i,s){return C(this,null,function*(){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gr,eventId:i};if(e instanceof Pp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,g]of Object.entries(s||{}))o[p]=g}if(e instanceof D_){let p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield t._getAppCheckToken(),d=u?`#${Pq}=${encodeURIComponent(u)}`:"";return`${kq(t)}?${tl(a).slice(1)}${d}`})}function kq({config:t}){return t.emulator?k_(t,Nq):`https://${t.authDomain}/${Mq}`}var f_="webStorageSupport",M_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W_,this._completeRedirectFn=oq,this._overrideRedirectResult=rq}_openPopup(e,n,r,i){return C(this,null,function*(){var s;us((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield VR(e,n,r,p_(),i);return Rq(e,o,fx())})}_openRedirect(e,n,r,i){return C(this,null,function*(){yield this._originValidation(e);let s=yield VR(e,n,r,p_(),i);return BH(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(us(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return C(this,null,function*(){let n=yield bq(e),r=new x_(e);return n.register("authEvent",i=>(re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(f_,{type:f_},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[f_];o!==void 0&&n(!!o),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rx()||ZR()||V_()}},wx=M_;var UR="@firebase/auth",jR="1.7.9";var N_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Oq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fq(t){pr(new Xt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ix(t)},d=new I_(r,i,s,u);return bH(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pr(new Xt("auth-internal",e=>{let n=go(e.getProvider("auth").getImmediate());return(r=>new N_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(UR,jR,Oq(t)),$e(UR,jR,"esm2017")}var Lq=5*60,Vq=Gw("authIdTokenMaxAge")||Lq,BR=null,Uq=t=>e=>C(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Vq)return;let i=n?.token;BR!==i&&(BR=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function K_(t=ss()){let e=co(t,"auth");if(e.isInitialized())return e.getImmediate();let n=U_(t,{popupRedirectResolver:wx,persistence:[yx,hx,W_]}),r=Gw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Uq(s.toString());z_(n,o,()=>o(n.currentUser)),q_(n,a=>o(a))}}let i=qw("auth");return i&&j_(n,`http://${i}`),n}function jq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vH({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ho("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",jq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fq("Browser");var _x="auth",mo=class{constructor(e){return e}},yo=class{constructor(){return lo(_x)}};var Q_=new q("angularfire2.auth-instances");function xz(t,e){let n=za(_x,t,e);return n&&new mo(n)}function Mz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new mo(r)}}var Nz={provide:yo,deps:[[new st,Q_]]},Pz={provide:mo,useFactory:xz,deps:[[new st,Q_],qn]};function Ix(t,...e){return $e("angularfire",Zr.full,"auth"),Pt([Pz,Nz,{provide:Q_,useFactory:Mz(t),multi:!0,deps:[Te,it,as,Jr,[new st,os],...e]}])}var Ex=Ht($_,!0);var bx=Ht(K_,!0);var Dx=Ht(H_,!0);var Cx=Ht(G_,!0);var Tx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ax={};var hs,Y_;(function(){var t;function e(T,E){function b(){}b.prototype=E.prototype,T.D=E.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(A,S,R){for(var D=Array(arguments.length-2),Tn=2;Tn<arguments.length;Tn++)D[Tn-2]=arguments[Tn];return E.prototype[S].apply(A,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,E,b){b||(b=0);var A=Array(16);if(typeof E=="string")for(var S=0;16>S;++S)A[S]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(S=0;16>S;++S)A[S]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=T.g[0],b=T.g[1],S=T.g[2];var R=T.g[3],D=E+(R^b&(S^R))+A[0]+3614090360&4294967295;E=b+(D<<7&4294967295|D>>>25),D=R+(S^E&(b^S))+A[1]+3905402710&4294967295,R=E+(D<<12&4294967295|D>>>20),D=S+(b^R&(E^b))+A[2]+606105819&4294967295,S=R+(D<<17&4294967295|D>>>15),D=b+(E^S&(R^E))+A[3]+3250441966&4294967295,b=S+(D<<22&4294967295|D>>>10),D=E+(R^b&(S^R))+A[4]+4118548399&4294967295,E=b+(D<<7&4294967295|D>>>25),D=R+(S^E&(b^S))+A[5]+1200080426&4294967295,R=E+(D<<12&4294967295|D>>>20),D=S+(b^R&(E^b))+A[6]+2821735955&4294967295,S=R+(D<<17&4294967295|D>>>15),D=b+(E^S&(R^E))+A[7]+4249261313&4294967295,b=S+(D<<22&4294967295|D>>>10),D=E+(R^b&(S^R))+A[8]+1770035416&4294967295,E=b+(D<<7&4294967295|D>>>25),D=R+(S^E&(b^S))+A[9]+2336552879&4294967295,R=E+(D<<12&4294967295|D>>>20),D=S+(b^R&(E^b))+A[10]+4294925233&4294967295,S=R+(D<<17&4294967295|D>>>15),D=b+(E^S&(R^E))+A[11]+2304563134&4294967295,b=S+(D<<22&4294967295|D>>>10),D=E+(R^b&(S^R))+A[12]+1804603682&4294967295,E=b+(D<<7&4294967295|D>>>25),D=R+(S^E&(b^S))+A[13]+4254626195&4294967295,R=E+(D<<12&4294967295|D>>>20),D=S+(b^R&(E^b))+A[14]+2792965006&4294967295,S=R+(D<<17&4294967295|D>>>15),D=b+(E^S&(R^E))+A[15]+1236535329&4294967295,b=S+(D<<22&4294967295|D>>>10),D=E+(S^R&(b^S))+A[1]+4129170786&4294967295,E=b+(D<<5&4294967295|D>>>27),D=R+(b^S&(E^b))+A[6]+3225465664&4294967295,R=E+(D<<9&4294967295|D>>>23),D=S+(E^b&(R^E))+A[11]+643717713&4294967295,S=R+(D<<14&4294967295|D>>>18),D=b+(R^E&(S^R))+A[0]+3921069994&4294967295,b=S+(D<<20&4294967295|D>>>12),D=E+(S^R&(b^S))+A[5]+3593408605&4294967295,E=b+(D<<5&4294967295|D>>>27),D=R+(b^S&(E^b))+A[10]+38016083&4294967295,R=E+(D<<9&4294967295|D>>>23),D=S+(E^b&(R^E))+A[15]+3634488961&4294967295,S=R+(D<<14&4294967295|D>>>18),D=b+(R^E&(S^R))+A[4]+3889429448&4294967295,b=S+(D<<20&4294967295|D>>>12),D=E+(S^R&(b^S))+A[9]+568446438&4294967295,E=b+(D<<5&4294967295|D>>>27),D=R+(b^S&(E^b))+A[14]+3275163606&4294967295,R=E+(D<<9&4294967295|D>>>23),D=S+(E^b&(R^E))+A[3]+4107603335&4294967295,S=R+(D<<14&4294967295|D>>>18),D=b+(R^E&(S^R))+A[8]+1163531501&4294967295,b=S+(D<<20&4294967295|D>>>12),D=E+(S^R&(b^S))+A[13]+2850285829&4294967295,E=b+(D<<5&4294967295|D>>>27),D=R+(b^S&(E^b))+A[2]+4243563512&4294967295,R=E+(D<<9&4294967295|D>>>23),D=S+(E^b&(R^E))+A[7]+1735328473&4294967295,S=R+(D<<14&4294967295|D>>>18),D=b+(R^E&(S^R))+A[12]+2368359562&4294967295,b=S+(D<<20&4294967295|D>>>12),D=E+(b^S^R)+A[5]+4294588738&4294967295,E=b+(D<<4&4294967295|D>>>28),D=R+(E^b^S)+A[8]+2272392833&4294967295,R=E+(D<<11&4294967295|D>>>21),D=S+(R^E^b)+A[11]+1839030562&4294967295,S=R+(D<<16&4294967295|D>>>16),D=b+(S^R^E)+A[14]+4259657740&4294967295,b=S+(D<<23&4294967295|D>>>9),D=E+(b^S^R)+A[1]+2763975236&4294967295,E=b+(D<<4&4294967295|D>>>28),D=R+(E^b^S)+A[4]+1272893353&4294967295,R=E+(D<<11&4294967295|D>>>21),D=S+(R^E^b)+A[7]+4139469664&4294967295,S=R+(D<<16&4294967295|D>>>16),D=b+(S^R^E)+A[10]+3200236656&4294967295,b=S+(D<<23&4294967295|D>>>9),D=E+(b^S^R)+A[13]+681279174&4294967295,E=b+(D<<4&4294967295|D>>>28),D=R+(E^b^S)+A[0]+3936430074&4294967295,R=E+(D<<11&4294967295|D>>>21),D=S+(R^E^b)+A[3]+3572445317&4294967295,S=R+(D<<16&4294967295|D>>>16),D=b+(S^R^E)+A[6]+76029189&4294967295,b=S+(D<<23&4294967295|D>>>9),D=E+(b^S^R)+A[9]+3654602809&4294967295,E=b+(D<<4&4294967295|D>>>28),D=R+(E^b^S)+A[12]+3873151461&4294967295,R=E+(D<<11&4294967295|D>>>21),D=S+(R^E^b)+A[15]+530742520&4294967295,S=R+(D<<16&4294967295|D>>>16),D=b+(S^R^E)+A[2]+3299628645&4294967295,b=S+(D<<23&4294967295|D>>>9),D=E+(S^(b|~R))+A[0]+4096336452&4294967295,E=b+(D<<6&4294967295|D>>>26),D=R+(b^(E|~S))+A[7]+1126891415&4294967295,R=E+(D<<10&4294967295|D>>>22),D=S+(E^(R|~b))+A[14]+2878612391&4294967295,S=R+(D<<15&4294967295|D>>>17),D=b+(R^(S|~E))+A[5]+4237533241&4294967295,b=S+(D<<21&4294967295|D>>>11),D=E+(S^(b|~R))+A[12]+1700485571&4294967295,E=b+(D<<6&4294967295|D>>>26),D=R+(b^(E|~S))+A[3]+2399980690&4294967295,R=E+(D<<10&4294967295|D>>>22),D=S+(E^(R|~b))+A[10]+4293915773&4294967295,S=R+(D<<15&4294967295|D>>>17),D=b+(R^(S|~E))+A[1]+2240044497&4294967295,b=S+(D<<21&4294967295|D>>>11),D=E+(S^(b|~R))+A[8]+1873313359&4294967295,E=b+(D<<6&4294967295|D>>>26),D=R+(b^(E|~S))+A[15]+4264355552&4294967295,R=E+(D<<10&4294967295|D>>>22),D=S+(E^(R|~b))+A[6]+2734768916&4294967295,S=R+(D<<15&4294967295|D>>>17),D=b+(R^(S|~E))+A[13]+1309151649&4294967295,b=S+(D<<21&4294967295|D>>>11),D=E+(S^(b|~R))+A[4]+4149444226&4294967295,E=b+(D<<6&4294967295|D>>>26),D=R+(b^(E|~S))+A[11]+3174756917&4294967295,R=E+(D<<10&4294967295|D>>>22),D=S+(E^(R|~b))+A[2]+718787259&4294967295,S=R+(D<<15&4294967295|D>>>17),D=b+(R^(S|~E))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(S+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+S&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var b=E-this.blockSize,A=this.B,S=this.h,R=0;R<E;){if(S==0)for(;R<=b;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<E;)if(A[S++]=T.charCodeAt(R++),S==this.blockSize){i(this,A),S=0;break}}else for(;R<E;)if(A[S++]=T[R++],S==this.blockSize){i(this,A),S=0;break}}this.h=S,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var b=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=b&255,b/=256;for(this.u(T),T=Array(16),E=b=0;4>E;++E)for(var A=0;32>A;A+=8)T[b++]=this.g[E]>>>A&255;return T};function s(T,E){var b=a;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=E(T)}function o(T,E){this.h=E;for(var b=[],A=!0,S=T.length-1;0<=S;S--){var R=T[S]|0;A&&R==E||(b[S]=R,A=!1)}this.g=b}var a={};function u(T){return-128<=T&&128>T?s(T,function(E){return new o([E|0],0>E?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return N(d(-T));for(var E=[],b=1,A=0;T>=b;A++)E[A]=T/b|0,b*=4294967296;return new o(E,0)}function p(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return N(p(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(E,8)),A=g,S=0;S<T.length;S+=8){var R=Math.min(8,T.length-S),D=parseInt(T.substring(S,S+R),E);8>R?(R=d(Math.pow(E,R)),A=A.j(R).add(d(D))):(A=A.j(b),A=A.add(d(D)))}return A}var g=u(0),_=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(O(this))return-N(this).m();for(var T=0,E=1,b=0;b<this.g.length;b++){var A=this.i(b);T+=(0<=A?A:4294967296+A)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(M(this))return"0";if(O(this))return"-"+N(this).toString(T);for(var E=d(Math.pow(T,6)),b=this,A="";;){var S=G(b,E).g;b=V(b,S.j(E));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=S,M(b))return R+A;for(;6>R.length;)R="0"+R;A=R+A}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function M(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function O(T){return T.h==-1}t.l=function(T){return T=V(this,T),O(T)?-1:M(T)?0:1};function N(T){for(var E=T.g.length,b=[],A=0;A<E;A++)b[A]=~T.g[A];return new o(b,~T.h).add(_)}t.abs=function(){return O(this)?N(this):this},t.add=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],A=0,S=0;S<=E;S++){var R=A+(this.i(S)&65535)+(T.i(S)&65535),D=(R>>>16)+(this.i(S)>>>16)+(T.i(S)>>>16);A=D>>>16,R&=65535,D&=65535,b[S]=D<<16|R}return new o(b,b[b.length-1]&-2147483648?-1:0)};function V(T,E){return T.add(N(E))}t.j=function(T){if(M(this)||M(T))return g;if(O(this))return O(T)?N(this).j(N(T)):N(N(this).j(T));if(O(T))return N(this.j(N(T)));if(0>this.l(I)&&0>T.l(I))return d(this.m()*T.m());for(var E=this.g.length+T.g.length,b=[],A=0;A<2*E;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(var S=0;S<T.g.length;S++){var R=this.i(A)>>>16,D=this.i(A)&65535,Tn=T.i(S)>>>16,li=T.i(S)&65535;b[2*A+2*S]+=D*li,z(b,2*A+2*S),b[2*A+2*S+1]+=R*li,z(b,2*A+2*S+1),b[2*A+2*S+1]+=D*Tn,z(b,2*A+2*S+1),b[2*A+2*S+2]+=R*Tn,z(b,2*A+2*S+2)}for(A=0;A<E;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=E;A<2*E;A++)b[A]=0;return new o(b,0)};function z(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function $(T,E){this.g=T,this.h=E}function G(T,E){if(M(E))throw Error("division by zero");if(M(T))return new $(g,g);if(O(T))return E=G(N(T),E),new $(N(E.g),N(E.h));if(O(E))return E=G(T,N(E)),new $(N(E.g),E.h);if(30<T.g.length){if(O(T)||O(E))throw Error("slowDivide_ only works with positive integers.");for(var b=_,A=E;0>=A.l(T);)b=le(b),A=le(A);var S=Q(b,1),R=Q(A,1);for(A=Q(A,2),b=Q(b,2);!M(A);){var D=R.add(A);0>=D.l(T)&&(S=S.add(b),R=D),A=Q(A,1),b=Q(b,1)}return E=V(T,S.j(E)),new $(S,E)}for(S=g;0<=T.l(E);){for(b=Math.max(1,Math.floor(T.m()/E.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),R=d(b),D=R.j(E);O(D)||0<D.l(T);)b-=A,R=d(b),D=R.j(E);M(R)&&(R=_),S=S.add(R),T=V(T,D)}return new $(S,T)}t.A=function(T){return G(this,T).h},t.and=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)&T.i(A);return new o(b,this.h&T.h)},t.or=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)|T.i(A);return new o(b,this.h|T.h)},t.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)^T.i(A);return new o(b,this.h^T.h)};function le(T){for(var E=T.g.length+1,b=[],A=0;A<E;A++)b[A]=T.i(A)<<1|T.i(A-1)>>>31;return new o(b,T.h)}function Q(T,E){var b=E>>5;E%=32;for(var A=T.g.length-b,S=[],R=0;R<A;R++)S[R]=0<E?T.i(R+b)>>>E|T.i(R+b+1)<<32-E:T.i(R+b);return new o(S,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Y_=Ax.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,hs=Ax.Integer=o}).apply(typeof Tx<"u"?Tx:typeof self<"u"?self:typeof window<"u"?window:{});var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ni={};var Z_,Oz,Ka,J_,hl,Bp,X_,eI,tI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jp=="object"&&jp];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var x=c[v];if(!(x in m))break e;m=m[x]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function s(c,f){c instanceof String&&(c+="");var m=0,v=!1,x={next:function(){if(!v&&m<c.length){var k=m++;return{value:f(k,c[k]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(c){return c||function(){return s(this,function(f,m){return m})}});var o=o||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,m){return c.call.apply(c.bind,arguments)}function g(c,f,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),c.apply(f,x)}}return function(){return c.apply(f,arguments)}}function _(c,f,m){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function I(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function M(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,x,k){for(var j=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)j[Me-2]=arguments[Me];return f.prototype[x].apply(v,j)}}function O(c){let f=c.length;if(0<f){let m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function N(c,f){for(let m=1;m<arguments.length;m++){let v=arguments[m];if(u(v)){let x=c.length||0,k=v.length||0;c.length=x+k;for(let j=0;j<k;j++)c[x+j]=v[j]}else c.push(v)}}class V{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function z(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function G(c){return G[" "](c),c}G[" "]=function(){};var le=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function Q(c,f,m){for(let v in c)f.call(m,c[v],v,c)}function T(c,f){for(let m in c)f.call(void 0,c[m],m,c)}function E(c){let f={};for(let m in c)f[m]=c[m];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,f){let m,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(m in v)c[m]=v[m];for(let k=0;k<b.length;k++)m=b[k],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function S(c){var f=1;c=c.split(":");let m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function R(c){a.setTimeout(()=>{throw c},0)}function D(){var c=hi;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class Tn{constructor(){this.h=this.g=null}add(f,m){let v=li.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var li=new V(()=>new vc,c=>c.reset());class vc{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let di,Sr=!1,hi=new Tn,en=()=>{let c=a.Promise.resolve(void 0);di=()=>{c.then(fi)}};var fi=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(m){R(m)}var f=li;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}Sr=!1};function Mt(){this.s=this.s,this.C=this.C}Mt.prototype.s=!1,Mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var pi=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function An(c,f){if(gt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(le){e:{try{G(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Fl[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&An.aa.h.call(this)}}M(An,gt);var Fl={2:"touch",3:"pen",4:"mouse"};An.prototype.h=function(){An.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Wn="closure_listenable_"+(1e6*Math.random()|0),wc=0;function kg(c,f,m,v,x){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=x,this.key=++wc,this.da=this.fa=!1}function gi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mi(c){this.src=c,this.g={},this.h=0}mi.prototype.add=function(c,f,m,v,x){var k=c.toString();c=this.g[k],c||(c=this.g[k]=[],this.h++);var j=_c(c,f,v,x);return-1<j?(f=c[j],m||(f.fa=!1)):(f=new kg(f,this.src,k,!!v,x),f.fa=m,c.push(f)),f};function yi(c,f){var m=f.type;if(m in c.g){var v=c.g[m],x=Array.prototype.indexOf.call(v,f,void 0),k;(k=0<=x)&&Array.prototype.splice.call(v,x,1),k&&(gi(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function _c(c,f,m,v){for(var x=0;x<c.length;++x){var k=c[x];if(!k.da&&k.listener==f&&k.capture==!!m&&k.ha==v)return x}return-1}var Dt="closure_lm_"+(1e6*Math.random()|0),tn={};function Ll(c,f,m,v,x){if(v&&v.once)return Ic(c,f,m,v,x);if(Array.isArray(f)){for(var k=0;k<f.length;k++)Ll(c,f[k],m,v,x);return null}return m=Xe(m),c&&c[Wn]?c.K(f,m,d(v)?!!v.capture:!!v,x):Nt(c,f,m,!1,v,x)}function Nt(c,f,m,v,x,k){if(!f)throw Error("Invalid event type");var j=d(x)?!!x.capture:!!x,Me=Sn(c);if(Me||(c[Dt]=Me=new mi(c)),m=Me.add(f,m,v,j,k),m.proxy)return m;if(v=So(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)pi||(x=j),x===void 0&&(x=!1),c.addEventListener(f.toString(),v,x);else if(c.attachEvent)c.attachEvent(nn(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function So(){function c(m){return f.call(c.src,c.listener,m)}let f=Kn;return c}function Ic(c,f,m,v,x){if(Array.isArray(f)){for(var k=0;k<f.length;k++)Ic(c,f[k],m,v,x);return null}return m=Xe(m),c&&c[Wn]?c.L(f,m,d(v)?!!v.capture:!!v,x):Nt(c,f,m,!0,v,x)}function Ec(c,f,m,v,x){if(Array.isArray(f))for(var k=0;k<f.length;k++)Ec(c,f[k],m,v,x);else v=d(v)?!!v.capture:!!v,m=Xe(m),c&&c[Wn]?(c=c.i,f=String(f).toString(),f in c.g&&(k=c.g[f],m=_c(k,m,v,x),-1<m&&(gi(k[m]),Array.prototype.splice.call(k,m,1),k.length==0&&(delete c.g[f],c.h--)))):c&&(c=Sn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=_c(f,m,v,x)),(m=-1<c?f[c]:null)&&_e(m))}function _e(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[Wn])yi(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(nn(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=Sn(f))?(yi(m,c),m.h==0&&(m.src=null,f[Dt]=null)):gi(c)}}}function nn(c){return c in tn?tn[c]:tn[c]="on"+c}function Kn(c,f){if(c.da)c=!0;else{f=new An(f,this);var m=c.listener,v=c.ha||c.src;c.fa&&_e(c),c=m.call(v,f)}return c}function Sn(c){return c=c[Dt],c instanceof mi?c:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xe(c){return typeof c=="function"?c:(c[ze]||(c[ze]=function(f){return c.handleEvent(f)}),c[ze])}function et(){Mt.call(this),this.i=new mi(this),this.M=this,this.F=null}M(et,Mt),et.prototype[Wn]=!0,et.prototype.removeEventListener=function(c,f,m,v){Ec(this,c,f,m,v)};function mt(c,f){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new gt(f,c);else if(f instanceof gt)f.target=f.target||c;else{var x=f;f=new gt(v,c),A(f,x)}if(x=!0,m)for(var k=m.length-1;0<=k;k--){var j=f.g=m[k];x=Qn(j,v,!0,f)&&x}if(j=f.g=c,x=Qn(j,v,!0,f)&&x,x=Qn(j,v,!1,f)&&x,m)for(k=0;k<m.length;k++)j=f.g=m[k],x=Qn(j,v,!1,f)&&x}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],v=0;v<m.length;v++)gi(m[v]);delete c.g[f],c.h--}}this.F=null},et.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},et.prototype.L=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function Qn(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,k=0;k<f.length;++k){var j=f[k];if(j&&!j.da&&j.capture==m){var Me=j.listener,lt=j.ha||j.src;j.fa&&yi(c.i,j),x=Me.call(lt,v)!==!1&&x}}return x&&!v.defaultPrevented}function Ct(c,f,m){if(typeof c=="function")m&&(c=_(c,m));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Vl(c){c.g=Ct(()=>{c.g=null,c.i&&(c.i=!1,Vl(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class Ul extends Mt{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Vl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(c){Mt.call(this),this.h=c,this.g={}}M(vi,Mt);var Ro=[];function jl(c){Q(c.g,function(f,m){this.g.hasOwnProperty(m)&&_e(f)},c),c.g={}}vi.prototype.N=function(){vi.aa.N.call(this),jl(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bc=a.JSON.stringify,Og=a.JSON.parse,Fg=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Rn(){}Rn.prototype.h=null;function Bl(c){return c.h||(c.h=c.i())}function $l(){}var ys={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dc(){gt.call(this,"d")}M(Dc,gt);function Cc(){gt.call(this,"c")}M(Cc,gt);var xn={},Hl=null;function xo(){return Hl=Hl||new et}xn.La="serverreachability";function ql(c){gt.call(this,xn.La,c)}M(ql,gt);function vs(c){let f=xo();mt(f,new ql(f))}xn.STAT_EVENT="statevent";function zl(c,f){gt.call(this,xn.STAT_EVENT,c),this.stat=f}M(zl,gt);function ut(c){let f=xo();mt(f,new zl(f,c))}xn.Ma="timingevent";function Gl(c,f){gt.call(this,xn.Ma,c),this.size=f}M(Gl,gt);function ws(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function Lg(c,f,m,v,x,k){c.info(function(){if(c.g)if(k)for(var j="",Me=k.split("&"),lt=0;lt<Me.length;lt++){var De=Me[lt].split("=");if(1<De.length){var yt=De[0];De=De[1];var dt=yt.split("_");j=2<=dt.length&&dt[1]=="type"?j+(yt+"="+De+"&"):j+(yt+"=redacted&")}}else j=null;else j=k;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+m+`
`+j})}function Vg(c,f,m,v,x,k,j){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+m+`
`+k+" "+j})}function Se(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+jg(c,m)+(v?" "+v:"")})}function Ug(c,f){c.info(function(){return"TIMEOUT: "+f})}_s.prototype.info=function(){};function jg(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var j=1;j<x.length;j++)x[j]=""}}}}return bc(m)}catch{return f}}var Mo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tc;function No(){}M(No,Rn),No.prototype.g=function(){return new XMLHttpRequest},No.prototype.i=function(){return{}},Tc=new No;function pn(c,f,m,v){this.j=c,this.i=f,this.l=m,this.R=v||1,this.U=new vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}var Ac={},_i={};function Ue(c,f,m){c.L=1,c.v=ko(gn(f)),c.m=m,c.P=!0,Kl(c,null)}function Kl(c,f){c.F=Date.now(),Is(c),c.A=gn(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),ld(m.i,"t",v),c.C=0,m=c.j.J,c.h=new wi,c.g=$c(c.j,m?f:null,!c.m),0<c.O&&(c.M=new Ul(_(c.Y,c,c.g),c.O)),f=c.U,m=c.g,v=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(Ro[0]=x.toString()),x=Ro);for(var k=0;k<x.length;k++){var j=Ll(m,x[k],v||f.handleEvent,!1,f.h||f);if(!j)break;f.g[j.key]=j}f=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),vs(),Lg(c.i,c.u,c.A,c.l,c.R,c.m)}pn.prototype.ca=function(c){c=c.target;let f=this.M;f&&Nn(c)==3?f.j():this.Y(c)},pn.prototype.Y=function(c){try{if(c==this.g)e:{let dt=Nn(this.g);var f=this.g.Ba();let er=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||yd(this.g)))){this.J||dt!=4||f==7||(f==8||0>=er?vs(3):vs(2)),Sc(this);var m=this.g.Z();this.X=m;t:if(Ql(this)){var v=yd(this.g);c="";var x=v.length,k=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yn(this),Es(this);var j="";break t}this.h.i=new a.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(k&&f==x-1)});v.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=m==200,Vg(this.i,this.u,this.A,this.l,this.R,dt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,lt=this.g;if((Me=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Me)){var De=Me;break t}}De=null}if(m=De)Se(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rc(this,m);else{this.o=!1,this.s=3,ut(12),Yn(this),Es(this);break e}}if(this.P){m=!0;let rn;for(;!this.J&&this.C<j.length;)if(rn=Bg(this,j),rn==_i){dt==4&&(this.s=4,ut(14),m=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Ac){this.s=4,ut(15),Se(this.i,this.l,j,"[Invalid Chunk]"),m=!1;break}else Se(this.i,this.l,rn,null),Rc(this,rn);if(Ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||j.length!=0||this.h.h||(this.s=1,ut(16),m=!1),this.o=this.o&&m,!m)Se(this.i,this.l,j,"[Invalid Chunked Response]"),Yn(this),Es(this);else if(0<j.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Ti(yt),yt.M=!0,ut(11))}}else Se(this.i,this.l,j,null),Rc(this,j);dt==4&&Yn(this),this.o&&!this.J&&(dt==4?Vc(this.j,this):(this.o=!1,Is(this)))}else Yg(this.g),m==400&&0<j.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Yn(this),Es(this)}}}catch{}finally{}};function Ql(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bg(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?_i:(m=Number(f.substring(m,v)),isNaN(m)?Ac:(v+=1,v+m>f.length?_i:(f=f.slice(v,v+m),c.C=v+m,f)))}pn.prototype.cancel=function(){this.J=!0,Yn(this)};function Is(c){c.S=Date.now()+c.I,Yl(c,c.I)}function Yl(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ws(_(c.ba,c),f)}function Sc(c){c.B&&(a.clearTimeout(c.B),c.B=null)}pn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Ug(this.i,this.A),this.L!=2&&(vs(),ut(17)),Yn(this),this.s=2,Es(this)):Yl(this,this.S-c)};function Es(c){c.j.G==0||c.J||Vc(c.j,c)}function Yn(c){Sc(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,jl(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Rc(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||xc(m.h,c))){if(!c.K&&xc(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)xs(m),Vo(m);else break e;Rs(m),ut(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=ws(_(m.Za,m),6e3));if(1>=ed(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Xn(m,11)}else if((c.K||m.g==c)&&xs(m),!z(f))for(x=m.Da.g.parse(f),f=0;f<x.length;f++){let De=x[f];if(m.T=De[0],De=De[1],m.G==2)if(De[0]=="c"){m.K=De[1],m.ia=De[2];let yt=De[3];yt!=null&&(m.la=yt,m.j.info("VER="+m.la));let dt=De[4];dt!=null&&(m.Aa=dt,m.j.info("SVER="+m.Aa));let er=De[5];er!=null&&typeof er=="number"&&0<er&&(v=1.5*er,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;let rn=c.g;if(rn){let jo=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jo){var k=v.h;k.g||jo.indexOf("spdy")==-1&&jo.indexOf("quic")==-1&&jo.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Mc(k,k.h),k.h=null))}if(v.D){let qc=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;qc&&(v.ya=qc,Oe(v.I,v.D,qc))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var j=c;if(v.qa=Bc(v,v.J?v.ia:null,v.W),j.K){td(v.h,j);var Me=j,lt=v.L;lt&&(Me.I=lt),Me.B&&(Sc(Me),Is(Me)),v.g=j}else Lc(v);0<m.i.length&&Uo(m)}else De[0]!="stop"&&De[0]!="close"||Xn(m,7);else m.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Xn(m,7):Lo(m):De[0]!="noop"&&m.l&&m.l.ta(De),m.v=0)}}vs(4)}catch{}}var Zl=class{constructor(c,f){this.g=c,this.map=f}};function Jl(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ed(c){return c.h?1:c.g?c.g.size:0}function xc(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Mc(c,f){c.g?c.g.add(f):c.h=f}function td(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Jl.prototype.cancel=function(){if(this.i=nd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function nd(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let m of c.g.values())f=f.concat(m.D);return f}return O(c.i)}function rd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],m=c.length,v=0;v<m;v++)f.push(c[v]);return f}f=[],m=0;for(v in c)f[m++]=c[v];return f}function $g(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(let v in c)f[m++]=v;return f}}}function Nc(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=$g(c),v=rd(c),x=v.length,k=0;k<x;k++)f.call(void 0,v[k],m&&m[k],c)}var id=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hg(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),x=null;if(0<=v){var k=c[m].substring(0,v);x=c[m].substring(v+1)}else k=c[m];f(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function qt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof qt){this.h=c.h,Po(this,c.j),this.o=c.o,this.g=c.g,Ii(this,c.s),this.l=c.l;var f=c.i,m=new Cs;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Pc(this,m),this.m=c.m}else c&&(f=String(c).match(id))?(this.h=!1,Po(this,f[1]||"",!0),this.o=bs(f[2]||""),this.g=bs(f[3]||"",!0),Ii(this,f[4]),this.l=bs(f[5]||"",!0),Pc(this,f[6]||"",!0),this.m=bs(f[7]||"")):(this.h=!1,this.i=new Cs(null,this.h))}qt.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Ds(f,sd,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Ds(f,sd,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Ds(m,m.charAt(0)=="/"?zg:Ei,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Ds(m,ad)),c.join("")};function gn(c){return new qt(c)}function Po(c,f,m){c.j=m?bs(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Ii(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function Pc(c,f,m){f instanceof Cs?(c.i=f,Gg(c.i,c.h)):(m||(f=Ds(f,od)),c.i=new Cs(f,c.h))}function Oe(c,f,m){c.i.set(f,m)}function ko(c){return Oe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function bs(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ds(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,qg),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function qg(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sd=/[#\/\?@]/g,Ei=/[#\?:]/g,zg=/[#\?]/g,od=/[#\?@]/g,ad=/#/g;function Cs(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Zn(c){c.g||(c.g=new Map,c.h=0,c.i&&Hg(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Cs.prototype,t.add=function(c,f){Zn(this),this.i=null,c=bi(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function cd(c,f){Zn(c),f=bi(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function ud(c,f){return Zn(c),f=bi(c,f),c.g.has(f)}t.forEach=function(c,f){Zn(this),this.g.forEach(function(m,v){m.forEach(function(x){c.call(f,x,v,this)},this)},this)},t.na=function(){Zn(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){let x=c[v];for(let k=0;k<x.length;k++)m.push(f[v])}return m},t.V=function(c){Zn(this);let f=[];if(typeof c=="string")ud(this,c)&&(f=f.concat(this.g.get(bi(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},t.set=function(c,f){return Zn(this),this.i=null,c=bi(this,c),ud(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function ld(c,f,m){cd(c,f),0<m.length&&(c.i=null,c.g.set(bi(c,f),O(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];let k=encodeURIComponent(String(v)),j=this.V(v);for(v=0;v<j.length;v++){var x=k;j[v]!==""&&(x+="="+encodeURIComponent(String(j[v]))),c.push(x)}}return this.i=c.join("&")};function bi(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function Gg(c,f){f&&!c.j&&(Zn(c),c.i=null,c.g.forEach(function(m,v){var x=v.toLowerCase();v!=x&&(cd(this,v),ld(this,x,m))},c)),c.j=f}function Di(c,f){let m=new _s;if(a.Image){let v=new Image;v.onload=I(Jn,m,"TestLoadImage: loaded",!0,f,v),v.onerror=I(Jn,m,"TestLoadImage: error",!1,f,v),v.onabort=I(Jn,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=I(Jn,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function Wg(c,f){let m=new _s,v=new AbortController,x=setTimeout(()=>{v.abort(),Jn(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(k=>{clearTimeout(x),k.ok?Jn(m,"TestPingServer: ok",!0,f):Jn(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),Jn(m,"TestPingServer: error",!1,f)})}function Jn(c,f,m,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(m)}catch{}}function dd(){this.g=new Fg}function Kg(c,f,m){let v=m||"";try{Nc(c,function(x,k){let j=x;d(x)&&(j=bc(x)),f.push(v+k+"="+encodeURIComponent(j))})}catch(x){throw f.push(v+"type="+encodeURIComponent("_badmap")),x}}function zt(c){this.l=c.Ub||null,this.j=c.eb||!1}M(zt,Rn),zt.prototype.g=function(){return new Oo(this.l,this.j)},zt.prototype.i=function(c){return function(){return c}}({});function Oo(c,f){et.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Oo,et),t=Oo.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Ts(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ts(this)),this.g&&(this.readyState=3,Ts(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function kc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Mn(this):Ts(this),this.readyState==3&&kc(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Mn(this))},t.Qa=function(c){this.g&&(this.response=c,Mn(this))},t.ga=function(){this.g&&Mn(this)};function Mn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ts(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function Ts(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function hd(c){let f="";return Q(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function Oc(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=hd(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Oe(c,f,m))}function je(c){et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(je,et);var Ci=/^https?$/i,Qg=["POST","PUT"];t=je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tc.g(),this.v=this.o?Bl(this.o):Bl(Tc),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(k){fd(this,k);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)m.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let k of v.keys())m.set(k,v.get(k));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(k=>k.toLowerCase()=="content-type"),x=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Qg,f,void 0))||v||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,j]of m)this.g.setRequestHeader(k,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{md(this),this.u=!0,this.g.send(c),this.u=!1}catch(k){fd(this,k)}};function fd(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,pd(c),Fo(c)}function pd(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),Fo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fo(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gd(this):this.bb())},t.bb=function(){gd(this)};function gd(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)Ct(c.Ea,0,c);else if(mt(c,"readystatechange"),Nn(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=j===0){var x=String(c.D).match(id)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!Ci.test(x?x.toLowerCase():"")}m=v}if(m)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var k=2<Nn(c)?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.Z()+"]",pd(c)}}finally{Fo(c)}}}}function Fo(c,f){if(c.g){md(c);let m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||mt(c,"ready");try{m.onreadystatechange=v}catch{}}}function md(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),Og(f)}};function yd(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yg(c){let f={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(z(c[v]))continue;var m=S(c[v]);let x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let k=f[x]||[];f[x]=k,k.push(m)}T(f,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function Ss(c){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,c),this.cb=As("retryDelaySeedMs",1e4,c),this.Wa=As("forwardChannelMaxRetries",2,c),this.wa=As("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Jl(c&&c.concurrentRequestLimit),this.Da=new dd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ss.prototype,t.la=8,t.G=1,t.connect=function(c,f,m,v){ut(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=Bc(this,null,this.W),Uo(this)};function Lo(c){if(vd(c),c.G==3){var f=c.U++,m=gn(c.I);if(Oe(m,"SID",c.K),Oe(m,"RID",f),Oe(m,"TYPE","terminate"),Rr(c,m),f=new pn(c,c.j,f),f.L=2,f.v=ko(gn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=$c(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Is(f)}jc(c)}function Vo(c){c.g&&(Ti(c),c.g.cancel(),c.g=null)}function vd(c){Vo(c),c.u&&(a.clearTimeout(c.u),c.u=null),xs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Uo(c){if(!Xl(c.h)&&!c.s){c.s=!0;var f=c.Ga;di||en(),Sr||(di(),Sr=!0),hi.add(f,c),c.B=0}}function wd(c,f){return ed(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ws(_(c.Ga,c,f),Uc(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let x=new pn(this,this.j,c),k=this.o;if(this.S&&(k?(k=E(k),A(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Fc(this,x,f),m=gn(this.I),Oe(m,"RID",c),Oe(m,"CVER",22),this.D&&Oe(m,"X-HTTP-Session-Id",this.D),Rr(this,m),k&&(this.O?f="headers="+encodeURIComponent(String(hd(k)))+"&"+f:this.m&&Oc(m,this.m,k)),Mc(this.h,x),this.Ua&&Oe(m,"TYPE","init"),this.P?(Oe(m,"$req",f),Oe(m,"SID","null"),x.T=!0,Ue(x,m,null)):Ue(x,m,f),this.G=2}}else this.G==3&&(c?_d(this,c):this.i.length==0||Xl(this.h)||_d(this))};function _d(c,f){var m;f?m=f.l:m=c.U++;let v=gn(c.I);Oe(v,"SID",c.K),Oe(v,"RID",m),Oe(v,"AID",c.T),Rr(c,v),c.m&&c.o&&Oc(v,c.m,c.o),m=new pn(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=Fc(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Mc(c.h,m),Ue(m,v,f)}function Rr(c,f){c.H&&Q(c.H,function(m,v){Oe(f,v,m)}),c.l&&Nc({},function(m,v){Oe(f,v,m)})}function Fc(c,f,m){m=Math.min(c.i.length,m);var v=c.l?_(c.l.Na,c.l,c):null;e:{var x=c.i;let k=-1;for(;;){let j=["count="+m];k==-1?0<m?(k=x[0].g,j.push("ofs="+k)):k=0:j.push("ofs="+k);let Me=!0;for(let lt=0;lt<m;lt++){let De=x[lt].g,yt=x[lt].map;if(De-=k,0>De)k=Math.max(0,x[lt].g-100),Me=!1;else try{Kg(yt,j,"req"+De+"_")}catch{v&&v(yt)}}if(Me){v=j.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,v}function Lc(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;di||en(),Sr||(di(),Sr=!0),hi.add(f,c),c.v=0}}function Rs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ws(_(c.Fa,c),Uc(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Id(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ws(_(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Vo(this),Id(this))};function Ti(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Id(c){c.g=new pn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=gn(c.qa);Oe(f,"RID","rpc"),Oe(f,"SID",c.K),Oe(f,"AID",c.T),Oe(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Oe(f,"TO",c.ja),Oe(f,"TYPE","xmlhttp"),Rr(c,f),c.m&&c.o&&Oc(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=ko(gn(f)),m.m=null,m.P=!0,Kl(m,c)}t.Za=function(){this.C!=null&&(this.C=null,Vo(this),Rs(this),ut(19))};function xs(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Vc(c,f){var m=null;if(c.g==f){xs(c),Ti(c),c.g=null;var v=2}else if(xc(c.h,f))m=f.D,td(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var x=c.B;v=xo(),mt(v,new Gl(v,m)),Uo(c)}else Lc(c);else if(x=f.s,x==3||x==0&&0<f.X||!(v==1&&wd(c,f)||v==2&&Rs(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),x){case 1:Xn(c,5);break;case 4:Xn(c,10);break;case 3:Xn(c,6);break;default:Xn(c,2)}}}function Uc(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function Xn(c,f){if(c.j.info("Error code "+f),f==2){var m=_(c.fb,c),v=c.Xa;let x=!v;v=new qt(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Po(v,"https"),ko(v),x?Di(v.toString(),m):Wg(v.toString(),m)}else ut(2);c.G=0,c.l&&c.l.sa(f),jc(c),vd(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function jc(c){if(c.G=0,c.ka=[],c.l){let f=nd(c.h);(f.length!=0||c.i.length!=0)&&(N(c.ka,f),N(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function Bc(c,f,m){var v=m instanceof qt?gn(m):new qt(m);if(v.g!="")f&&(v.g=f+"."+v.g),Ii(v,v.s);else{var x=a.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var k=new qt(null);v&&Po(k,v),f&&(k.g=f),x&&Ii(k,x),m&&(k.l=m),v=k}return m=c.D,f=c.ya,m&&f&&Oe(v,m,f),Oe(v,"VER",c.la),Rr(c,v),v}function $c(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new je(new zt({eb:m})):new je(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hc(){}t=Hc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ms(){}Ms.prototype.g=function(c,f){return new tt(c,f)};function tt(c,f){et.call(this),this.g=new Ss(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!z(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!z(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Ai(this)}M(tt,et),tt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tt.prototype.close=function(){Lo(this.g)},tt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=bc(c),c=m);f.i.push(new Zl(f.Ya++,c)),f.G==3&&Uo(f)},tt.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,tt.aa.N.call(this)};function Ed(c){Dc.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}M(Ed,Dc);function bd(){Cc.call(this),this.status=1}M(bd,Cc);function Ai(c){this.g=c}M(Ai,Hc),Ai.prototype.ua=function(){mt(this.g,"a")},Ai.prototype.ta=function(c){mt(this.g,new Ed(c))},Ai.prototype.sa=function(c){mt(this.g,new bd)},Ai.prototype.ra=function(){mt(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,tt.prototype.send=tt.prototype.o,tt.prototype.open=tt.prototype.m,tt.prototype.close=tt.prototype.close,tI=ni.createWebChannelTransport=function(){return new Ms},eI=ni.getStatEventTarget=function(){return xo()},X_=ni.Event=xn,Bp=ni.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mo.NO_ERROR=0,Mo.TIMEOUT=8,Mo.HTTP_ERROR=6,hl=ni.ErrorCode=Mo,Wl.COMPLETE="complete",J_=ni.EventType=Wl,$l.EventType=ys,ys.OPEN="a",ys.CLOSE="b",ys.ERROR="c",ys.MESSAGE="d",et.prototype.listen=et.prototype.K,Ka=ni.WebChannel=$l,Oz=ni.FetchXmlHttpFactory=zt,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,Z_=ni.XhrIo=je}).apply(typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{});var Sx="@firebase/firestore";var bt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");var fc="10.14.0";var Io=new rs("@firebase/firestore");function fl(){return Io.logLevel}function W(t,...e){if(Io.logLevel<=Ee.DEBUG){let n=e.map(UE);Io.debug(`Firestore (${fc}): ${t}`,...n)}}function ri(t,...e){if(Io.logLevel<=Ee.ERROR){let n=e.map(UE);Io.error(`Firestore (${fc}): ${t}`,...n)}}function ec(t,...e){if(Io.logLevel<=Ee.WARN){let n=e.map(UE);Io.warn(`Firestore (${fc}): ${t}`,...n)}}function UE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function se(t="Unexpected state"){let e=`FIRESTORE (${fc}) INTERNAL ASSERTION FAILED: `+t;throw ri(e),new Error(e)}function ke(t,e){t||se()}function oe(t,e){return t}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},J=class extends $t{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var _r=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Gp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},oI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}},aI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},cI=class{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _r,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _r)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new Gp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new bt(e)}},uI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},lI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},dI=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},hI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ke(this.o===void 0);let r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new dI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Fz(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Wp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Fz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function xe(t,e){return t<e?-1:t>e?1:0}function tc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var xt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new xt(0,0))}static max(){return new t(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Kp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Qe=class t extends Kp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new J(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Lz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fn=class t extends Kp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Lz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new J(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new J(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ne=class t{constructor(e){this.path=e}static fromPath(e){return new t(Qe.fromString(e))}static fromName(e){return new t(Qe.fromString(e).popFirst(5))}static empty(){return new t(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Qe(e.slice()))}};var fI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};fI.UNKNOWN_ID=-1;function Vz(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new xt(n+1,0):new xt(n,r));return new Eo(i,ne.empty(),e)}function Uz(t){return new Eo(t.readTime,t.key,-1)}var Eo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(fe.min(),ne.empty(),-1)}static max(){return new t(fe.max(),ne.empty(),-1)}};function jz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}var Bz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ml(t){return C(this,null,function*(){if(t.code!==L.FAILED_PRECONDITION||t.message!==Bz)throw t;W("LocalStore","Unexpectedly lost primary lease")})}var U=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let d=u;n(e[d]).next(p=>{o[d]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function $z(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nl(t){return t.name==="IndexedDbTransactionError"}var sM=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Eg(t){return t==null}function wl(t){return t===0&&1/t==-1/0}function Hz(t){return typeof t=="number"&&Number.isInteger(t)&&!wl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var qz=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],AZ=[...qz,"documentOverlays"],zz=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Gz=zz,Wz=[...Gz,"indexConfiguration","indexState","indexEntries"];var SZ=[...Wz,"globals"];function Rx(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ye=class t{constructor(e,n){this.comparator=e,this.root=n||Ir.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ja(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ja(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ja(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ja(this.root,e,this.comparator,!0)}},Ja=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ir=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();let e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}};Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ft=class t{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qp(this.data.getIterator())}getIteratorFrom(e){return new Qp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Qp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var wr=class t{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ft(fn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Yp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Yp("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Lt.EMPTY_BYTE_STRING=new Lt("");var Kz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(t){if(ke(!!t),typeof t=="string"){let e=0,n=Kz.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ps(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}function jE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function BE(t){let e=t.mapValue.fields.__previous_value__;return jE(e)?BE(e):e}function _l(t){let e=ii(t.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}var gI=class{constructor(e,n,r,i,s,o,a,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},Zp=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var $p={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jE(t)?4:cM(t)?9007199254740991:aM(t)?10:11:se()}function Dr(t,e){if(t===e)return!0;let n=bo(t);if(n!==bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _l(t).isEqual(_l(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ii(i.timestampValue),a=ii(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ps(i.bytesValue).isEqual(ps(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return He(i.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return He(i.integerValue)===He(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=He(i.doubleValue),a=He(s.doubleValue);return o===a?wl(o)===wl(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return tc(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Rx(o)!==Rx(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Dr(o[u],a[u])))return!1;return!0}(t,e);default:return se()}}function Il(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function nc(t,e){if(t===e)return 0;let n=bo(t),r=bo(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=He(s.integerValue||s.doubleValue),u=He(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return xx(t.timestampValue,e.timestampValue);case 4:return xx(_l(t),_l(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(s,o){let a=ps(s),u=ps(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=xe(a[d],u[d]);if(p!==0)return p}return xe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=xe(He(s.latitude),He(o.latitude));return a!==0?a:xe(He(s.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Mx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,d,p;let g=s.fields||{},_=o.fields||{},I=(a=g.value)===null||a===void 0?void 0:a.arrayValue,M=(u=_.value)===null||u===void 0?void 0:u.arrayValue,O=xe(((d=I?.values)===null||d===void 0?void 0:d.length)||0,((p=M?.values)===null||p===void 0?void 0:p.length)||0);return O!==0?O:Mx(I,M)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===$p.mapValue&&o===$p.mapValue)return 0;if(s===$p.mapValue)return 1;if(o===$p.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){let _=xe(u[g],p[g]);if(_!==0)return _;let I=nc(a[u[g]],d[p[g]]);if(I!==0)return I}return xe(u.length,p.length)}(t.mapValue,e.mapValue);default:throw se()}}function xx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);let n=ii(t),r=ii(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function Mx(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=nc(n[i],r[i]);if(s)return s}return xe(n.length,r.length)}function rc(t){return mI(t)}function mI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ps(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=mI(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${mI(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function yI(t){return!!t&&"integerValue"in t}function $E(t){return!!t&&"arrayValue"in t}function Nx(t){return!!t&&"nullValue"in t}function Px(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qp(t){return!!t&&"mapValue"in t}function aM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function gl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return pc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gl(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var zn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(n)}setAll(e){let n=fn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=gl(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());qp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(gl(this.value))}};function uM(t){let e=[];return pc(t.fields,(n,r)=>{let i=new fn([n]);if(qp(r)){let s=uM(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new wr(e)}var Gn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,fe.min(),fe.min(),fe.min(),zn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,fe.min(),fe.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,fe.min(),fe.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ic=class{constructor(e,n){this.position=e,this.inclusive=n}};function kx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=nc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ox(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}var sc=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Qz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Jp=class{},pt=class t extends Jp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wI(e,n,r):n==="array-contains"?new EI(e,r):n==="in"?new bI(e,r):n==="not-in"?new DI(e,r):n==="array-contains-any"?new CI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _I(e,r):new II(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(nc(n,this.value)):n!==null&&bo(this.value)===bo(n)&&this.matchesComparison(nc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Cr=class t extends Jp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return lM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function lM(t){return t.op==="and"}function dM(t){return Yz(t)&&lM(t)}function Yz(t){for(let e of t.filters)if(e instanceof Cr)return!1;return!0}function vI(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+rc(t.value);if(dM(t))return t.filters.map(e=>vI(e)).join(",");{let e=t.filters.map(n=>vI(n)).join(",");return`${t.op}(${e})`}}function hM(t,e){return t instanceof pt?function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&Dr(r.value,i.value)}(t,e):t instanceof Cr?function(r,i){return i instanceof Cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&hM(o,i.filters[a]),!0):!1}(t,e):void se()}function fM(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${rc(n.value)}`}(t):t instanceof Cr?function(n){return n.op.toString()+" {"+n.getFilters().map(fM).join(" ,")+"}"}(t):"Filter"}var wI=class extends pt{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){let n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}},_I=class extends pt{constructor(e,n){super(e,"in",n),this.keys=pM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},II=class extends pt{constructor(e,n){super(e,"not-in",n),this.keys=pM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function pM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}var EI=class extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return $E(n)&&Il(n.arrayValue,this.value)}},bI=class extends pt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Il(this.value.arrayValue,n)}},DI=class extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Il(this.value.arrayValue,n)}},CI=class extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!$E(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Il(this.value.arrayValue,r))}};var TI=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function Fx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new TI(t,e,n,r,i,s,o)}function HE(t){let e=oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Eg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rc(r)).join(",")),e.ue=n}return e.ue}function qE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Qz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ox(t.startAt,e.startAt)&&Ox(t.endAt,e.endAt)}function AI(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var oc=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Zz(t,e,n,r,i,s,o,a){return new oc(t,e,n,r,i,s,o,a)}function zE(t){return new oc(t)}function Lx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Jz(t){return t.collectionGroup!==null}function ml(t){let e=oe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ft(fn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new sc(s,r))}),n.has(fn.keyField().canonicalString())||e.ce.push(new sc(fn.keyField(),r))}return e.ce}function Er(t){let e=oe(t);return e.le||(e.le=Xz(e,ml(t))),e.le}function Xz(t,e){if(t.limitType==="F")return Fx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new sc(i.field,s)});let n=t.endAt?new ic(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ic(t.startAt.position,t.startAt.inclusive):null;return Fx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function SI(t,e,n){return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bg(t,e){return qE(Er(t),Er(e))&&t.limitType===e.limitType}function gM(t){return`${HE(Er(t))}|lt:${t.limitType}`}function Qa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>fM(i)).join(", ")}]`),Eg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rc(i)).join(",")),`Target(${r})`}(Er(t))}; limitType=${t.limitType})`}function Dg(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of ml(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let d=kx(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,ml(r),i)||r.endAt&&!function(o,a,u){let d=kx(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,ml(r),i))}(t,e)}function e4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mM(t){return(e,n)=>{let r=!1;for(let i of ml(t)){let s=t4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function t4(t,e,n){let r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),d=a.data.field(s);return u!==null&&d!==null?nc(u,d):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}var gs=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return oM(this.inner)}size(){return this.innerSize}};var n4=new Ye(ne.comparator);function si(){return n4}var yM=new Ye(ne.comparator);function pl(...t){let e=yM;for(let n of t)e=e.insert(n.key,n);return e}function vM(t){let e=yM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vo(){return yl()}function wM(){return yl()}function yl(){return new gs(t=>t.toString(),(t,e)=>t.isEqual(e))}var r4=new Ye(ne.comparator),i4=new Ft(ne.comparator);function be(...t){let e=i4;for(let n of t)e=e.add(n);return e}var s4=new Ft(xe);function o4(){return s4}function GE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wl(e)?"-0":e}}function _M(t){return{integerValue:""+t}}function a4(t,e){return Hz(e)?_M(e):GE(t,e)}var ac=class{constructor(){this._=void 0}};function c4(t,e,n){return t instanceof cc?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jE(s)&&(s=BE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Do?EM(t,e):t instanceof Co?bM(t,e):function(i,s){let o=IM(i,s),a=Vx(o)+Vx(i.Pe);return yI(o)&&yI(i.Pe)?_M(a):GE(i.serializer,a)}(t,e)}function u4(t,e,n){return t instanceof Do?EM(t,e):t instanceof Co?bM(t,e):n}function IM(t,e){return t instanceof uc?function(r){return yI(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var cc=class extends ac{},Do=class extends ac{constructor(e){super(),this.elements=e}};function EM(t,e){let n=DM(e);for(let r of t.elements)n.some(i=>Dr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Co=class extends ac{constructor(e){super(),this.elements=e}};function bM(t,e){let n=DM(e);for(let r of t.elements)n=n.filter(i=>!Dr(i,r));return{arrayValue:{values:n}}}var uc=class extends ac{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Vx(t){return He(t.integerValue||t.doubleValue)}function DM(t){return $E(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function l4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Do&&i instanceof Do||r instanceof Co&&i instanceof Co?tc(r.elements,i.elements,Dr):r instanceof uc&&i instanceof uc?Dr(r.Pe,i.Pe):r instanceof cc&&i instanceof cc}(t.transform,e.transform)}var RI=class{constructor(e,n){this.version=e,this.transformResults=n}},_o=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function zp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var lc=class{};function CM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xp(t.key,_o.none()):new To(t.key,t.data,_o.none());{let n=t.data,r=zn.empty(),i=new Ft(fn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new oi(t.key,r,new wr(i.toArray()),_o.none())}}function d4(t,e,n){t instanceof To?function(i,s,o){let a=i.value.clone(),u=jx(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof oi?function(i,s,o){if(!zp(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=jx(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(TM(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vl(t,e,n,r){return t instanceof To?function(s,o,a,u){if(!zp(s.precondition,o))return a;let d=s.value.clone(),p=Bx(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof oi?function(s,o,a,u){if(!zp(s.precondition,o))return a;let d=Bx(s.fieldTransforms,u,o),p=o.data;return p.setAll(TM(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,a){return zp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function h4(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=IM(r.transform,i||null);s!=null&&(n===null&&(n=zn.empty()),n.set(r.field,s))}return n||null}function Ux(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tc(r,i,(s,o)=>l4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var To=class extends lc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},oi=class extends lc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function TM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function jx(t,e,n){let r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,u4(o,a,n[i]))}return r}function Bx(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,c4(s,o,e))}return r}var Xp=class extends lc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},xI=class extends lc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var MI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&d4(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=wM();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=CM(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,(n,r)=>Ux(n,r))&&tc(this.baseMutations,e.baseMutations,(n,r)=>Ux(n,r))}},NI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=function(){return r4}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var PI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var kI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var at,Ae;function f4(t){switch(t){default:return se();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function AM(t){if(t===void 0)return ri("GRPC error has no .code"),L.UNKNOWN;switch(t){case at.OK:return L.OK;case at.CANCELLED:return L.CANCELLED;case at.UNKNOWN:return L.UNKNOWN;case at.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case at.INTERNAL:return L.INTERNAL;case at.UNAVAILABLE:return L.UNAVAILABLE;case at.UNAUTHENTICATED:return L.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case at.NOT_FOUND:return L.NOT_FOUND;case at.ALREADY_EXISTS:return L.ALREADY_EXISTS;case at.PERMISSION_DENIED:return L.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case at.ABORTED:return L.ABORTED;case at.OUT_OF_RANGE:return L.OUT_OF_RANGE;case at.UNIMPLEMENTED:return L.UNIMPLEMENTED;case at.DATA_LOSS:return L.DATA_LOSS;default:return se()}}(Ae=at||(at={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";var $x=null;function p4(){return new TextEncoder}var g4=new hs([4294967295,4294967295],0);function Hx(t){let e=p4().encode(t),n=new Y_;return n.update(e),new Uint8Array(n.digest())}function qx(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hs([n,r],0),new hs([i,s],0)]}var OI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wo(`Invalid padding: ${n}`);if(r<0)throw new wo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=hs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(hs.fromNumber(r)));return i.compare(g4)===1&&(i=new hs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=Hx(e),[r,i]=qx(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=Hx(e),[r,i]=qx(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},wo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var eg=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,El.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(fe.min(),i,new Ye(xe),si(),be())}},El=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,be(),be(),be())}};var Xa=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},tg=class{constructor(e,n){this.targetId=e,this.me=n}},ng=class{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},rg=class{constructor(){this.fe=0,this.ge=Gx(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),n=be(),r=be();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new El(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Gx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},FI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=si(),this.qe=zx(),this.Qe=new Ye(xe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(AI(s))if(r===0){let o=new ne(s.path);this.Ue(n,o,Gn.newNoDocument(o,fe.min()))}else ke(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}$x?.et(function(p,g,_,I,M){var O,N,V,z,$,G;let le={localCacheCount:p,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},Q=g.unchangedNames;return Q&&(le.bloomFilter={applied:M===0,hashCount:(O=Q?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(z=(V=(N=Q?.bits)===null||N===void 0?void 0:N.bitmap)===null||V===void 0?void 0:V.length)!==null&&z!==void 0?z:0,padding:(G=($=Q?.bits)===null||$===void 0?void 0:$.padding)!==null&&G!==void 0?G:0,mightContain:T=>{var E;return(E=I?.mightContain(T))!==null&&E!==void 0&&E}}),le}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=ps(r).toUint8Array()}catch(u){if(u instanceof Yp)return ec("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new OI(o,i,s)}catch(u){return ec(u instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&AI(a.target)){let u=new ne(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Gn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=be();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new eg(e,n,this.Qe,this.ke,r);return this.ke=si(),this.qe=zx(),this.Qe=new Ye(xe),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ft(xe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function zx(){return new Ye(ne.comparator)}function Gx(){return new Ye(ne.comparator)}var m4={asc:"ASCENDING",desc:"DESCENDING"},y4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v4={and:"AND",or:"OR"},LI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function VI(t,e){return t.useProto3Json||Eg(e)?e:{value:e}}function ig(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function w4(t,e){return ig(t,e.toTimestamp())}function br(t){return ke(!!t),fe.fromTimestamp(function(n){let r=ii(n);return new xt(r.seconds,r.nanos)}(t))}function WE(t,e){return UI(t,e).canonicalString()}function UI(t,e){let n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RM(t){let e=Qe.fromString(t);return ke(kM(e)),e}function jI(t,e){return WE(t.databaseId,e.path)}function nI(t,e){let n=RM(e);if(n.get(1)!==t.databaseId.projectId)throw new J(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(MM(n))}function xM(t,e){return WE(t.databaseId,e)}function _4(t){let e=RM(t);return e.length===4?Qe.emptyPath():MM(e)}function BI(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MM(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Wx(t,e,n){return{name:jI(t,e),fields:n.value.mapValue.fields}}function I4(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(ke(p===void 0||typeof p=="string"),Lt.fromBase64String(p||"")):(ke(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Lt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){let p=d.code===void 0?L.UNKNOWN:AM(d.code);return new J(p,d.message||"")}(o);n=new ng(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=nI(t,r.document.name),s=br(r.document.updateTime),o=r.document.createTime?br(r.document.createTime):fe.min(),a=new zn({mapValue:{fields:r.document.fields}}),u=Gn.newFoundDocument(i,s,o,a),d=r.targetIds||[],p=r.removedTargetIds||[];n=new Xa(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=nI(t,r.document),s=r.readTime?br(r.readTime):fe.min(),o=Gn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Xa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=nI(t,r.document),s=r.removedTargetIds||[];n=new Xa([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new kI(i,s),a=r.targetId;n=new tg(a,o)}}return n}function E4(t,e){let n;if(e instanceof To)n={update:Wx(t,e.key,e.value)};else if(e instanceof Xp)n={delete:jI(t,e.key)};else if(e instanceof oi)n={update:Wx(t,e.key,e.data),updateMask:M4(e.fieldMask)};else{if(!(e instanceof xI))return se();n={verify:jI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof cc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Do)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Co)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof uc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:w4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function b4(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?br(i.updateTime):br(s);return o.isEqual(fe.min())&&(o=br(s)),new RI(o,i.transformResults||[])}(n,e))):[]}function D4(t,e){return{documents:[xM(t,e.path)]}}function C4(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xM(t,i);let s=function(d){if(d.length!==0)return PM(Cr.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:Ya(_.field),direction:S4(_.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=VI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function T4(t){let e=_4(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ke(r===1);let p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){let _=NM(g);return _ instanceof Cr&&dM(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(M){return new sc(Za(M.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(_))}(n.orderBy));let a=null;n.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,Eg(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,I=g.values||[];return new ic(I,_)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let _=!g.before,I=g.values||[];return new ic(I,_)}(n.endAt)),Zz(e,i,o,s,a,"F",u,d)}function A4(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Za(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Za(n.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Za(n.unaryFilter.field);return pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Za(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return pt.create(Za(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cr.create(n.compositeFilter.filters.map(r=>NM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function S4(t){return m4[t]}function R4(t){return y4[t]}function x4(t){return v4[t]}function Ya(t){return{fieldPath:t.canonicalString()}}function Za(t){return fn.fromServerFormat(t.fieldPath)}function PM(t){return t instanceof pt?function(n){if(n.op==="=="){if(Px(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(Nx(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Px(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(Nx(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:R4(n.op),value:n.value}}}(t):t instanceof Cr?function(n){let r=n.getFilters().map(i=>PM(i));return r.length===1?r[0]:{compositeFilter:{op:x4(n.op),filters:r}}}(t):se()}function M4(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var bl=class t{constructor(e,n,r,i,s=fe.min(),o=fe.min(),a=Lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var $I=class{constructor(e){this.ct=e}};function N4(t){let e=T4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?SI(e,e.limit,"L"):e}var sg=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(He(e.integerValue));else if("doubleValue"in e){let r=He(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),wl(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=ii(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ps(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?cM(e)?this.dt(n,Number.MAX_SAFE_INTEGER):aM(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):se()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(He(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ne.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};sg.vt=new sg;var HI=class{constructor(){this.un=new qI}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Eo.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}},qI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ft(Qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(Qe.comparator)).toArray()}};var xZ=new Uint8Array(0);var vr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(41943040,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);var Dl=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var zI=class{constructor(){this.changes=new gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var GI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var WI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vl(r.mutation,i,wr.empty(),xt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){let i=vo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=pl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=vo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=si(),o=yl(),a=function(){return yl()}();return n.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof oi)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),vl(p.mutation,d,p.mutation.getFieldMask(),xt.now())):o.set(d.key,wr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),n.forEach((d,p)=>{var g;return a.set(d,new GI(p,(g=o.get(d))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){let r=yl(),i=new Ye((o,a)=>o-a),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let p=r.get(u)||wr.empty();p=a.applyToLocalView(d,p),r.set(u,p);let g=(i.get(a.batchId)||be()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,g=wM();p.forEach(_=>{if(!s.has(_)){let I=CM(n.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Jz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(vo()),a=-1,u=s;return o.next(d=>U.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(p)?U.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{u=u.insert(p,_)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,be())).next(p=>({batchId:a,changes:vM(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=pl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=pl();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,u=>{let d=function(g,_){return new oc(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{let p=d.getKey();o.get(p)===null&&(o=o.insert(p,Gn.newInvalidDocument(p)))});let a=pl();return o.forEach((u,d)=>{let p=s.get(u);p!==void 0&&vl(p.mutation,d,wr.empty(),xt.now()),Dg(n,d)&&(a=a.insert(u,d))}),a})}};var KI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:br(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:N4(i.bundledQuery),readTime:br(i.readTime)}}(n)),U.resolve()}};var QI=class{constructor(){this.overlays=new Ye(ne.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){let r=vo();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){let i=vo(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((d,p)=>d-p),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=vo(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=vo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new PI(n,r));let s=this.Ir.get(n);s===void 0&&(s=be(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var YI=class{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}};var Cl=class{constructor(){this.Tr=new Ft(ct.Er),this.dr=new Ft(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ne(new Qe([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ne(new Qe([])),r=new ct(n,e),i=new ct(n,e+1),s=be();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ct=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||xe(e.wr,n.wr)}static Ar(e,n){return xe(e.wr,n.wr)||ne.comparator(e.key,n.key)}};var ZI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ft(ct.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new MI(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(xe);return n.forEach(i=>{let s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;ne.isDocumentKey(s)||(s=s.child(""));let o=new ct(new ne(s),0),a=new Ft(xe);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,i=>{let s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new ct(n,0),i=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var JI=class{constructor(e){this.Mr=e,this.docs=function(){return new Ye(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let r=si();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gn.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=si(),o=n.path,a=new ne(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||jz(Uz(p),r)<=0||(i.has(p.key)||Dg(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XI(this)}getSize(e){return U.resolve(this.size)}},XI=class extends zI{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var eE=class{constructor(e){this.persistence=e,this.Nr=new gs(n=>HE(n),qE),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Cl,this.targetCount=0,this.kr=Dl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}};var tE=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new sM(0),this.Kr=!1,this.Kr=!0,this.$r=new YI,this.referenceDelegate=e(this),this.Ur=new eE(this),this.indexManager=new HI,this.remoteDocumentCache=function(i){return new JI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new $I(n),this.Gr=new KI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new ZI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);let i=new nE(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},nE=class extends pI{constructor(e){super(),this.currentSequenceNumber=e}},rE=class t{constructor(e){this.persistence=e,this.Jr=new Cl,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{let i=ne.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,fe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var iE=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=be(),i=be();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var sE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var oE=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return oR()?8:$z(Et())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new sE;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(fl()<=Ee.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(fl()<=Ee.DEBUG&&W("QueryEngine","Query:",Qa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(fl()<=Ee.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):U.resolve())}Yi(e,n){if(Lx(n))return U.resolve(null);let r=Er(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=SI(n,null,"F"),r=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=be(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,a);return this.ns(n,d,o,u.readTime)?this.Yi(e,SI(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return Lx(n)||i.isEqual(fe.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?U.resolve(null):(fl()<=Ee.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qa(n)),this.rs(e,o,n,Vz(i,-1)).next(a=>a))})}ts(e,n){let r=new Ft(mM(e));return n.forEach((i,s)=>{Dg(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return fl()<=Ee.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Eo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var aE=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ye(xe),this._s=new gs(s=>HE(s),qE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function P4(t,e,n,r){return new aE(t,e,n,r)}function OM(t,e){return C(this,null,function*(){let n=oe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=be();for(let d of i){o.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of s){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})})}function k4(t,e){let n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let g=d.batch,_=g.keys(),I=U.resolve();return _.forEach(M=>{I=I.next(()=>p.getEntry(u,M)).next(O=>{let N=d.docVersions.get(M);ke(N!==null),O.version.compareTo(N)<0&&(g.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),p.addEntry(O)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=be();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function FM(t){let e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function O4(t,e){let n=oe(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((p,g)=>{let _=i.get(g);if(!_)return;a.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,g)));let I=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?I=I.withResumeToken(Lt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):p.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(p.resumeToken,r)),i=i.insert(g,I),function(O,N,V){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,I,p)&&a.push(n.Ur.updateTargetData(s,I))});let u=si(),d=be();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(F4(s,o,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(fe.min())){let p=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.os=i,s))}function F4(t,e,n){let r=be(),i=be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=si();return n.forEach((a,u)=>{let d=s.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(fe.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function L4(t,e){let n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function V4(t,e){let n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new bl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function cE(t,e,n){return C(this,null,function*(){let r=oe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Nl(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Kx(t,e,n){let r=oe(t),i=fe.min(),s=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){let g=oe(u),_=g._s.get(p);return _!==void 0?U.resolve(g.os.get(_)):g.Ur.getTargetData(d,p)}(r,o,Er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:fe.min(),n?s:be())).next(a=>(U4(r,e4(e),a),{documents:a,Ts:s})))}function U4(t,e,n){let r=t.us.get(e)||fe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var og=class{constructor(){this.activeTargetIds=o4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var uE=class{constructor(){this.so=new og,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new og,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var lE=class{_o(e){}shutdown(){}};var ag=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Hp=null;function rI(){return Hp===null?Hp=function(){return 268435456+Math.round(2147483648*Math.random())}():Hp++,"0x"+Hp.toString(16)}var j4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var dE=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ot="WebChannelConnection",hE=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=rI(),u=this.xo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,u,d,i).then(p=>(W("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw ec("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=j4[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=rI();return new Promise((o,a)=>{let u=new Z_;u.setWithCredentials(!0),u.listenOnce(J_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case hl.NO_ERROR:let p=u.getResponseJson();W(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case hl.TIMEOUT:W(Ot,`RPC '${e}' ${s} timed out`),a(new J(L.DEADLINE_EXCEEDED,"Request time out"));break;case hl.HTTP_ERROR:let g=u.getStatus();if(W(Ot,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let M=function(N){let V=N.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(V)>=0?V:L.UNKNOWN}(I.status);a(new J(M,I.message))}else a(new J(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new J(L.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{W(Ot,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);W(Ot,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=rI(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tI(),a=eI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let p=s.join("");W(Ot,`Creating RPC '${e}' stream ${i}: ${p}`,u);let g=o.createWebChannel(p,u),_=!1,I=!1,M=new dE({Io:N=>{I?W(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(_||(W(Ot,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),W(Ot,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},To:()=>g.close()}),O=(N,V,z)=>{N.listen(V,$=>{try{z($)}catch(G){setTimeout(()=>{throw G},0)}})};return O(g,Ka.EventType.OPEN,()=>{I||(W(Ot,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),O(g,Ka.EventType.CLOSE,()=>{I||(I=!0,W(Ot,`RPC '${e}' stream ${i} transport closed`),M.So())}),O(g,Ka.EventType.ERROR,N=>{I||(I=!0,ec(Ot,`RPC '${e}' stream ${i} transport errored:`,N),M.So(new J(L.UNAVAILABLE,"The operation could not be completed")))}),O(g,Ka.EventType.MESSAGE,N=>{var V;if(!I){let z=N.data[0];ke(!!z);let $=z,G=$.error||((V=$[0])===null||V===void 0?void 0:V.error);if(G){W(Ot,`RPC '${e}' stream ${i} received error:`,G);let le=G.status,Q=function(b){let A=at[b];if(A!==void 0)return AM(A)}(le),T=G.message;Q===void 0&&(Q=L.INTERNAL,T="Unknown error status: "+le+" with message "+G.message),I=!0,M.So(new J(Q,T)),g.close()}else W(Ot,`RPC '${e}' stream ${i} received:`,z),M.bo(z)}}),O(a,X_.STAT_EVENT,N=>{N.stat===Bp.PROXY?W(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Bp.NOPROXY&&W(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function iI(){return typeof document<"u"?document:null}function Cg(t){return new LI(t,!0)}var cg=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ug=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cg(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new J(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},fE=class extends ug{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=I4(this.serializer,e),r=function(s){if(!("targetChange"in s))return fe.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?br(o.readTime):fe.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=BI(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=AI(u)?{documents:D4(s,u)}:{query:C4(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SM(s,o.resumeToken);let d=VI(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=ig(s,o.snapshotVersion.toTimestamp());let d=VI(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=A4(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=BI(this.serializer),n.removeTarget=e,this.a_(n)}},pE=class extends ug{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=b4(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=BI(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>E4(this.serializer,r))};this.a_(n)}};var gE=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new J(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,UI(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(L.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,UI(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(L.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},mE=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ri(n),this.D_=!1):W("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var yE=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>C(this,null,function*(){Ao(this)&&(W("RemoteStore","Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let d=oe(u);d.L_.add(4),yield Pl(d),d.q_.set("Unknown"),d.L_.delete(4),yield Tg(d)})}(this))}))}),this.q_=new mE(r,i)}};function Tg(t){return C(this,null,function*(){if(Ao(t))for(let e of t.B_)yield e(!0)})}function Pl(t){return C(this,null,function*(){for(let e of t.B_)yield e(!1)})}function LM(t,e){let n=oe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ZE(n)?YE(n):gc(n).r_()&&QE(n,e))}function KE(t,e){let n=oe(t),r=gc(n);n.N_.delete(e),r.r_()&&VM(n,e),n.N_.size===0&&(r.r_()?r.o_():Ao(n)&&n.q_.set("Unknown"))}function QE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gc(t).A_(e)}function VM(t,e){t.Q_.xe(e),gc(t).R_(e)}function YE(t){t.Q_=new FI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),gc(t).start(),t.q_.v_()}function ZE(t){return Ao(t)&&!gc(t).n_()&&t.N_.size>0}function Ao(t){return oe(t).L_.size===0}function UM(t){t.Q_=void 0}function B4(t){return C(this,null,function*(){t.q_.set("Online")})}function $4(t){return C(this,null,function*(){t.N_.forEach((e,n)=>{QE(t,e)})})}function H4(t,e){return C(this,null,function*(){UM(t),ZE(t)?(t.q_.M_(e),YE(t)):t.q_.set("Unknown")})}function q4(t,e,n){return C(this,null,function*(){if(t.q_.set("Online"),e instanceof ng&&e.state===2&&e.cause)try{yield function(i,s){return C(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lg(t,r)}else if(e instanceof Xa?t.Q_.Ke(e):e instanceof tg?t.Q_.He(e):t.Q_.We(e),!n.isEqual(fe.min()))try{let r=yield FM(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=s.N_.get(d);p&&s.N_.set(d,p.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{let p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(Lt.EMPTY_BYTE_STRING,p.snapshotVersion)),VM(s,u);let g=new bl(p.target,u,d,p.sequenceNumber);QE(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){W("RemoteStore","Failed to raise snapshot:",r),yield lg(t,r)}})}function lg(t,e,n){return C(this,null,function*(){if(!Nl(e))throw e;t.L_.add(1),yield Pl(t),t.q_.set("Offline"),n||(n=()=>FM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){W("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Tg(t)}))})}function jM(t,e){return e().catch(n=>lg(t,n,e))}function Ag(t){return C(this,null,function*(){let e=oe(t),n=ms(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;z4(e);)try{let i=yield L4(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,G4(e,i)}catch(i){yield lg(e,i)}BM(e)&&$M(e)})}function z4(t){return Ao(t)&&t.O_.length<10}function G4(t,e){t.O_.push(e);let n=ms(t);n.r_()&&n.V_&&n.m_(e.mutations)}function BM(t){return Ao(t)&&!ms(t).n_()&&t.O_.length>0}function $M(t){ms(t).start()}function W4(t){return C(this,null,function*(){ms(t).p_()})}function K4(t){return C(this,null,function*(){let e=ms(t);for(let n of t.O_)e.m_(n.mutations)})}function Q4(t,e,n){return C(this,null,function*(){let r=t.O_.shift(),i=NI.from(r,e,n);yield jM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ag(t)})}function Y4(t,e){return C(this,null,function*(){e&&ms(t).V_&&(yield function(r,i){return C(this,null,function*(){if(function(o){return f4(o)&&o!==L.ABORTED}(i.code)){let s=r.O_.shift();ms(r).s_(),yield jM(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Ag(r)}})}(t,e)),BM(t)&&$M(t)})}function Qx(t,e){return C(this,null,function*(){let n=oe(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");let r=Ao(n);n.L_.add(3),yield Pl(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Tg(n)})}function Z4(t,e){return C(this,null,function*(){let n=oe(t);e?(n.L_.delete(2),yield Tg(n)):e||(n.L_.add(2),yield Pl(n),n.q_.set("Unknown"))})}function gc(t){return t.K_||(t.K_=function(n,r,i){let s=oe(n);return s.w_(),new fE(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:B4.bind(null,t),Ro:$4.bind(null,t),mo:H4.bind(null,t),d_:q4.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.K_.s_(),ZE(t)?YE(t):t.q_.set("Unknown")):(yield t.K_.stop(),UM(t))}))),t.K_}function ms(t){return t.U_||(t.U_=function(n,r,i){let s=oe(n);return s.w_(),new pE(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:W4.bind(null,t),mo:Y4.bind(null,t),f_:K4.bind(null,t),g_:Q4.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.U_.s_(),yield Ag(t)):(yield t.U_.stop(),t.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var vE=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function JE(t,e){if(ri("AsyncQueue",`${e}: ${t}`),Nl(t))return new J(L.UNAVAILABLE,`${e}: ${t}`);throw t}var dg=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=pl(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var hg=class{constructor(){this.W_=new Ye(ne.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},dc=class t{constructor(e,n,r,i,s,o,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,dg.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var wE=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},_E=class{constructor(){this.queries=Yx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=oe(n),s=i.queries;i.queries=Yx(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new J(L.ABORTED,"Firestore shutting down"))}};function Yx(){return new gs(t=>gM(t),bg)}function J4(t,e){return C(this,null,function*(){let n=oe(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new wE,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=JE(o,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&XE(n)})}function X4(t,e){return C(this,null,function*(){let n=oe(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function e5(t,e){let n=oe(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&XE(n)}function t5(t,e,n){let r=oe(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function XE(t){t.Y_.forEach(e=>{e.next()})}var IE,Zx;(Zx=IE||(IE={})).ea="default",Zx.Cache="cache";var EE=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==IE.Cache}};var fg=class{constructor(e){this.key=e}},pg=class{constructor(e){this.key=e}},bE=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=mM(e),this.Ra=new dg(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new hg,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{let _=i.get(p),I=Dg(this.query,g)?g:null,M=!!_&&this.mutatedKeys.has(_.key),O=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),N=!1;_&&I?_.data.isEqual(I.data)?M!==O&&(r.track({type:3,doc:I}),N=!0):this.ga(_,I)||(r.track({type:2,doc:I}),N=!0,(u&&this.Aa(I,u)>0||d&&this.Aa(I,d)<0)&&(a=!0)):!_&&I?(r.track({type:0,doc:I}),N=!0):_&&!I&&(r.track({type:1,doc:_}),N=!0,(u||d)&&(a=!0)),N&&(I?(o=o.add(I),s=O?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((p,g)=>function(I,M){let O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return O(I)-O(M)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new dc(this.query,e.Ra,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new pg(r))}),this.da.forEach(r=>{e.has(r)||n.push(new fg(r))}),n}ba(e){this.Ta=e.Ts,this.da=be();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return dc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},DE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},CE=class{constructor(e){this.key=e,this.va=!1}},TE=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new gs(a=>gM(a),bg),this.Ma=new Map,this.xa=new Set,this.Oa=new Ye(ne.comparator),this.Na=new Map,this.La=new Cl,this.Ba={},this.ka=new Map,this.qa=Dl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function n5(t,e,n=!0){return C(this,null,function*(){let r=KM(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield HM(r,e,n,!0),i})}function r5(t,e){return C(this,null,function*(){let n=KM(t);yield HM(n,e,!0,!1)})}function HM(t,e,n,r){return C(this,null,function*(){let i=yield V4(t.localStore,Er(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield i5(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&LM(t.remoteStore,i),a})}function i5(t,e,n,r,i){return C(this,null,function*(){t.Ka=(g,_,I)=>function(O,N,V,z){return C(this,null,function*(){let $=N.view.ma(V);$.ns&&($=yield Kx(O.localStore,N.query,!1).then(({documents:T})=>N.view.ma(T,$)));let G=z&&z.targetChanges.get(N.targetId),le=z&&z.targetMismatches.get(N.targetId)!=null,Q=N.view.applyChanges($,O.isPrimaryClient,G,le);return Xx(O,N.targetId,Q.wa),Q.snapshot})}(t,g,_,I);let s=yield Kx(t.localStore,e,!0),o=new bE(e,s.Ts),a=o.ma(s.documents),u=El.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(a,t.isPrimaryClient,u);Xx(t,n,d.wa);let p=new DE(e,n,o);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot})}function s5(t,e,n){return C(this,null,function*(){let r=oe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!bg(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield cE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&KE(r.remoteStore,i.targetId),AE(r,i.targetId)}).catch(Ml))):(AE(r,i.targetId),yield cE(r.localStore,i.targetId,!0))})}function o5(t,e){return C(this,null,function*(){let n=oe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),KE(n.remoteStore,r.targetId))})}function a5(t,e,n){return C(this,null,function*(){let r=p5(t);try{let i=yield function(o,a){let u=oe(o),d=xt.now(),p=a.reduce((I,M)=>I.add(M.key),be()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let M=si(),O=be();return u.cs.getEntries(I,p).next(N=>{M=N,M.forEach((V,z)=>{z.isValidDocument()||(O=O.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,M)).next(N=>{g=N;let V=[];for(let z of a){let $=h4(z,g.get(z.key).overlayedDocument);$!=null&&V.push(new oi(z.key,$,uM($.value.mapValue),_o.exists(!0)))}return u.mutationQueue.addMutationBatch(I,d,V,a)}).next(N=>{_=N;let V=N.applyToLocalDocumentSet(g,O);return u.documentOverlayCache.saveOverlays(I,N.batchId,V)})}).then(()=>({batchId:_.batchId,changes:vM(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Ye(xe)),d=d.insert(a,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),yield kl(r,i.changes),yield Ag(r.remoteStore)}catch(i){let s=JE(i,"Failed to persist write");n.reject(s)}})}function qM(t,e){return C(this,null,function*(){let n=oe(t);try{let r=yield O4(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ke(o.va):i.removedDocuments.size>0&&(ke(o.va),o.va=!1))}),yield kl(n,r,e)}catch(r){yield Ml(r)}})}function Jx(t,e,n){let r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=oe(o);u.onlineState=a;let d=!1;u.queries.forEach((p,g)=>{for(let _ of g.j_)_.Z_(a)&&(d=!0)}),d&&XE(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function c5(t,e,n){return C(this,null,function*(){let r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ye(ne.comparator);o=o.insert(s,Gn.newNoDocument(s,fe.min()));let a=be().add(s),u=new eg(fe.min(),new Map,new Ye(xe),o,a);yield qM(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),eb(r)}else yield cE(r.localStore,e,!1).then(()=>AE(r,e,n)).catch(Ml)})}function u5(t,e){return C(this,null,function*(){let n=oe(t),r=e.batch.batchId;try{let i=yield k4(n.localStore,e);GM(n,r,null),zM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield kl(n,i)}catch(i){yield Ml(i)}})}function l5(t,e,n){return C(this,null,function*(){let r=oe(t);try{let i=yield function(o,a){let u=oe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(g=>(ke(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);GM(r,e,n),zM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield kl(r,i)}catch(i){yield Ml(i)}})}function zM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function GM(t,e,n){let r=oe(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function AE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||WM(t,r)})}function WM(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(KE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),eb(t))}function Xx(t,e,n){for(let r of n)r instanceof fg?(t.La.addReference(r.key,e),d5(t,r)):r instanceof pg?(W("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||WM(t,r.key)):se()}function d5(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(W("SyncEngine","New document in limbo: "+n),t.xa.add(r),eb(t))}function eb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ne(Qe.fromString(e)),r=t.qa.next();t.Na.set(r,new CE(n)),t.Oa=t.Oa.insert(n,r),LM(t.remoteStore,new bl(Er(zE(n.path)),r,"TargetPurposeLimboResolution",sM.oe))}}function kl(t,e,n){return C(this,null,function*(){let r=oe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(p=n?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=iE.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return C(this,null,function*(){let p=oe(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>U.forEach(d,_=>U.forEach(_.$i,I=>p.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>U.forEach(_.Ui,I=>p.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!Nl(g))throw g;W("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let I=p.os.get(_),M=I.snapshotVersion,O=I.withLastLimboFreeSnapshotVersion(M);p.os=p.os.insert(_,O)}}})}(r.localStore,s))})}function h5(t,e){return C(this,null,function*(){let n=oe(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());let r=yield OM(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new J(L.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield kl(n,r.hs)}})}function f5(t,e){let n=oe(t),r=n.Na.get(e);if(r&&r.va)return be().add(r.key);{let i=be(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function KM(t){let e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c5.bind(null,e),e.Ca.d_=e5.bind(null,e.eventManager),e.Ca.$a=t5.bind(null,e.eventManager),e}function p5(t){let e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l5.bind(null,e),e}var eM=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return C(this,null,function*(){this.serializer=Cg(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return P4(this.persistence,new oE,n.initialUser,this.serializer)}Ga(n){return new tE(rE.Zr,this.serializer)}Wa(n){return new uE}terminate(){return C(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var g5=(()=>{class t{initialize(n,r){return C(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Jx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=h5.bind(null,this.syncEngine),yield Z4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new _E}()}createDatastore(n){let r=Cg(n.databaseInfo.databaseId),i=function(o){return new hE(o)}(n.databaseInfo);return function(o,a,u,d){return new gE(o,a,u,d)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,u){return new yE(i,s,o,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>Jx(this.syncEngine,r,0),function(){return ag.D()?new ag:new lE}())}createSyncEngine(n,r){return function(s,o,a,u,d,p,g){let _=new TE(s,o,a,u,d,p);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var n,r;yield function(s){return C(this,null,function*(){let o=oe(s);W("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Pl(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var SE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var RE=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=Wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>C(this,null,function*(){W("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=JE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function sI(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield OM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function tM(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield m5(t);W("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Qx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Qx(e.remoteStore,i)),t._onlineComponents=e})}function m5(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sI(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ec("Error using user provided cache. Falling back to memory cache: "+n),yield sI(t,new eM)}}else W("FirestoreClient","Using default OfflineComponentProvider"),yield sI(t,new eM);return t._offlineComponents})}function QM(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),yield tM(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),yield tM(t,new g5))),t._onlineComponents})}function y5(t){return QM(t).then(e=>e.syncEngine)}function v5(t){return C(this,null,function*(){let e=yield QM(t),n=e.eventManager;return n.onListen=n5.bind(null,e.syncEngine),n.onUnlisten=s5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=r5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=o5.bind(null,e.syncEngine),n})}function w5(t,e,n={}){let r=new _r;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(s,o,a,u,d){let p=new SE({next:_=>{p.Za(),o.enqueueAndForget(()=>X4(s,g));let I=_.docs.has(a);!I&&_.fromCache?d.reject(new J(L.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&u&&u.source==="server"?d.reject(new J(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new EE(zE(a.path),p,{includeMetadataChanges:!0,_a:!0});return J4(s,g)}(yield v5(t),t.asyncQueue,e,n,r)})),r.promise}function YM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var nM=new Map;function ZM(t,e,n){if(!n)throw new J(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _5(t,e,n,r){if(e===!0&&r===!0)throw new J(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rM(t){if(!ne.isDocumentKey(t))throw new J(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iM(t){if(ne.isDocumentKey(t))throw new J(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function gg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=tb(t);throw new J(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var mg=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},hc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oI;switch(r.type){case"firstParty":return new lI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=nM.get(n);r&&(W("ComponentProvider","Removing Datastore"),nM.delete(n),r.terminate())}(this),Promise.resolve()}};function JM(t,e,n,r={}){var i;let s=(t=gg(t,hc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=bt.MOCK_USER;else{a=mp(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new J(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new bt(d)}t._authCredentials=new aI(new Gp(a,u))}}var xE=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Cn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},fs=class t extends xE{constructor(e,n,r){super(e,n,zE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ne(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function XM(t,e,...n){if(t=Rt(t),ZM("collection","path",e),t instanceof hc){let r=Qe.fromString(e,...n);return iM(r),new fs(t,null,r)}{if(!(t instanceof Cn||t instanceof fs))throw new J(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Qe.fromString(e,...n));return iM(r),new fs(t.firestore,null,r)}}function nb(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=Wp.newId()),ZM("doc","path",e),t instanceof hc){let r=Qe.fromString(e,...n);return rM(r),new Cn(t,null,new ne(r))}{if(!(t instanceof Cn||t instanceof fs))throw new J(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Qe.fromString(e,...n));return rM(r),new Cn(t.firestore,t instanceof fs?t.converter:null,new ne(r))}}var yg=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new cg(this,"async_queue_retry"),this.Vu=()=>{let r=iI();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=iI();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=iI();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new _r;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Nl(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ri("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=vE.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Tl=class extends hc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new yg(e),this._firestoreClient=void 0,yield e}})}};function eN(t,e){let n=typeof t=="object"?t:ss(),r=typeof t=="string"?t:e||"(default)",i=co(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=gp("firestore");s&&JM(i,...s)}return i}function tN(t){if(t._terminated)throw new J(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||I5(t),t._firestoreClient}function I5(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,d,p){return new gI(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,YM(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new RE(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Al=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Lt.fromBase64String(e))}catch(n){throw new J(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Sl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var vg=class{constructor(e){this._methodName=e}};var Rl=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}};var xl=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var E5=/^__.*__$/,ME=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new To(e,this.data,n,this.fieldTransforms)}};function nN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}var NE=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return wg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(nN(this.Cu)&&E5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},PE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cg(e)}Qu(e,n,r,i=!1){return new NE({Cu:e,methodName:n,qu:r,path:fn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function b5(t){let e=t._freezeSettings(),n=Cg(t._databaseId);return new PE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function D5(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);oN("Data must be an object, but it was:",o,r);let a=iN(r,o),u,d;if(s.merge)u=new wr(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let p=[];for(let g of s.mergeFields){let _=C5(e,g,n);if(!o.contains(_))throw new J(L.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);A5(p,_)||p.push(_)}u=new wr(p),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new ME(new zn(a),u,d)}function rN(t,e){if(sN(t=Rt(t)))return oN("Unsupported field value:",e,t),iN(t,e);if(t instanceof vg)return function(r,i){if(!nN(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=rN(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return a4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=xt.fromDate(r);return{timestampValue:ig(i.serializer,s)}}if(r instanceof xt){let s=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ig(i.serializer,s)}}if(r instanceof Rl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Al)return{bytesValue:SM(i.serializer,r._byteString)};if(r instanceof Cn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:WE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xl)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return GE(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${tb(r)}`)}(t,e)}function iN(t,e){let n={};return oM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pc(t,(r,i)=>{let s=rN(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function sN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof Rl||t instanceof Al||t instanceof Cn||t instanceof vg||t instanceof xl)}function oN(t,e,n){if(!sN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=tb(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function C5(t,e,n){if((e=Rt(e))instanceof Sl)return e._internalPath;if(typeof e=="string")return aN(t,e);throw wg("Field path arguments must be of type string or ",t,!1,void 0,n)}var T5=new RegExp("[~\\*/\\[\\]]");function aN(t,e,n){if(e.search(T5)>=0)throw wg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sl(...e.split("."))._internalPath}catch{throw wg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wg(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new J(L.INVALID_ARGUMENT,a+t+u)}function A5(t,e){return t.some(n=>n.isEqual(e))}var _g=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new kE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(cN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},kE=class extends _g{data(){return super.data()}};function cN(t,e){return typeof e=="string"?aN(t,e):e instanceof Sl?e._internalPath:e._delegate._internalPath}var OE=class{convertValue(e,n="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return pc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>He(o.doubleValue));return new xl(s)}convertGeoPoint(e){return new Rl(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=BE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){let n=ii(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Qe.fromString(e);ke(kM(r));let i=new Zp(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||ri(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function S5(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var FE=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ig=class extends _g{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new LE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(cN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},LE=class extends Ig{data(e={}){return super.data(e)}};function uN(t){t=gg(t,Cn);let e=gg(t.firestore,Tl);return w5(tN(e),t._key).then(n=>x5(e,t,n))}var VE=class extends OE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Al(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}};function lN(t,e){let n=gg(t.firestore,Tl),r=nb(t),i=S5(t.converter,e);return R5(n,[D5(b5(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_o.exists(!1))]).then(()=>r)}function R5(t,e){return function(r,i){let s=new _r;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return a5(yield y5(r),i,s)})),s.promise}(tN(t),e)}function x5(t,e,n){let r=n.docs.get(e._key),i=new VE(t);return new Ig(t,i,e._key,r,new FE(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){fc=i})(gr),pr(new Xt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Tl(new cI(r.getProvider("auth-internal")),new hI(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new J(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zp(d.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$e(Sx,"4.7.3",e),$e(Sx,"4.7.3","esm2017")})();var ai=class{constructor(e){return e}},dN="firestore",rb=class{constructor(){return lo(dN)}};var ib=new q("angularfire2.firestore-instances");function M5(t,e){let n=za(dN,t,e);return n&&new ai(n)}function N5(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ai(r)}}var P5={provide:rb,deps:[[new st,ib]]},k5={provide:ai,useFactory:M5,deps:[[new st,ib],qn]};function hN(t,...e){return $e("angularfire",Zr.full,"fst"),Pt([k5,P5,{provide:ib,useFactory:N5(t),multi:!0,deps:[Te,it,as,Jr,[new st,yo],[new st,os],...e]}])}var Sg=Ht(lN,!0);var Rg=Ht(XM,!0);var fN=Ht(nb,!0);var pN=Ht(uN,!0);var gN=Ht(eN,!0);var ab=Ab(ob());var mc=class t{constructor(e){this.auth=e;this.auth.onAuthStateChanged(n=>{n?(this.currentUser=n,this.isLoggedInEmitter.emit(!0)):(this.currentUser=null,this.isLoggedInEmitter.emit(!1))})}isLoggedInEmitter=new Be;currentUser=null;login(e,n){return Dx(this.auth,e,n).then(r=>(this.isLoggedInEmitter.emit(!0),r))}registro(e,n){return Ex(this.auth,e,n).then(r=>(this.isLoggedInEmitter.emit(!0),r))}logout(){return Cx(this.auth).then(()=>{this.isLoggedInEmitter.emit(!1),this.currentUser=null})}getCurrentUser(){return this.currentUser}static \u0275fac=function(n){return new(n||t)(Z(mo))};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})};var O5=()=>["/registro"];function F5(t,e){t&1&&(X(0,"div"),ue(1,"El campo email es requerido"),te())}function L5(t,e){t&1&&(X(0,"div"),ue(1,"Formato de email inv\xE1lido."),te())}function V5(t,e){if(t&1&&(X(0,"div",11),Br(1,F5,2,0,"div",12)(2,L5,2,0,"div",12),te()),t&2){let n,r,i=Wi();Ke(),_t("ngIf",(n=i.loginForm.get("email"))==null||n.errors==null?null:n.errors.required),Ke(),_t("ngIf",(r=i.loginForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function U5(t,e){t&1&&(X(0,"div"),ue(1,"Contrase\xF1a requerida."),te())}function j5(t,e){t&1&&(X(0,"div"),ue(1,"Largo m\xEDnimo 6 caracteres."),te())}function B5(t,e){if(t&1&&(X(0,"div",11),Br(1,U5,2,0,"div",12)(2,j5,2,0,"div",12),te()),t&2){let n,r,i=Wi();Ke(),_t("ngIf",(n=i.loginForm.get("password"))==null||n.errors==null?null:n.errors.required),Ke(),_t("ngIf",(r=i.loginForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}function $5(t,e){if(t&1&&(X(0,"div",13)(1,"p"),ue(2),te()()),t&2){let n=Wi();Ke(2),mu(n.msjError)}}var xg=class t{constructor(e,n,r,i){this.router=e;this.fb=n;this.firestore=r;this.authService=i;this.loginForm=this.fb.group({email:["",[ft.required,ft.email]],password:["",[ft.required,ft.minLength(6)]]})}loginForm;flagError=!1;msjError="";autocompletarLogin(){this.loginForm.patchValue({email:"admin@test.com",password:"admin1234"})}Login(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}let e=this.loginForm.get("email")?.value,n=this.loginForm.get("password")?.value;this.authService.login(e,n).then(r=>{let i=r.user,s=fN(this.firestore,`usuarios/${i.uid}`);return pN(s).then(o=>{if(!o.exists())throw new Error("Usuario no encontrado en la base de datos.");let a=o.data();if(a.tipoUsuario==="especialista"&&!a.aprobado)throw new Error("Tu cuenta de especialista no ha sido aprobada por el administrador.");let u=Rg(this.firestore,"logins");return Sg(u,{fecha:new Date,email:e})})}).then(()=>{ab.default.fire({title:"Bienvenid@!",text:"Has iniciado sesi\xF3n correctamente",icon:"success",customClass:{popup:"alert-popup",title:"alert-titulo",confirmButton:"alert-boton"}}).then(()=>{this.router.navigate(["/home"])})}).catch(r=>{console.error("Error en el login:",r);let i=r.message||"Error desconocido al iniciar sesi\xF3n";switch(r.code){case"auth/wrong-password":i="Contrase\xF1a incorrecta";break;case"auth/invalid-credential":i="Credenciales inv\xE1lidas";break;case"auth/user-not-found":i="Usuario no encontrado";break;case"auth/invalid-email":i="Email inv\xE1lido";break}ab.default.fire({icon:"error",title:"Error de Login",text:i,customClass:{popup:"alert-popup",title:"alert-titulo-error",confirmButton:"alert-boton"}})})}static \u0275fac=function(n){return new(n||t)(ce(Jt),ce(dp),ce(ai),ce(mc))};static \u0275cmp=wn({type:t,selectors:[["app-login"]],standalone:!0,features:[En],decls:21,vars:7,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["for","email"],["type","text","formControlName","email","id","email","required",""],["class","error",4,"ngIf"],["for","password"],["type","password","formControlName","password","id","password","required",""],["type","submit",3,"disabled"],["type","button",3,"click"],["class","error-message",4,"ngIf"],[3,"routerLink"],[1,"error"],[4,"ngIf"],[1,"error-message"]],template:function(n,r){if(n&1&&(X(0,"div",0)(1,"form",1),St("ngSubmit",function(){return r.Login()}),X(2,"h2"),ue(3,"Inicie Sesi\xF3n"),te(),X(4,"label",2),ue(5,"Email:"),te(),ot(6,"input",3),Br(7,V5,3,2,"div",4),X(8,"label",5),ue(9,"Contrase\xF1a:"),te(),ot(10,"input",6),Br(11,B5,3,2,"div",4),X(12,"button",7),ue(13,"Ingresar"),te(),X(14,"button",8),St("click",function(){return r.autocompletarLogin()}),ue(15,"Autocompletar"),te()(),Br(16,$5,3,1,"div",9),X(17,"p"),ue(18,"Registrate "),X(19,"a",10),ue(20,"aqui"),te()()()),n&2){let i,s;Ke(),_t("formGroup",r.loginForm),Ke(6),_t("ngIf",((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched)),Ke(4),_t("ngIf",((s=r.loginForm.get("password"))==null?null:s.invalid)&&((s=r.loginForm.get("password"))==null?null:s.touched)),Ke(),_t("disabled",r.loginForm.invalid),Ke(4),_t("ngIf",r.flagError),Ke(3),_t("routerLink",ff(6,O5))}},dependencies:[hp,lp,Ba,ap,cp,Xu,Zu,Ju,Fa,Xi,Gr,_f],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#7e98f4,#ebb3b3)}.login-container[_ngcontent-%COMP%]{width:300px;font-family:system-ui;padding:20px;border:2px solid #000000;border-radius:10px;box-shadow:0 2px 10px #0000001a;background:linear-gradient(135deg,#d5e3fa,#bfb3f2)}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:8px;margin:10px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box;font-family:inherit}button[_ngcontent-%COMP%]{background-color:#ac57b1;color:#fff;padding:14px 20px;margin:8px 0;border:none;border-radius:20px;cursor:pointer;width:100%;font-family:inherit}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.error[_ngcontent-%COMP%]{color:red;font-size:12px}"]})};var Mg=Ab(ob());var H5=()=>["/login"];function q5(t,e){if(t&1){let n=bv();X(0,"div")(1,"label",22),ue(2,"Obra Social"),te(),ot(3,"input",23),X(4,"label",24),ue(5,"Imagen 1:"),te(),X(6,"input",25),St("change",function(i){Zh(n);let s=Wi();return Jh(s.agregarImagen(i))}),te(),X(7,"label",26),ue(8,"Imagen 2:"),te(),X(9,"input",25),St("change",function(i){Zh(n);let s=Wi();return Jh(s.agregarImagen(i))}),te()()}}function z5(t,e){if(t&1){let n=bv();X(0,"div")(1,"label",27),ue(2,"Especialidad"),te(),ot(3,"input",28),X(4,"label",29),ue(5,"Nueva Especialidad (Opcional)"),te(),ot(6,"input",30),X(7,"label",31),ue(8,"Imagen de Perfil:"),te(),X(9,"input",25),St("change",function(i){Zh(n);let s=Wi();return Jh(s.agregarImagen(i))}),te()()}}var Ng=class t{constructor(e,n,r,i){this.fb=e;this.authService=n;this.router=r;this.firestore=i}registroForm;tipoUsuario="paciente";imgFile1Label="";imgFile2Label="";ngOnInit(){this.registroForm=this.fb.group({tipoUsuario:["paciente"],nombre:["",[ft.required]],apellido:["",[ft.required]],edad:["",[ft.required,ft.min(0)]],dni:["",[ft.required,ft.pattern(/^\d+$/)]],obraSocial:[""],especialidad:[""],email:["",[ft.required,ft.email]],password:["",[ft.required,ft.minLength(6)]],imagenes:this.fb.array([],[ft.required])})}setTipoUsuario(e){this.tipoUsuario=e,this.registroForm.get("tipoUsuario")?.setValue(e)}get imagenes(){return this.registroForm.get("imagenes")}agregarImagen(e){let n=e.target.files[0];if(!n||!n.type.startsWith("image")){Mg.default.fire("Oops...","Debes elegir un archivo de tipo imagen.","error");return}e.target.id==="img1"?(this.imgFile1Label=n.name,this.imagenes.push(this.fb.control(n))):e.target.id==="img2"&&(this.imgFile2Label=n.name,this.imagenes.push(this.fb.control(n)))}onSubmit(){if(this.registroForm.invalid){this.registroForm.markAllAsTouched();return}let e=this.registroForm.value;this.authService.registro(e.email,e.password).then(n=>{let r=n.user;if(!r){console.error("El objeto user no est\xE1 definido.");return}let i=Rg(this.firestore,"usuarios"),s={uid:r.uid,tipoUsuario:e.tipoUsuario,nombre:e.nombre,apellido:e.apellido,edad:e.edad,dni:e.dni,obraSocial:e.tipoUsuario==="paciente"?e.obraSocial:null,especialidad:e.tipoUsuario==="especialista"?e.especialidad:null,email:e.email,aprobado:e.tipoUsuario!=="especialista",fechaRegistro:new Date};return Sg(i,s).catch(o=>{throw console.error("Error al guardar en Firestore:",o),o})}).then(()=>{Mg.default.fire({title:"Registro exitoso",text:"El usuario ha sido registrado con \xE9xito.",icon:"success"}).then(()=>{this.router.navigate(["/home"])})}).catch(n=>{console.error("Error general:",n);let r=this.obtenerMensajeDeError(n.code);Mg.default.fire({icon:"error",title:"Error de Registro",text:r})})}obtenerMensajeDeError(e){switch(e){case"auth/invalid-email":return"El email es inv\xE1lido";case"auth/email-already-in-use":return"El email ya est\xE1 en uso";case"auth/weak-password":return"La contrase\xF1a es muy d\xE9bil. Debe tener al menos 6 caracteres";default:return"Ocurri\xF3 un error desconocido"}}static \u0275fac=function(n){return new(n||t)(ce(dp),ce(mc),ce(Jt),ce(ai))};static \u0275cmp=wn({type:t,selectors:[["app-register"]],standalone:!0,features:[En],decls:37,vars:10,consts:[[1,"register-container"],[3,"ngSubmit","formGroup"],["for","tipoUsuario"],[1,"tipo-usuario-buttons"],["type","button",3,"click"],["src","assets/paciente.png","alt","Paciente"],["src","assets/doctor.png","alt","Especialista"],["for","nombre"],["type","text","formControlName","nombre","id","nombre","required",""],["for","apellido"],["type","text","formControlName","apellido","id","apellido","required",""],["for","edad"],["type","number","formControlName","edad","id","edad","required",""],["for","dni"],["type","text","formControlName","dni","id","dni","required",""],[4,"ngIf"],["for","email"],["type","email","formControlName","email","id","email","required",""],["for","password"],["type","password","formControlName","password","id","password","required",""],["type","submit",3,"disabled"],[3,"routerLink"],["for","obraSocial"],["type","text","formControlName","obraSocial","id","obraSocial"],["for","img1"],["type","file","required","",3,"change"],["for","img2"],["for","especialidad"],["type","text","formControlName","especialidad","id","especialidad"],["for","especialidadExtra"],["type","text","formControlName","especialidadExtra","id","especialidadExtra","placeholder","Agregar especialidad"],["for","img"]],template:function(n,r){if(n&1&&(X(0,"div",0)(1,"form",1),St("ngSubmit",function(){return r.onSubmit()}),X(2,"h2"),ue(3,"Registro"),te(),X(4,"label",2),ue(5,"Tipo de usuario"),te(),X(6,"div",3)(7,"button",4),St("click",function(){return r.setTipoUsuario("paciente")}),ot(8,"img",5),te(),X(9,"button",4),St("click",function(){return r.setTipoUsuario("especialista")}),ot(10,"img",6),te()(),X(11,"label",7),ue(12,"Nombre"),te(),ot(13,"input",8),X(14,"label",9),ue(15,"Apellido"),te(),ot(16,"input",10),X(17,"label",11),ue(18,"Edad"),te(),ot(19,"input",12),X(20,"label",13),ue(21,"DNI"),te(),ot(22,"input",14),Br(23,q5,10,0,"div",15)(24,z5,10,0,"div",15),X(25,"label",16),ue(26,"Email"),te(),ot(27,"input",17),X(28,"label",18),ue(29,"Contrase\xF1a"),te(),ot(30,"input",19),X(31,"button",20),ue(32,"Registrarse"),te()(),X(33,"p"),ue(34,"\xBFYa tienes una cuenta? "),X(35,"a",21),ue(36,"Iniciar sesi\xF3n aqu\xED"),te()()()),n&2){let i,s;Ke(),_t("formGroup",r.registroForm),Ke(6),Zs("selected",((i=r.registroForm.get("tipoUsuario"))==null?null:i.value)==="paciente"),Ke(2),Zs("selected",((s=r.registroForm.get("tipoUsuario"))==null?null:s.value)==="especialista"),Ke(14),_t("ngIf",r.tipoUsuario==="paciente"),Ke(),_t("ngIf",r.tipoUsuario==="especialista"),Ke(7),_t("disabled",r.registroForm.invalid),Ke(4),_t("routerLink",ff(9,H5))}},dependencies:[hp,lp,Ba,Uw,ap,cp,Xu,Zu,Ju,Gr,_f,Fa,Xi],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#7e98f4,#ebb3b3);padding:20px;box-sizing:border-box;overflow:hidden}.register-container[_ngcontent-%COMP%]{height:550px;width:100%;max-width:400px;font-family:system-ui;padding:20px;border:2px solid #000000;border-radius:10px;box-shadow:0 2px 10px #0000001a;background:linear-gradient(135deg,#d5e3fa,#bfb3f2);overflow-y:auto;max-height:90vh;margin-top:50px}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:block;font-size:16px;margin-bottom:8px;color:#333}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;margin-bottom:15px;display:block;box-sizing:border-box;padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{background-color:#4c5baf;color:#fff;padding:14px 20px;margin:8px 0;border:none;border-radius:10px;cursor:pointer;width:100%;font-family:inherit}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}@media (max-height: 600px){.register-container[_ngcontent-%COMP%]{padding:10px;max-height:80vh}}.tipo-usuario-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:20px}.tipo-usuario-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;cursor:pointer;padding:10px;border-radius:50%;transition:transform .2s}.tipo-usuario-buttons[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border:2px solid #4c5baf;border-radius:50%}.tipo-usuario-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.tipo-usuario-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}"]})};var vN=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Kf},{path:"ingresar",component:xg},{path:"registro",component:Ng},{path:"**",component:Yf}];var DN="firebasestorage.googleapis.com",G5="storageBucket",W5=2*60*1e3,K5=10*60*1e3;var Ar=class t extends $t{constructor(e,n,r=0){super(cb(e),`Firebase Storage: ${n} (${cb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ui=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(ui||{});function cb(t){return"storage/"+t}function Q5(){let t="An unknown error occurred, please check the error payload for server response.";return new Ar(ui.UNKNOWN,t)}function Y5(){return new Ar(ui.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Z5(){return new Ar(ui.CANCELED,"User canceled the upload/download.")}function J5(t){return new Ar(ui.INVALID_URL,"Invalid URL '"+t+"'.")}function X5(t){return new Ar(ui.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wN(t){return new Ar(ui.INVALID_ARGUMENT,t)}function CN(){return new Ar(ui.APP_DELETED,"The Firebase app was deleted.")}function eG(t){return new Ar(ui.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var ci=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw X5(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function d(G){G.path_=decodeURIComponent(G.path)}let p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",I=new RegExp(`^https?://${g}/${p}/b/${i}/o${_}`,"i"),M={bucket:1,path:3},O=n===DN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",V=new RegExp(`^https?://${O}/${i}/${N}`,"i"),$=[{regex:a,indices:u,postModify:s},{regex:I,indices:M,postModify:d},{regex:V,indices:{bucket:1,path:2},postModify:d}];for(let G=0;G<$.length;G++){let le=$[G],Q=le.regex.exec(e);if(Q){let T=Q[le.indices.bucket],E=Q[le.indices.path];E||(E=""),r=new t(T,E),le.postModify(r);break}}if(r==null)throw J5(e);return r}},ub=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function tG(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let d=!1;function p(...N){d||(d=!0,e.apply(null,N))}function g(N){i=setTimeout(()=>{i=null,t(I,u())},N)}function _(){s&&clearTimeout(s)}function I(N,...V){if(d){_();return}if(N){_(),p.call(null,N,...V);return}if(u()||o){_(),p.call(null,N,...V);return}r<64&&(r*=2);let $;a===1?(a=2,$=0):$=(r+Math.random())*1e3,g($)}let M=!1;function O(N){M||(M=!0,_(),!d&&(i!==null?(N||(a=2),clearTimeout(i),g(0)):N||(a=1)))}return g(0),s=setTimeout(()=>{o=!0,O(!0)},n),O}function nG(t){t(!1)}function rG(t){return t!==void 0}function _N(t,e,n,r){if(r<e)throw wN(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw wN(`Invalid value for '${t}'. Expected ${n} or less.`)}function iG(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var lb=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(lb||{});function sG(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var db=class{constructor(e,n,r,i,s,o,a,u,d,p,g,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,M)=>{this.resolve_=I,this.reject_=M,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new yc(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let u=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===lb.NO_ERROR,u=s.getStatus();if(!a||sG(u,this.additionalRetryCodes_)&&this.retry){let p=s.getErrorCode()===lb.ABORT;r(!1,new yc(!1,null,p));return}let d=this.successCodes_.indexOf(u)!==-1;r(!0,new yc(d,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());rG(u)?s(u):s()}catch(u){o(u)}else if(a!==null){let u=Q5();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){let u=this.appDelete_?CN():Z5();o(u)}else{let u=Y5();o(u)}};this.canceled_?n(!1,new yc(!1,null,!0)):this.backoffId_=tG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},yc=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function oG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function aG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function uG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function lG(t,e,n,r,i,s,o=!0){let a=iG(t.urlParams),u=t.url+a,d=Object.assign({},t.headers);return cG(d,e),oG(d,n),aG(d,s),uG(d,r),new db(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function dG(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function hG(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var OX=256*1024;var hb=class t{constructor(e,n){this._service=e,n instanceof ci?this._location=n:this._location=ci.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hG(this._location.path)}get storage(){return this._service}get parent(){let e=dG(this._location.path);if(e===null)return null;let n=new ci(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw eG(e)}};function IN(t,e){let n=e?.[G5];return n==null?null:ci.makeFromBucketSpec(n,t)}function fG(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:mp(i,t.app.options.projectId))}var fb=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=DN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=W5,this._maxUploadRetryTime=K5,this._requests=new Set,i!=null?this._bucket=ci.makeFromBucketSpec(i,this._host):this._bucket=IN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ci.makeFromBucketSpec(this._url,e):this._bucket=IN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_N("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_N("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return C(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return C(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hb(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new ub(CN());{let o=lG(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return C(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},EN="@firebase/storage",bN="0.13.2";var TN="storage";function AN(t=ss(),e){t=Rt(t);let r=co(t,TN).getImmediate({identifier:e}),i=gp("storage");return i&&SN(r,...i),r}function SN(t,e,n,r={}){fG(t,e,n,r)}function pG(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fb(n,r,i,e,gr)}function gG(){pr(new Xt(TN,pG,"PUBLIC").setMultipleInstances(!0)),$e(EN,bN,""),$e(EN,bN,"esm2017")}gG();var Ol=class{constructor(e){return e}},RN="storage",pb=class{constructor(){return lo(RN)}};var gb=new q("angularfire2.storage-instances");function mG(t,e){let n=za(RN,t,e);return n&&new Ol(n)}function yG(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ol(r)}}var vG={provide:pb,deps:[[new st,gb]]},wG={provide:Ol,useFactory:mG,deps:[[new st,gb],qn]};function xN(t,...e){return $e("angularfire",Zr.full,"gcs"),Pt([wG,vG,{provide:gb,useFactory:yG(t),multi:!0,deps:[Te,it,as,Jr,[new st,yo],[new st,os],...e]}])}var MN=Ht(AN,!0);var _G={apiKey:"AIzaSyAA03qxSOen5q0quwYEfU9Oqu55H0wgsho",authDomain:"labiv-tp-final-56381.firebaseapp.com",projectId:"labiv-tp-final-56381",storageBucket:"labiv-tp-final-56381.firebasestorage.app",messagingSenderId:"408083825602",appId:"1:408083825602:web:b214743e886a4cf6fa4c5b"},NN={providers:[LT({eventCoalescing:!0}),mS(vN),TA(),DR(()=>CR(_G)),Ix(()=>bx()),hN(()=>gN()),xN(()=>MN()),gA()]};var Pg=class t{title="labiv-tp-final";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=wn({type:t,selectors:[["app-root"]],standalone:!0,features:[En],decls:12,vars:0,consts:[[1,"navbar"],["routerLink","/home","routerLinkActive","active"],["routerLink","/ingresar","routerLinkActive","active"],["routerLink","/registro","routerLinkActive","active"]],template:function(n,r){n&1&&(X(0,"nav",0)(1,"ul")(2,"li")(3,"a",1),ue(4,"Home"),te()(),X(5,"li")(6,"a",2),ue(7,"Ingresar"),te()(),X(8,"li")(9,"a",3),ue(10,"Registrarse"),te()()()(),ot(11,"router-outlet"))},dependencies:[Ew,Xi,pS,Gr],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;margin:0;padding:0}.navbar[_ngcontent-%COMP%]{background-color:#333;padding:10px;position:fixed;top:0;left:0;width:100%;z-index:100}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;display:flex}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:20px}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:8px 16px;display:block}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .active[_ngcontent-%COMP%]{background-color:#575757;border-radius:5px}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:stretch;height:calc(100vh - 60px);margin-top:60px;background-color:inherit;width:100%;overflow:hidden}router-outlet[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;overflow:hidden}.logout[_ngcontent-%COMP%]{margin-left:auto}"]})};DA(Pg,NN).catch(t=>console.error(t));
